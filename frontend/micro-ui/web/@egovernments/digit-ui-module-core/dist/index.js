function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),n=e(t),r=require("react-query"),i=require("react-redux"),o=require("react-router-dom"),l=require("react-i18next"),a=require("@egovernments/digit-ui-react-components"),u=e(require("react-tooltip")),s=require("redux"),c=e(require("redux-thunk"));const d=(e,t,n)=>{const r=null==e?void 0:e[""+t];r&&r.map(e=>{e.link=e.navigationURL,e.i18nKey=n(e.name)});const i={links:null==r?void 0:r.reverse(),header:Digit.Utils.locale.getTransformedLocale("ACTION_TEST_"+t),iconName:"CITIZEN_"+t+"_ICON"};return"FSM"===t&&[{role:"FSM_DSO",from:"/digit-ui/citizen/fsm/dso-dashboard",dashoardLink:"CS_LINK_DSO_DASHBOARD",loginLink:"CS_LINK_LOGIN_DSO"}].map(e=>{var t,r;let{role:o,from:l,loginLink:a,dashoardLink:u}=e;Digit.UserService.hasAccess(o)?null==i||null===(t=i.links)||void 0===t||t.push({link:l,i18nKey:n(u)}):null==i||null===(r=i.links)||void 0===r||r.push({link:"/digit-ui/citizen/login",state:{role:"FSM_DSO",from:l},i18nKey:n(a)})}),i},f=e=>{let{modules:t,getCitizenMenu:r,fetchedCitizen:i,isLoading:o}=e;const u=[t.filter(e=>{let{code:t}=e;return"Payment"===t})[0],...t.filter(e=>{let{code:t}=e;return"Payment"!==t})],{t:s}=l.useTranslation();return o?n.createElement(a.Loader,null):n.createElement(n.Fragment,null,n.createElement("div",{className:"citizen-all-services-wrapper"},n.createElement(a.BackButton,null),n.createElement("div",{className:"citizenAllServiceGrid",style:{display:"flex",flexDirection:"column",justifyContent:"center"}},u.filter(e=>e).map((e,t)=>{var o,l;let u,{code:c}=e;var f,m,p,v;return i&&(u=i?d(r,c,s):void 0),(null===(o=u)||void 0===o||null===(l=o.links)||void 0===l?void 0:l.length)>0?n.createElement(a.CitizenHomeCard,{header:s(null===(f=u)||void 0===f?void 0:f.header),links:null===(m=u)||void 0===m||null===(p=m.links)||void 0===p||null===(v=p.filter(e=>null==e?void 0:e.link))||void 0===v?void 0:v.sort((e,t)=>(null==e?void 0:e.orderNumber)-(null==t?void 0:t.orderNumber)),Icon:()=>(e=>{switch(e){case"PT":return n.createElement(a.PTIcon,{className:"fill-path-primary-main"});case"WS":return n.createElement(a.WSICon,{className:"fill-path-primary-main"});case"FSM":return n.createElement(a.FSMIcon,{className:"fill-path-primary-main"});case"MCollect":return n.createElement(a.MCollectIcon,{className:"fill-path-primary-main"});case"PGR":return n.createElement(a.PGRIcon,{className:"fill-path-primary-main"});case"TL":return n.createElement(a.TLIcon,{className:"fill-path-primary-main"});case"OBPS":return n.createElement(a.OBPSIcon,{className:"fill-path-primary-main"});case"Bills":return n.createElement(a.BillsIcon,{className:"fill-path-primary-main"});default:return n.createElement(a.PTIcon,{className:"fill-path-primary-main"})}})(c),Info:"OBPS"===c?()=>n.createElement(a.CitizenInfoLabel,{style:{margin:"0px",padding:"10px"},info:s("CS_FILE_APPLICATION_INFO_LABEL"),text:s("BPA_CITIZEN_HOME_STAKEHOLDER_INCLUDES_INFO_LABEL")}):null,isInfo:"OBPS"===c}):n.createElement(n.Fragment,null)}))))},m=e=>{let{modules:t}=e;return window.Digit.SessionStorage.get("PT_CREATE_EMP_TRADE_NEW_FORM")&&window.Digit.SessionStorage.set("PT_CREATE_EMP_TRADE_NEW_FORM",{}),n.createElement("div",{className:"employee-app-container"},n.createElement("div",{className:"ground-container moduleCardWrapper gridModuleWrapper"},t.map((e,t)=>{let{code:r}=e;const i=Digit.ComponentRegistryService.getComponent(r+"Card")||(()=>n.createElement(n.Fragment,null));return n.createElement(i,{key:t})})))},p=e=>{let{userType:t,modules:r,getCitizenMenu:i,fetchedCitizen:o,isLoading:l}=e;return"citizen"===t?n.createElement(f,{modules:r,getCitizenMenu:i,fetchedCitizen:o,isLoading:l}):n.createElement(m,{modules:r})},v=function(){function e(){}return e.prototype.then=function(t,n){const r=new e,i=this.s;if(i){const e=1&i?t:n;if(e){try{g(r,1,e(this.v))}catch(e){g(r,2,e)}return r}return this}return this.o=function(e){try{const i=e.v;1&e.s?g(r,1,t?t(i):i):n?g(r,1,n(i)):g(r,2,i)}catch(e){g(r,2,e)}},r},e}();function g(e,t,n){if(!e.s){if(n instanceof v){if(!n.s)return void(n.o=g.bind(null,e,t));1&t&&(t=n.s),n=n.v}if(n&&n.then)return void n.then(g.bind(null,e,t),g.bind(null,e,2));e.s=t,e.v=n;const r=e.o;r&&r(e)}}function h(e){return e instanceof v&&1&e.s}const E="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function y(e,t,n){if("function"==typeof e[E]){var r,i,o,l=e[E]();if(function e(a){try{for(;!((r=l.next()).done||n&&n());)if((a=t(r.value))&&a.then){if(!h(a))return void a.then(e,o||(o=g.bind(null,i=new v,2)));a=a.v}i?g(i,1,a):i=a}catch(e){g(i||(i=new v),2,e)}}(),l.return){var a=function(e){try{r.done||l.return()}catch(e){}return e};if(i&&i.then)return i.then(a,function(e){throw a(e)});a()}return i}if(!("length"in e))throw new TypeError("Object is not iterable");for(var u=[],s=0;s<e.length;s++)u.push(e[s]);return function(e,t,n){var r,i,o=-1;return function l(a){try{for(;++o<e.length&&(!n||!n());)if((a=t(o))&&a.then){if(!h(a))return void a.then(l,i||(i=g.bind(null,r=new v,2)));a=a.v}r?g(r,1,a):r=a}catch(e){g(r||(r=new v),2,e)}}(),r}(u,function(e){return t(u[e])},n)}function _(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));const b=[{texts:{header:"CS_LOGIN_PROVIDE_MOBILE_NUMBER",cardText:"CS_LOGIN_TEXT",nextText:"CS_COMMONS_NEXT",submitBarLabel:"CS_COMMONS_NEXT"},inputs:[{label:"CORE_COMMON_HOLDING_ID",type:"text",name:"holdingId",error:"ERR_HRMS_INVALID_HOLDING_ID",validation:{required:!0,minLength:15,maxLength:15}},{label:"CORE_COMMON_MOBILE_NUMBER",type:"text",name:"mobileNumber",error:"ERR_HRMS_INVALID_MOB_NO",componentInFront:"+91",validation:{required:!0,minLength:10,maxLength:10}}]},{texts:{header:"CS_LOGIN_OTP",cardText:"CS_LOGIN_OTP_TEXT",nextText:"CS_COMMONS_NEXT",submitBarLabel:"CS_COMMONS_NEXT"}},{texts:{header:"CS_LOGIN_PROVIDE_NAME",cardText:"CS_LOGIN_NAME_TEXT",nextText:"CS_COMMONS_NEXT",submitBarLabel:"CS_COMMONS_NEXT"},inputs:[{label:"CORE_COMMON_NAME",type:"text",name:"name",error:"CORE_COMMON_NAME_VALIDMSG",validation:{required:!0,minLength:1,pattern:/^[^{0-9}^\$\"<>?\\\\~!@#$%^()+={}\[\]*,/_:;“”‘’]{1,50}$/i}}]}],C=e=>{let{t:r,onSelect:i,mobileNumber:o,holdingId:l,onMobileChange:u,config:s,canSubmit:c,CitizenHomePageTenantId:d}=e;const[f,m]=t.useState(!1),[p,v]=t.useState(!1),[g,h]=t.useState(""),{isLoading:E,data:y}=Digit.Hooks.useCustomMDMS(Digit.ULBService.getStateId(),"common-masters",[{name:"CitizenConsentForm"}]);function _(e){m(e.target.checked)}return t.useEffect(()=>{var e,t,n,r,i;null!=y&&null!==(e=y["common-masters"])&&void 0!==e&&null!==(t=e.CitizenConsentForm)&&void 0!==t&&null!==(n=t[0])&&void 0!==n&&n.isCitizenConsentFormEnabled&&v(null==y||null===(r=y["common-masters"])||void 0===r||null===(i=r.CitizenConsentForm)||void 0===i?void 0:i[0])},[y]),E?n.createElement(a.Loader,null):n.createElement(a.FormStep,{isDisabled:null!=p&&p.isCitizenConsentFormEnabled?!(10===o.length&&c&&f):!(10===o.length&&c),onSelect:i,config:s,t:r,componentInFront:"+91",onChange:u,value:o,holdingId:l,CitizenHomePageTenantId:d},(null==p?void 0:p.isCitizenConsentFormEnabled)&&n.createElement("div",null,n.createElement(a.CheckBox,{className:"form-field",label:n.createElement("span",null,null==p||null===(b=p.checkBoxLabels)||void 0===b?void 0:b.map((e,t)=>{var i;return n.createElement("span",null,(null==e?void 0:e.linkPrefix)&&n.createElement("span",null,r((null==e?void 0:e.linkPrefix)+"_")),(null==e?void 0:e.link)&&n.createElement("span",{id:null==e?void 0:e.linkId,onClick:e=>{(e=>{h(e.target.id)})(e)},style:{color:"#a82227",cursor:"pointer"}},r((null==e?void 0:e.link)+"_")),(null==e?void 0:e.linkPostfix)&&n.createElement("span",null,r((null==e?void 0:e.linkPostfix)+"_")),t==(null==p||null===(i=p.checkBoxLabels)||void 0===i?void 0:i.length)-1&&r("LABEL"))})),value:f,checked:f,style:{marginTop:"5px",marginLeft:"55px"},styles:{marginBottom:"30px"},onChange:_}),n.createElement(a.CitizenConsentForm,{styles:{},t:r,isCheckBoxChecked:_,labels:null==p?void 0:p.checkBoxLabels,mdmsConfig:g,setMdmsConfig:h})));var b},S=e=>{let{config:r,otp:i,onOtpChange:o,onResend:l,onSelect:u,t:s,error:c,userType:d="citizen",canSubmit:f}=e;const[m,p]=t.useState(30);!function(e,n){const r=t.useRef();t.useEffect(()=>{r.current=e},[e]),t.useEffect(()=>{if(null!==n){const e=setInterval(function(){r.current()},n);return()=>clearInterval(e)}},[n])}(()=>{p(m-1)},m>0?1e3:null);const v=()=>{l(),p(2)};return"employee"===d?n.createElement(t.Fragment,null,n.createElement(a.OTPInput,{length:6,onChange:o,value:i}),m>0?n.createElement(a.CardText,null,s("CS_RESEND_ANOTHER_OTP")+" "+m+" "+s("CS_RESEND_SECONDS")):n.createElement("p",{className:"card-text-button",onClick:v},s("CS_RESEND_OTP")),!c&&n.createElement(a.CardLabelError,null,s("CS_INVALID_OTP"))):n.createElement(a.FormStep,{onSelect:u,config:r,t:s,isDisabled:!(6===(null==i?void 0:i.length)&&f)},n.createElement(a.OTPInput,{length:6,onChange:o,value:i}),m>0?n.createElement(a.CardText,null,s("CS_RESEND_ANOTHER_OTP")+" "+m+" "+s("CS_RESEND_SECONDS")):n.createElement("p",{className:"card-text-button",onClick:v},s("CS_RESEND_OTP")),!c&&n.createElement(a.CardLabelError,null,s("CS_INVALID_OTP")))},w=e=>{let{config:t,onSelect:r,t:i,isDisabled:o}=e;return n.createElement(a.FormStep,{config:t,onSelect:r,t:i,isDisabled:o})},O={type:"register"},N={type:"login"},I=(e,t)=>(null==e?void 0:e.from)||(null==t?void 0:t.from)||"/digit-ui/citizen",D=e=>{var r,i;let{stateCode:u,isUserRegistered:s=!0}=e;const{t:c}=l.useTranslation(),d=o.useLocation(),{path:f}=o.useRouteMatch(),m=o.useHistory(),[p,v]=t.useState(null),[g,h]=t.useState(null),[E,y]=t.useState(!0),[D,T]=t.useState(null),[x,A]=t.useState(s?{}:null==d||null===(r=d.state)||void 0===r?void 0:r.data),[L,R]=t.useState(null),M=Digit.Hooks.useQueryParams(),[P,k]=t.useState(!1),[U,B]=t.useState(!0),[j,F]=t.useState(!0);t.useEffect(()=>{let e;return g&&(L&&(clearTimeout(L),R(null)),e=setTimeout(()=>{h("")},5e3),R(e)),()=>{e&&clearTimeout(e)}},[g]),t.useEffect(()=>{var e;if(!p)return;Digit.SessionStorage.set("citizen.userRequestObject",p),Digit.UserService.setUser(p),((e,t,n)=>{var r,i;let o=null===(r=JSON.parse(sessionStorage.getItem("Digit.initData")))||void 0===r||null===(i=r.value)||void 0===i?void 0:i.selectedLanguage;localStorage.setItem("Citizen.tenant-id",n),localStorage.setItem("tenant-id",n),localStorage.setItem("citizen.userRequestObject",JSON.stringify(e)),localStorage.setItem("locale",o),localStorage.setItem("Citizen.locale",o),localStorage.setItem("token",t),localStorage.setItem("Citizen.token",t),localStorage.setItem("user-info",JSON.stringify(e)),localStorage.setItem("Citizen.user-info",JSON.stringify(e))})(null==p?void 0:p.info,null==p?void 0:p.access_token,u);const t=(null===(e=d.state)||void 0===e?void 0:e.from)||"/digit-ui/citizen";Digit.ULBService.getCitizenCurrentTenant(!0)?m.replace(t):m.replace("/digit-ui/citizen/select-location",{redirectBackTo:t})},[p]);const z=Digit.SessionStorage.get("CITIZEN.COMMON.HOME.CITY"),W=t.useMemo(()=>b.map(e=>{const t={};for(const n in e.texts)t[n]=c(e.texts[n]);return{...e,texts:t}},[b])),V=()=>Digit.UserService.getType(),H=function(e){return Promise.resolve(_(function(){return Promise.resolve(Digit.UserService.sendOtp(e,u)).then(function(e){return[e,null]})},function(e){return[null,e]}))};return n.createElement("div",{className:"citizen-form-wrapper"},n.createElement(o.Switch,null,n.createElement(a.AppContainer,null,n.createElement(a.BackButton,null),n.createElement(o.Route,{path:""+f,exact:!0},n.createElement(C,{onSelect:function(e){try{F(!1),A({...x,...e});const t={...e,tenantId:u,userType:V()};return Promise.resolve(s?Promise.resolve(H({otp:{...t,...N}})).then(function(e){var n;let[r,i]=e;var o,l;if(!i)return F(!0),void m.replace(f+"/otp",{from:I(d.state,M),role:null===(o=d.state)||void 0===o?void 0:o.role});F(!0),d.state&&"FSM_DSO"===d.state.role||m.push("/digit-ui/citizen/register/name",{from:I(d.state,M),data:t}),null!==(n=d.state)&&void 0!==n&&n.role&&(F(!0),h("FSM_DSO"===(null===(l=d.state)||void 0===l?void 0:l.role)?c("ES_ERROR_DSO_LOGIN"):"User not registered."))}):Promise.resolve(H({otp:{...t,...O}})).then(function(e){let[t,n]=e;if(!n)return F(!0),void m.replace(f+"/otp",{from:I(d.state,M)});F(!0)}))}catch(e){return Promise.reject(e)}},config:W[0],mobileNumber:x.mobileNumber||"",holdingId:x.holdingId||"",onMobileChange:e=>{const{value:t}=e.target;A("holdingId"===e.target.name?{...x,holdingId:t}:{...x,mobileNumber:t})},canSubmit:j,showRegisterLink:s&&!(null!==(i=d.state)&&void 0!==i&&i.role),CitizenHomePageTenantId:z,t:c})),n.createElement(o.Route,{path:f+"/otp"},n.createElement(S,{config:{...W[1],texts:{...W[1].texts,cardText:W[1].texts.cardText+" "+(x.mobileNumber||"")}},onOtpChange:e=>{A({...x,otp:e})},onResend:function(){try{const{mobileNumber:e}=x,t={mobileNumber:e,tenantId:u,userType:V()},n=function(){if(!s)return Promise.resolve(H({otp:{...t,...O}})).then(function(){});{const e=function(){if(s)return Promise.resolve(H({otp:{...t,...N}})).then(function(){})}();if(e&&e.then)return e.then(function(){})}}();return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},onSelect:function(){try{return Promise.resolve(_(function(){y(!0),B(!1);const{mobileNumber:e,otp:t,name:n}=x;return function(){if(s){const n={username:e,password:t,tenantId:u,userType:V()};return Promise.resolve(Digit.UserService.authenticate(n)).then(function(e){var t,n,r;let{UserRequest:i,...o}=e;if(null!==(t=d.state)&&void 0!==t&&t.role){const e=i.roles.find(e=>e.code===d.state.role);if(!e||!e.code)return h(c("ES_ERROR_USER_NOT_PERMITTED")),void setTimeout(()=>m.replace("/digit-ui/citizen"),5e3)}null!==(n=window)&&void 0!==n&&null!==(r=n.globalConfigs)&&void 0!==r&&r.getConfig("ENABLE_SINGLEINSTANCE")&&(i.tenantId=Digit.ULBService.getStateId()),v({info:i,...o})})}{const r=function(){if(!s)return Promise.resolve(Digit.UserService.registerUser({name:n,username:e,otpReference:t,tenantId:u},u)).then(function(e){var t,n;let{UserRequest:r,...i}=e;null!==(t=window)&&void 0!==t&&null!==(n=t.globalConfigs)&&void 0!==n&&n.getConfig("ENABLE_SINGLEINSTANCE")&&(r.tenantId=Digit.ULBService.getStateId()),v({info:r,...i})})}();if(r&&r.then)return r.then(function(){})}}()},function(){B(!0),y(!1)}))}catch(e){return Promise.reject(e)}},otp:x.otp,error:E,canSubmit:U,t:c})),n.createElement(o.Route,{path:f+"/name"},n.createElement(w,{config:W[2],onSelect:function(e){try{const t={...x,tenantId:u,userType:V(),...e};return A({...x,...e}),k(!0),Promise.resolve(H({otp:{...t,...O}})).then(function(e){let[t,n]=e;t?(k(!1),m.replace(f+"/otp",{from:I(d.state,M)})):k(!1)})}catch(e){return Promise.reject(e)}},t:c,isDisabled:P})),g&&n.createElement(a.Toast,{error:!0,label:g,onClose:()=>h(null)}))))},T=[{texts:{header:"CORE_COMMON_LOGIN",submitButtonLabel:"CORE_COMMON_CONTINUE",secondaryButtonLabel:"CORE_COMMON_FORGOT_PASSWORD"},inputs:[{label:"CORE_LOGIN_USERNAME",type:"text",name:"username",error:"ERR_HRMS_INVALID_USER_ID"},{label:"CORE_LOGIN_PASSWORD",type:"password",name:"password",error:"ERR_HRMS_WRONG_PASSWORD"},{label:"CORE_COMMON_CITY",type:"custom",name:"city",error:"ERR_HRMS_INVALID_CITY"}]}];function x(){return(x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function L(e,t){return e(t={exports:{}},t.exports),t.exports}var R="function"==typeof Symbol&&Symbol.for,M=R?Symbol.for("react.element"):60103,P=R?Symbol.for("react.portal"):60106,k=R?Symbol.for("react.fragment"):60107,U=R?Symbol.for("react.strict_mode"):60108,B=R?Symbol.for("react.profiler"):60114,j=R?Symbol.for("react.provider"):60109,F=R?Symbol.for("react.context"):60110,z=R?Symbol.for("react.async_mode"):60111,W=R?Symbol.for("react.concurrent_mode"):60111,V=R?Symbol.for("react.forward_ref"):60112,H=R?Symbol.for("react.suspense"):60113,G=R?Symbol.for("react.suspense_list"):60120,q=R?Symbol.for("react.memo"):60115,Z=R?Symbol.for("react.lazy"):60116,X=R?Symbol.for("react.block"):60121,Y=R?Symbol.for("react.fundamental"):60117,K=R?Symbol.for("react.responder"):60118,J=R?Symbol.for("react.scope"):60119;function $(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case M:switch(e=e.type){case z:case W:case k:case B:case U:case H:return e;default:switch(e=e&&e.$$typeof){case F:case V:case Z:case q:case j:return e;default:return t}}case P:return t}}}function Q(e){return $(e)===W}var ee={AsyncMode:z,ConcurrentMode:W,ContextConsumer:F,ContextProvider:j,Element:M,ForwardRef:V,Fragment:k,Lazy:Z,Memo:q,Portal:P,Profiler:B,StrictMode:U,Suspense:H,isAsyncMode:function(e){return Q(e)||$(e)===z},isConcurrentMode:Q,isContextConsumer:function(e){return $(e)===F},isContextProvider:function(e){return $(e)===j},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===M},isForwardRef:function(e){return $(e)===V},isFragment:function(e){return $(e)===k},isLazy:function(e){return $(e)===Z},isMemo:function(e){return $(e)===q},isPortal:function(e){return $(e)===P},isProfiler:function(e){return $(e)===B},isStrictMode:function(e){return $(e)===U},isSuspense:function(e){return $(e)===H},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===k||e===W||e===B||e===U||e===H||e===G||"object"==typeof e&&null!==e&&(e.$$typeof===Z||e.$$typeof===q||e.$$typeof===j||e.$$typeof===F||e.$$typeof===V||e.$$typeof===Y||e.$$typeof===K||e.$$typeof===J||e.$$typeof===X)},typeOf:$},te=L(function(e,t){"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,l=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,u=e?Symbol.for("react.context"):60110,s=e?Symbol.for("react.async_mode"):60111,c=e?Symbol.for("react.concurrent_mode"):60111,d=e?Symbol.for("react.forward_ref"):60112,f=e?Symbol.for("react.suspense"):60113,m=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,v=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,h=e?Symbol.for("react.fundamental"):60117,E=e?Symbol.for("react.responder"):60118,y=e?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var m=e.type;switch(m){case s:case c:case i:case l:case o:case f:return m;default:var g=m&&m.$$typeof;switch(g){case u:case d:case v:case p:case a:return g;default:return t}}case r:return t}}}var b=c,C=u,S=a,w=n,O=d,N=i,I=v,D=p,T=r,x=l,A=o,L=f,R=!1;function M(e){return _(e)===c}t.AsyncMode=s,t.ConcurrentMode=b,t.ContextConsumer=C,t.ContextProvider=S,t.Element=w,t.ForwardRef=O,t.Fragment=N,t.Lazy=I,t.Memo=D,t.Portal=T,t.Profiler=x,t.StrictMode=A,t.Suspense=L,t.isAsyncMode=function(e){return R||(R=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(e)||_(e)===s},t.isConcurrentMode=M,t.isContextConsumer=function(e){return _(e)===u},t.isContextProvider=function(e){return _(e)===a},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===i},t.isLazy=function(e){return _(e)===v},t.isMemo=function(e){return _(e)===p},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===l},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===f},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===c||e===l||e===o||e===f||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===p||e.$$typeof===a||e.$$typeof===u||e.$$typeof===d||e.$$typeof===h||e.$$typeof===E||e.$$typeof===y||e.$$typeof===g)},t.typeOf=_}()}),ne=L(function(e){e.exports="production"===process.env.NODE_ENV?ee:te}),re=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;function le(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var ae=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=le(e),o=1;o<arguments.length;o++){for(var l in n=Object(arguments[o]))ie.call(n,l)&&(i[l]=n[l]);if(re){r=re(n);for(var a=0;a<r.length;a++)oe.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},ue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",se=Function.call.bind(Object.prototype.hasOwnProperty),ce=function(){};if("production"!==process.env.NODE_ENV){var de=ue,fe={},me=se;ce=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function pe(e,t,n,r,i){if("production"!==process.env.NODE_ENV)for(var o in e)if(me(e,o)){var l;try{if("function"!=typeof e[o]){var a=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw a.name="Invariant Violation",a}l=e[o](t,o,r,n,null,de)}catch(e){l=e}if(!l||l instanceof Error||ce((r||"React class")+": type specification of "+n+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in fe)){fe[l.message]=!0;var u=i?i():"";ce("Failed "+n+" type: "+l.message+(null!=u?u:""))}}}pe.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(fe={})};var ve=pe,ge=function(){};function he(){return null}function Ee(){}function ye(){}"production"!==process.env.NODE_ENV&&(ge=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}),ye.resetWarningCache=Ee;var _e=L(function(e){e.exports="production"!==process.env.NODE_ENV?function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,r={array:a("array"),bigint:a("bigint"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:l(he),arrayOf:function(e){return l(function(t,n,r,i,l){if("function"!=typeof e)return new o("Property `"+l+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new o("Invalid "+i+" `"+l+"` of type `"+c(a)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<a.length;u++){var s=e(a,u,r,i,l+"["+u+"]",ue);if(s instanceof Error)return s}return null})},element:l(function(t,n,r,i,l){var a=t[n];return e(a)?null:new o("Invalid "+i+" `"+l+"` of type `"+c(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}),elementType:l(function(e,t,n,r,i){var l=e[t];return ne.isValidElementType(l)?null:new o("Invalid "+r+" `"+i+"` of type `"+c(l)+"` supplied to `"+n+"`, expected a single ReactElement type.")}),instanceOf:function(e){return l(function(t,n,r,i,l){var a;return t[n]instanceof e?null:new o("Invalid "+i+" `"+l+"` of type `"+((a=t[n]).constructor&&a.constructor.name?a.constructor.name:"<<anonymous>>")+"` supplied to `"+r+"`, expected instance of `"+(e.name||"<<anonymous>>")+"`.")})},node:l(function(e,t,n,r,i){return s(e[t])?null:new o("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}),objectOf:function(e){return l(function(t,n,r,i,l){if("function"!=typeof e)return new o("Property `"+l+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=c(a);if("object"!==u)return new o("Invalid "+i+" `"+l+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var s in a)if(se(a,s)){var d=e(a,s,r,i,l+"."+s,ue);if(d instanceof Error)return d}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&ge(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),he;function t(t,n,r,l,a){for(var u=t[n],s=0;s<e.length;s++)if(i(u,e[s]))return null;var c=JSON.stringify(e,function(e,t){return"symbol"===d(t)?String(t):t});return new o("Invalid "+l+" `"+a+"` of value `"+String(u)+"` supplied to `"+r+"`, expected one of "+c+".")}return l(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&ge("Invalid argument supplied to oneOfType, expected an instance of array."),he;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return ge("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+f(n)+" at index "+t+"."),he}return l(function(t,n,r,i,l){for(var a=[],u=0;u<e.length;u++){var s=(0,e[u])(t,n,r,i,l,ue);if(null==s)return null;s.data&&se(s.data,"expectedType")&&a.push(s.data.expectedType)}return new o("Invalid "+i+" `"+l+"` supplied to `"+r+"`"+(a.length>0?", expected one of type ["+a.join(", ")+"]":"")+".")})},shape:function(e){return l(function(t,n,r,i,l){var a=t[n],s=c(a);if("object"!==s)return new o("Invalid "+i+" `"+l+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");for(var f in e){var m=e[f];if("function"!=typeof m)return u(r,i,l,f,d(m));var p=m(a,f,r,i,l+"."+f,ue);if(p)return p}return null})},exact:function(e){return l(function(t,n,r,i,l){var a=t[n],s=c(a);if("object"!==s)return new o("Invalid "+i+" `"+l+"` of type `"+s+"` supplied to `"+r+"`, expected `object`.");var f=ae({},t[n],e);for(var m in f){var p=e[m];if(se(e,m)&&"function"!=typeof p)return u(r,i,l,m,d(p));if(!p)return new o("Invalid "+i+" `"+l+"` key `"+m+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var v=p(a,m,r,i,l+"."+m,ue);if(v)return v}return null})}};function i(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function o(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function l(e){function t(t,n,r,i,l,a,u){if(i=i||"<<anonymous>>",a=a||r,u!==ue){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}return null==n[r]?t?new o(null===n[r]?"The "+l+" `"+a+"` is marked as required in `"+i+"`, but its value is `null`.":"The "+l+" `"+a+"` is marked as required in `"+i+"`, but its value is `undefined`."):null:e(n,r,i,l,a)}process;var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e){return l(function(t,n,r,i,l,a){var u=t[n];return c(u)!==e?new o("Invalid "+i+" `"+l+"` of type `"+d(u)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null})}function u(e,t,n,r,i){return new o((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+i+"`.")}function s(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(s);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!s(i.value))return!1}else for(;!(i=o.next()).done;){var l=i.value;if(l&&!s(l[1]))return!1}return!0;default:return!1}}function c(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function d(e){if(null==e)return""+e;var t=c(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function f(e){var t=d(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return o.prototype=Error.prototype,r.checkPropTypes=ve,r.resetWarningCache=ve.resetWarningCache,r.PropTypes=r,r}(ne.isElement):function(){function e(e,t,n,r,i,o){if(o!==ue){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ye,resetWarningCache:Ee};return n.PropTypes=n,n}()});const be=e=>{let{children:t}=e;return n.createElement("div",{className:"banner banner-container",style:{zIndex:"2"}},t)},Ce=()=>{const{isLoading:e}=Digit.Hooks.useStore.getInitData();return l.useTranslation(),e?n.createElement(a.Loader,null):n.createElement("div",{className:"bannerHeader"})},Se=e=>{let{config:r,t:i,isDisabled:l}=e;const{data:u,isLoading:s}=Digit.Hooks.useTenants(),{isLoading:c}=Digit.Hooks.useStore.getInitData(),[d,f]=t.useState(null),[m,p]=t.useState(null),[v,g]=t.useState(!1),h=o.useHistory();t.useEffect(()=>{var e,t,n,r,i,o,l,a,u,s,c,f,m,p,v,g,E;if(!d)return;Digit.SessionStorage.set("citizen.userRequestObject",d);const y=null==d||null===(e=d.info)||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.filter(e=>e.tenantId===Digit.SessionStorage.get("Employee.tenantId"));(null==d||null===(n=d.info)||void 0===n||null===(r=n.roles)||void 0===r?void 0:r.length)>0&&(d.info.roles=y),Digit.UserService.setUser(d),((e,t)=>{var n;let r=(null===(n=JSON.parse(sessionStorage.getItem("Digit.locale")))||void 0===n?void 0:n.value)||"en_IN";localStorage.setItem("Employee.tenant-id",null==e?void 0:e.tenantId),localStorage.setItem("tenant-id",null==e?void 0:e.tenantId),localStorage.setItem("citizen.userRequestObject",JSON.stringify(e)),localStorage.setItem("locale",r),localStorage.setItem("Employee.locale",r),localStorage.setItem("token",t),localStorage.setItem("Employee.token",t),localStorage.setItem("user-info",JSON.stringify(e)),localStorage.setItem("Employee.user-info",JSON.stringify(e))})(null==d?void 0:d.info,null==d?void 0:d.access_token);let _="/digit-ui/employee";var b,C,S,w;null!==(i=window)&&void 0!==i&&null!==(o=i.location)&&void 0!==o&&null!==(l=o.href)&&void 0!==l&&l.includes("from=")&&(_=decodeURIComponent(null===(b=window)||void 0===b||null===(C=b.location)||void 0===C||null===(S=C.href)||void 0===S||null===(w=S.split("from="))||void 0===w?void 0:w[1])||"/digit-ui/employee"),null!=d&&null!==(a=d.info)&&void 0!==a&&a.roles&&(null==d||null===(u=d.info)||void 0===u||null===(s=u.roles)||void 0===s?void 0:s.length)>0&&null!=d&&null!==(c=d.info)&&void 0!==c&&null!==(f=c.roles)&&void 0!==f&&f.every(e=>"NATADMIN"===e.code)&&(_="/digit-ui/employee/dss/landing/NURT_DASHBOARD"),null!=d&&null!==(m=d.info)&&void 0!==m&&m.roles&&(null==d||null===(p=d.info)||void 0===p||null===(v=p.roles)||void 0===v?void 0:v.length)>0&&null!=d&&null!==(g=d.info)&&void 0!==g&&null!==(E=g.roles)&&void 0!==E&&E.every(e=>"STADMIN"===e.code)&&(_="/digit-ui/employee/dss/landing/home"),h.replace(_)},[d]);const E=()=>{p(null)},[y,b,C]=r.inputs,S=[{body:[{label:i(y.label),type:y.type,populators:{name:y.name},isMandatory:!0},{label:i(b.label),type:b.type,populators:{name:b.name},isMandatory:!0},{label:i(C.label),type:C.type,populators:{name:C.name,customProps:{},component:(e,t)=>n.createElement(a.Dropdown,x({option:u,className:"login-city-dd",optionKey:"i18nKey",select:t=>{e.onChange(t)},t:i},t))},isMandatory:!0}]}];return s||c?n.createElement(a.Loader,null):n.createElement(be,null,n.createElement("div",{className:"employeeBackbuttonAlign"},n.createElement(a.BackButton,{variant:"white",style:{borderBottom:"none"}})),n.createElement(a.FormComposer,{onSubmit:function(e){try{function t(){g(!1)}if(!e.city)return alert("Please Select City!"),Promise.resolve();g(!0);const n={...e,userType:"EMPLOYEE"};n.tenantId=e.city.code,delete n.city;const r=_(function(){return Promise.resolve(Digit.UserService.authenticate(n)).then(function(e){let{UserRequest:t,...n}=e;Digit.SessionStorage.set("Employee.tenantId",null==t?void 0:t.tenantId),f({info:t,...n})})},function(e){var t,n;p((null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error_description)||"Invalid login credentials!"),setTimeout(E,5e3)});return Promise.resolve(r&&r.then?r.then(t):t())}catch(e){return Promise.reject(e)}},isDisabled:l||v,noBoxShadow:!0,inline:!0,submitInForm:!0,config:S,label:r.texts.submitButtonLabel,secondaryActionLabel:r.texts.secondaryButtonLabel,onSecondayActionClick:()=>{sessionStorage.getItem("User")&&sessionStorage.removeItem("User"),h.push("/digit-ui/employee/user/forgot-password")},heading:r.texts.header,headingStyle:{textAlign:"center"},cardStyle:{margin:"auto",minWidth:"408px"},className:"loginFormStyleEmployee",buttonStyle:{maxWidth:"100%",width:"100%",backgroundColor:"#5a1166"}}),m&&n.createElement(a.Toast,{error:!0,label:i(m),onClose:E}),n.createElement("div",{style:{width:"100%",position:"fixed",bottom:0,backgroundColor:"white",textAlign:"center"}},n.createElement("div",{style:{display:"flex",justifyContent:"center",color:"black"}},n.createElement("span",{style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},onClick:()=>{window.open("https://www.digit.org/","_blank").focus()}},"Powered by DIGIT"),n.createElement("span",{style:{margin:"0 10px",fontSize:(window.Digit.Utils.browser.isMobile(),"12px")}},"|"),n.createElement("a",{style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},href:"#",target:"_blank"},"UPYOG License"),n.createElement("span",{className:"upyog-copyright-footer",style:{margin:"0 10px",fontSize:"12px"}},"|"),n.createElement("span",{className:"upyog-copyright-footer",style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs")),n.createElement("div",{className:"upyog-copyright-footer-web"},n.createElement("span",{className:"",style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"14px":"16px",fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs"))))};Se.propTypes={loginParams:_e.any},Se.defaultProps={loginParams:null};const we=()=>{const{t:e}=l.useTranslation(),{path:r}=o.useRouteMatch(),i=t.useMemo(()=>T.map(t=>{const n={};for(const r in t.texts)n[r]=e(t.texts[r]);return{...t,texts:n}},[T]));return n.createElement(o.Switch,null,n.createElement(o.Route,{path:""+r,exact:!0},n.createElement(Se,{config:i[0],t:e})))},Oe=[{texts:{header:"CORE_COMMON_RESET_PASSWORD_LABEL",submitButtonLabel:"CORE_COMMON_CHANGE_PASSWORD"},inputs:[{label:"CORE_LOGIN_USERNAME",type:"text",name:"userName",error:"ERR_HRMS_INVALID_USERNAME"},{label:"CORE_LOGIN_NEW_PASSWORD",type:"password",name:"newPassword",error:"CORE_COMMON_REQUIRED_ERRMSG"},{label:"CORE_LOGIN_CONFIRM_NEW_PASSWORD",type:"password",name:"confirmPassword",error:"CORE_COMMON_REQUIRED_ERRMSG"}]}],Ne=e=>{let{config:r,t:i}=e;const[l,u]=t.useState(null),{mobile_number:s,tenantId:c}=Digit.Hooks.useQueryParams(),d=o.useHistory(),[f,m]=t.useState(""),[p,v]=t.useState(!0),[g,h]=t.useState(null),E=()=>Digit.UserService.getType();t.useEffect(()=>{var e;if(!l)return void Digit.UserService.setType("employee");Digit.UserService.setUser(l);const t=(null===(e=location.state)||void 0===e?void 0:e.from)||"/digit-ui/employee";d.replace(t)},[l]);const y=()=>{h(null)},[b,C,w]=r.inputs,O=[{body:[{label:i(b.label),type:b.type,populators:{name:b.name},isMandatory:!0},{label:i(C.label),type:C.type,populators:{name:C.name},isMandatory:!0},{label:i(w.label),type:w.type,populators:{name:w.name},isMandatory:!0}]}];return n.createElement(be,null,n.createElement("div",{className:"employeeBackbuttonAlign"},n.createElement(a.BackButton,{variant:"white",style:{borderBottom:"none"}})),n.createElement(a.FormComposer,{onSubmit:function(e){try{return Promise.resolve(_(function(){if(e.newPassword!==e.confirmPassword)return h(i("ERR_PASSWORD_DO_NOT_MATCH"));const t={...e,otpReference:f,tenantId:c,type:E().toUpperCase()};return Promise.resolve(Digit.UserService.changePassword(t,c)).then(function(e){d.replace("/digit-ui/employee/user/login")})},function(e){var t,n,r,o,l;h((null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.error)||void 0===r||null===(o=r.fields)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.message)||i("ES_SOMETHING_WRONG")),setTimeout(y,5e3)}))}catch(e){return Promise.reject(e)}},noBoxShadow:!0,inline:!0,submitInForm:!0,config:O,label:r.texts.submitButtonLabel,cardStyle:{maxWidth:"408px",margin:"auto"},className:"employeeChangePassword"},n.createElement(Ce,null),n.createElement(a.CardSubHeader,{style:{textAlign:"center"}}," ",r.texts.header," "),n.createElement(a.CardText,null,i("CS_LOGIN_OTP_TEXT")+" ",n.createElement("b",null," ",""+i("+ 91 - ")," ",s)),n.createElement(S,{t:i,userType:"employee",otp:f,onOtpChange:m,error:p,onResend:function(){try{function e(){setTimeout(y,5e3)}const t={otp:{mobileNumber:s,userType:E().toUpperCase(),type:"passwordreset",tenantId:c}},n=_(function(){return Promise.resolve(Digit.UserService.sendOtp(t,c)).then(function(){h(i("ES_OTP_RESEND"))})},function(e){var t,n;h((null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.error_description)||i("ES_INVALID_LOGIN_CREDENTIALS"))});return Promise.resolve(n&&n.then?n.then(e):e())}catch(e){return Promise.reject(e)}}})),g&&n.createElement(a.Toast,{error:!0,label:i(g),onClose:y}),n.createElement("div",{style:{width:"100%",position:"fixed",bottom:0,backgroundColor:"white",textAlign:"center"}},n.createElement("div",{style:{display:"flex",justifyContent:"center",color:"black"}},n.createElement("span",{style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},onClick:()=>{window.open("https://www.digit.org/","_blank").focus()}},"Powered by DIGIT"),n.createElement("span",{style:{margin:"0 10px",fontSize:(window.Digit.Utils.browser.isMobile(),"12px")}},"|"),n.createElement("a",{style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},href:"#",target:"_blank"},"UPYOG License"),n.createElement("span",{className:"upyog-copyright-footer",style:{margin:"0 10px",fontSize:"12px"}},"|"),n.createElement("span",{className:"upyog-copyright-footer",style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs")),n.createElement("div",{className:"upyog-copyright-footer-web"},n.createElement("span",{className:"",style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"14px":"16px",fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs"))))};Ne.propTypes={loginParams:_e.any},Ne.defaultProps={loginParams:null};const Ie=()=>{const{t:e}=l.useTranslation(),{path:r}=o.useRouteMatch(),i=t.useMemo(()=>Oe.map(t=>{const n={};for(const r in t.texts)n[r]=e(t.texts[r]);return{...t,texts:n}},[Oe]));return n.createElement(o.Switch,null,n.createElement(o.Route,{path:""+r,exact:!0},n.createElement(Ne,{config:i[0],t:e})))},De=[{texts:{header:"CORE_COMMON_FORGOT_PASSWORD_LABEL",description:"ES_FORGOT_PASSWORD_DESC",submitButtonLabel:"CORE_COMMON_CONTINUE"},inputs:[{label:"CORE_COMMON_MOBILE_NUMBER",type:"text",name:"mobileNumber",error:"ERR_HRMS_INVALID_MOBILE_NUMBER"},{label:"CORE_COMMON_CITY",type:"custom",name:"city",error:"ERR_HRMS_INVALID_CITY"}]}],Te=e=>{let{config:r,t:i}=e;const{data:l,isLoading:u}=Digit.Hooks.useTenants(),[s,c]=t.useState(null),d=o.useHistory(),[f,m]=t.useState(null);t.useEffect(()=>{var e;if(!s)return void Digit.UserService.setType("employee");Digit.UserService.setUser(s);const t=(null===(e=location.state)||void 0===e?void 0:e.from)||"/digit-ui/employee";d.replace(t)},[s]);const p=()=>{m(null)},[v,g]=r.inputs,h=[{body:[{label:i(v.label),type:v.type,populators:{name:v.name,componentInFront:"+91"},isMandatory:!0},{label:i(g.label),type:g.type,populators:{name:g.name,customProps:{},component:(e,t)=>n.createElement(a.Dropdown,x({option:l,optionKey:"name",id:g.name,className:"login-city-dd",select:t=>{e.onChange(t)}},t))},isMandatory:!0}]}];return u?n.createElement(a.Loader,null):n.createElement(be,null,n.createElement("div",{className:"employeeBackbuttonAlign"},n.createElement(a.BackButton,{variant:"white",style:{borderBottom:"none"}})),n.createElement(a.FormComposer,{onSubmit:function(e){try{if(!e.city)return alert("Please Select City!"),Promise.resolve();const t={otp:{mobileNumber:e.mobileNumber,userType:Digit.UserService.getType().toUpperCase(),type:"passwordreset",tenantId:e.city.code}},n=_(function(){return Promise.resolve(Digit.UserService.sendOtp(t,e.city.code)).then(function(){d.push("/digit-ui/employee/user/change-password?mobile_number="+e.mobileNumber+"&tenantId="+e.city.code)})},function(e){var t,n,r,i,o;m((null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.error)||void 0===r||null===(i=r.fields)||void 0===i||null===(o=i[0])||void 0===o?void 0:o.message)||"Invalid login credentials!"),setTimeout(p,5e3)});return Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},noBoxShadow:!0,inline:!0,submitInForm:!0,config:h,label:r.texts.submitButtonLabel,secondaryActionLabel:r.texts.secondaryButtonLabel,onSecondayActionClick:()=>{d.replace("/digit-ui/employee/login")},heading:r.texts.header,description:r.texts.description,headingStyle:{textAlign:"center"},cardStyle:{maxWidth:"408px",margin:"auto"},className:"employeeForgotPassword"},n.createElement(Ce,null)),f&&n.createElement(a.Toast,{error:!0,label:i(f),onClose:p}),n.createElement("div",{style:{width:"100%",position:"fixed",bottom:0,backgroundColor:"white",textAlign:"center"}},n.createElement("div",{style:{display:"flex",justifyContent:"center",color:"black"}},n.createElement("span",{style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},onClick:()=>{window.open("https://www.digit.org/","_blank").focus()}},"Powered by DIGIT"),n.createElement("span",{style:{margin:"0 10px",fontSize:(window.Digit.Utils.browser.isMobile(),"12px")}},"|"),n.createElement("a",{style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},href:"#",target:"_blank"},"UPYOG License"),n.createElement("span",{className:"upyog-copyright-footer",style:{margin:"0 10px",fontSize:"12px"}},"|"),n.createElement("span",{className:"upyog-copyright-footer",style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs")),n.createElement("div",{className:"upyog-copyright-footer-web"},n.createElement("span",{className:"",style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"14px":"16px",fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs"))))};Te.propTypes={loginParams:_e.any},Te.defaultProps={loginParams:null};const xe=()=>{const{t:e}=l.useTranslation(),{path:r}=o.useRouteMatch(),i=t.useMemo(()=>De.map(t=>{const n={};for(const r in t.texts)n[r]=e(t.texts[r]);return{...t,texts:n}},[De]));return n.createElement(o.Switch,null,n.createElement(o.Route,{path:""+r,exact:!0},n.createElement(Te,{config:i[0],t:e})))},Ae=()=>{const{data:e,isLoading:r}=Digit.Hooks.useStore.getInitData(),{t:i}=l.useTranslation(),u=o.useHistory(),{languages:s,stateInfo:c}=e||{},d=Digit.StoreData.getCurrentLanguage(),[f,m]=t.useState(d);return r?null:n.createElement(be,null,n.createElement(a.Card,{className:"bannerCard removeBottomMargin"},n.createElement("div",{className:"language-selector",style:{justifyContent:"space-around",marginBottom:"24px",padding:"0 5%"}},s.map((e,t)=>n.createElement("div",{className:"language-button-container",key:t},n.createElement(a.CustomButton,{selected:e.value===f,text:e.label,onClick:()=>(e=>{m(e.value),Digit.LocalizationService.changeLanguage(e.value,c.code)})(e)})))),n.createElement(a.SubmitBar,{style:{width:"100%"},label:i("CORE_COMMON_CONTINUE"),onSubmit:e=>{u.push("/digit-ui/employee/user/login")}})),n.createElement("div",{style:{width:"100%",position:"fixed",bottom:0,backgroundColor:"white",textAlign:"center"}},n.createElement("div",{style:{display:"flex",justifyContent:"center",color:"black"}},n.createElement("span",{style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},onClick:()=>{window.open("https://www.digit.org/","_blank").focus()}},"Powered by DIGIT"),n.createElement("span",{style:{margin:"0 10px",fontSize:(window.Digit.Utils.browser.isMobile(),"12px")}},"|"),n.createElement("a",{style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},href:"#",target:"_blank"},"UPYOG License"),n.createElement("span",{className:"upyog-copyright-footer",style:{margin:"0 10px",fontSize:"12px"}},"|"),n.createElement("span",{className:"upyog-copyright-footer",style:{cursor:"pointer",fontSize:(window.Digit.Utils.browser.isMobile(),"12px"),fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs")),n.createElement("div",{className:"upyog-copyright-footer-web"},n.createElement("span",{className:"",style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"14px":"16px",fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs"))))},Le=(e,t)=>t.filter(t=>{var n;return null==e||null===(n=e.map)||void 0===n?void 0:n.call(e,e=>e.code).includes(t.code)}),Re=e=>{let{stateCode:t,userType:r,modules:i,appTenants:l}=e;Digit;const{path:a}=o.useRouteMatch(),u=o.useLocation(),s=Digit.UserService.getUser();if(!s||null==s||!s.access_token||null==s||!s.info)return n.createElement(o.Redirect,{to:{pathname:"/digit-ui/employee/user/login",state:{from:u.pathname+u.search}}});const c=i.map((e,i)=>{let{code:s,tenants:c}=e;const d=Digit.ComponentRegistryService.getComponent(s+"Module");return n.createElement(o.Route,{key:i,path:a+"/"+s.toLowerCase()},d?n.createElement(d,{stateCode:t,moduleCode:s,userType:r,tenants:Le(c,l)}):n.createElement(o.Redirect,{to:{pathname:"/digit-ui/employee/user/error?type=notfound",state:{from:u.pathname+u.search}}}))});return n.createElement("div",{className:"ground-container"},n.createElement(o.Switch,null,c,n.createElement(o.Route,{path:a+"/login"},n.createElement(o.Redirect,{to:{pathname:"/digit-ui/employee/user/login",state:{from:u.pathname+u.search}}})),n.createElement(o.Route,{path:a+"/forgot-password"},n.createElement(xe,null)),n.createElement(o.Route,{path:a+"/change-password"},n.createElement(Ie,null)),n.createElement(o.Route,null,n.createElement(p,{userType:r,modules:i}))))},Me={error:{imgUrl:"https://s3.ap-south-1.amazonaws.com/egov-qa-assets/error-image.png",infoMessage:"CORE_SOMETHING_WENT_WRONG",buttonInfo:"ACTION_TEST_HOME"},maintenance:{imgUrl:"https://s3.ap-south-1.amazonaws.com/egov-qa-assets/maintainence-image.png",infoMessage:"CORE_UNDER_MAINTENANCE",buttonInfo:"ACTION_TEST_HOME"},notfound:{imgUrl:"https://s3.ap-south-1.amazonaws.com/egov-qa-assets/PageNotFound.png",infoMessage:"CORE_NOT_FOUND",buttonInfo:"ACTION_TEST_HOME"}},Pe=e=>{const{type:t="error"}=Digit.Hooks.useQueryParams(),r=Me[t],{t:i}=l.useTranslation();return n.createElement("div",{className:"error-boundary"},n.createElement("div",{className:"error-container"},n.createElement("img",{src:r.imgUrl,alt:"error"}),n.createElement("h1",null,i(r.infoMessage)),n.createElement("button",{onClick:()=>{e.goToHome()}},i(r.buttonInfo))))},ke=()=>{const e="employee"===Digit.UserService.getType()?"/digit-ui/employee/user/error":"/digit-ui/citizen/error";return window.location.href.includes("employee/user/error")||window.location.href.includes("citizen/error")||"development"===process.env.NODE_ENV||(window.location.href=e),n.createElement("span",null)};class Ue extends n.Component{constructor(e){super(e),this.state={error:null,errorStack:null,hasError:!1}}static getDerivedStateFromError(e){return{error:null==e?void 0:e.message,hasError:!0,errorStack:null==e?void 0:e.stack}}componentDidCatch(e,t){this.setState({error:null==e?void 0:e.message,hasError:!0,errorStack:null==e?void 0:e.stack})}render(){return this.state.hasError?n.createElement("div",{className:"error-boundary"},n.createElement(ke,null),n.createElement(Pe,{initData:this.props.initData})):this.props.children}}const Be=function(e,t,n){if(void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),""==t)return e;for(;null!==(r=e)&&void 0!==r&&r.includes(t);){var r,i;e=null===(i=e)||void 0===i?void 0:i.replace(t,n)}return e},je=e=>{var r;const[i,l]=t.useState(null),[u,s]=t.useState([]),[c,d]=t.useState([]),f=o.useHistory();let m=[];return t.useEffect(()=>{var t,n;const r=Digit.SessionStorage.get("citizen.userRequestObject");let i=[],o=[];null==r||null===(t=r.info)||void 0===t||null===(n=t.roles)||void 0===n||n.forEach(e=>i.push(e.tenantId));let l=i.filter((e,t,n)=>n.indexOf(e)===t);null==l||l.forEach(t=>{var n;o.push({label:null==e?void 0:e.t("TENANT_TENANTS_"+(null===(n=Be(t,".","_"))||void 0===n?void 0:n.toUpperCase())),value:t})}),m=null==o?void 0:o.filter(e=>e.value==Digit.SessionStorage.get("Employee.tenantId")),s(o)},[i]),n.createElement("div",{style:null!=e&&e.mobileView?{color:"#767676"}:{}},n.createElement(a.Dropdown,{option:u,selected:u.find(e=>e.value===(null==i?void 0:i.value)),optionKey:"label",select:e=>{var t,n,r;const i=Digit.SessionStorage.get("citizen.userRequestObject"),o=null===(t=Digit.SessionStorage.get("citizen.userRequestObject"))||void 0===t||null===(n=t.info)||void 0===n||null===(r=n.roles)||void 0===r?void 0:r.filter(t=>t.tenantId===e.value);if((null==o?void 0:o.length)>0&&(i.info.roles=o,i.info.tenantId=null==e?void 0:e.value),Digit.SessionStorage.set("Employee.tenantId",null==e?void 0:e.value),Digit.UserService.setUser(i),l(e),window.location.href.includes("/digit-ui/employee/")){var a;const e=(null===(a=location.state)||void 0===a?void 0:a.from)||"/digit-ui/employee";f.replace(e)}window.location.reload()},freeze:!0,customSelector:n.createElement("label",{className:"cp"},null==e?void 0:e.t("TENANT_TENANTS_"+(null===(r=Be(Digit.SessionStorage.get("Employee.tenantId"),".","_"))||void 0===r?void 0:r.toUpperCase())))}))},Fe=e=>{const r=e.dropdown||!1,{data:i,isLoading:o}=Digit.Hooks.useStore.getInitData(),{languages:l,stateInfo:u}=i||{},s=Digit.StoreData.getCurrentLanguage(),[c,d]=t.useState(s),f=e=>{d(e.value),Digit.LocalizationService.changeLanguage(e.value,u.code)};return o?null:r?n.createElement("div",null,n.createElement(a.Dropdown,{option:l,selected:l.find(e=>e.value===s),optionKey:"label",select:f,freeze:!0,customSelector:n.createElement("label",{className:"cp"},l.find(e=>e.value===c).label)})):n.createElement(n.Fragment,null,n.createElement("div",{style:{marginBottom:"5px"}},"Language"),n.createElement("div",{className:"language-selector"},l.map((e,t)=>n.createElement("div",{className:"language-button-container",key:t},n.createElement(a.CustomButton,{selected:e.value===c,text:e.label,onClick:()=>f(e)})))))},ze=e=>{var t,r;return n.createElement("span",{className:"user-img-txt",onClick:e.toggleMenu,title:e.name},null==e||null===(t=e.name)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.toUpperCase())},We=e=>{var t,r,i,l,u,s,c;let{t:d,stateInfo:f,toggleSidebar:m,handleLogout:p,userDetails:v,CITIZEN:g,cityDetails:h,mobileView:E,userOptions:y,handleUserDropdownSelection:_,logoUrl:b,showLanguageChange:C=!0,setSideBarScrollTop:S}=e;const[w,O]=n.useState(null);n.useEffect(function(){try{var e;const t=Digit.ULBService.getCurrentTenantId(),n=null==v||null===(e=v.info)||void 0===e?void 0:e.uuid,r=function(){if(n)return Promise.resolve(Digit.UserService.userSearch(t,{uuid:[n]},{})).then(function(e){if(e&&e.user&&e.user.length){var t;const n=e.user[0],r=null==n||null===(t=n.photo)||void 0===t?void 0:t.split(",");O(null==r?void 0:r.at(0))}})}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},[null!==w,null==v||null===(t=v.info)||void 0===t?void 0:t.uuid]);const N=Digit.ULBService.getCitizenCurrentTenant(!0);let I=o.useHistory();const{pathname:D}=o.useLocation(),{data:{unreadCount:T}={},isSuccess:x}=Digit.Hooks.useNotificationCount({tenantId:N,config:{enabled:"EMPLOYEE"!==(null===(A=Digit.UserService)||void 0===A||null===(L=A.getUser())||void 0===L||null===(R=L.info)||void 0===R?void 0:R.type)&&"CITIZEN"===(null===(M=Digit.UserService)||void 0===M||null===(P=M.getUser())||void 0===P||null===(k=P.info)||void 0===k?void 0:k.type)&&!!N}});var A,L,R,M,P,k;if(g)return n.createElement("div",null,n.createElement(a.TopBar,{img:null==f?void 0:f.logoUrlWhite,isMobile:!0,toggleSidebar:()=>{Digit.clikOusideFired?Digit.clikOusideFired=!1:(m(!0),S(!0))},logoUrl:null==f?void 0:f.logoUrlWhite,onLogout:p,userDetails:v,notificationCount:T<99?T:99,notificationCountLoaded:x,cityOfCitizenShownBesideLogo:d(N),onNotificationIconClick:function(){I.push("/digit-ui/citizen/engagement/notifications")},hideNotificationIconOnSomeUrlsWhenNotLoggedIn:(e=>{var t,n;return(null===(t=Digit.UserService)||void 0===t||null===(n=t.getUser())||void 0===n||!n.access_token)&&["/digit-ui/citizen/select-language","/digit-ui/citizen/select-location"].includes(e)})(D),changeLanguage:E?null:n.createElement(Fe,{dropdown:!0})}));const U=!(null==v||!v.access_token);return n.createElement("div",{className:"topbar"},E?n.createElement(a.Hamburger,{handleClick:m,color:"#9E9E9E"}):null,n.createElement("img",{className:"city",src:"https://in-egov-assets.s3.ap-south-1.amazonaws.com/images/Upyog-logo.png"}),n.createElement("span",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",width:"100%"}},U&&(null!=h&&null!==(r=h.city)&&void 0!==r&&r.ulbGrade?n.createElement("p",{className:"ulb",style:E?{fontSize:"14px",display:"inline-block"}:{}},d(null==h?void 0:h.i18nKey).toUpperCase()," ",d("ULBGRADE_"+(null==h||null===(i=h.city)||void 0===i?void 0:i.ulbGrade.toUpperCase().replace(" ","_").replace(".","_"))).toUpperCase()):n.createElement("img",{className:"state",src:b})),!U&&n.createElement("p",{className:"ulb",style:E?{fontSize:"14px",display:"inline-block"}:{}},d("MYCITY_"+(null==f||null===(l=f.code)||void 0===l?void 0:l.toUpperCase())+"_LABEL")," ",d("MYCITY_STATECODE_LABEL")),!E&&n.createElement("div",{className:E?"right":"flex-right right w-80 column-gap-15",style:U?{}:{width:"80%"}},n.createElement("div",{className:"left"},!window.location.href.includes("employee/user/login")&&!window.location.href.includes("employee/user/language-selection")&&n.createElement(je,{dropdown:!0,t:d})),n.createElement("div",{className:"left"},C&&n.createElement(Fe,{dropdown:!0})),(null==v?void 0:v.access_token)&&n.createElement("div",{className:"left"},n.createElement(a.Dropdown,{option:y,optionKey:"name",select:_,showArrow:!0,freeze:!0,style:E?{right:0}:{},optionCardStyles:{overflow:"revert"},customSelector:null==w?n.createElement(ze,{name:(null==v||null===(u=v.info)||void 0===u?void 0:u.name)||(null==v||null===(s=v.info)||void 0===s||null===(c=s.userInfo)||void 0===c?void 0:c.name)||"Employee"}):n.createElement("img",{src:"https://in-egov-assets.s3.ap-south-1.amazonaws.com/images/Upyog-logo.png",style:{height:"48px",width:"48px",borderRadius:"50%"}})})),n.createElement("img",{className:"state",src:"https://in-egov-assets.s3.ap-south-1.amazonaws.com/images/Upyog-logo.png"}))))},Ve=(e,t,r,i,o,l)=>{var a,u;let s=(null==o||null===(a=o.tenants.filter(e=>e.code===l)[0])||void 0===a?void 0:a.contactNumber)||(null==o||null===(u=o.tenants[0])||void 0===u?void 0:u.contactNumber);return[{type:"link",element:"HOME",text:e("COMMON_BOTTOM_NAVIGATION_HOME"),link:i?"/digit-ui/employee":"/digit-ui/citizen",icon:"HomeIcon",populators:{onClick:t}},{type:"component",element:"LANGUAGE",action:n.createElement(Fe,null),icon:"LanguageIcon"},{id:"login-btn",element:"LOGIN",text:e("CORE_COMMON_LOGIN"),icon:"LoginIcon",populators:{onClick:r}},{id:"help-line",text:n.createElement(n.Fragment,null,e("CS_COMMON_HELPLINE"),n.createElement("div",{className:"telephone",style:{marginTop:"-10%"}},n.createElement("div",{className:"link"},n.createElement("a",{href:"tel:"+s},s)))),element:"Helpline",icon:"Phone"}]},He=e=>n.createElement("h1",{className:"heading-m"},e.label),Ge=()=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#FFFFFF"},n.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"})),qe=e=>n.createElement("div",{onClick:null==e?void 0:e.onClick,style:null!=e&&e.isMobileView?{padding:5}:null},null!=e&&e.isMobileView?n.createElement(a.CloseSvg,null):n.createElement("div",{className:"icon-bg-secondary",style:{backgroundColor:"#505A5F"}}," ",n.createElement(Ge,null)," ")),Ze=e=>{let{onSelect:t,onCancel:r,onDismiss:i}=e;const{t:o}=l.useTranslation(),[u,s]=n.useState(window.innerWidth<=780),c=()=>{window.innerWidth<=780?u||s(!0):u&&s(!1)};return n.useEffect(()=>(window.addEventListener("resize",()=>{c()}),()=>{window.addEventListener("resize",()=>{c()})})),u?n.createElement(a.Modal,{popupStyles:{height:"174px",maxHeight:"174px",width:"324px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},popupModuleActionBarStyles:{display:"flex",flex:1,justifyContent:"flex-start",width:"100%",position:"absolute",left:0,bottom:0,padding:"18px"},style:{flex:1},popupModuleMianStyles:{padding:"18px"},headerBarMain:n.createElement(He,{label:o("CORE_LOGOUT_WEB_HEADER")}),headerBarEnd:n.createElement(qe,{onClick:i,isMobileView:u}),actionCancelLabel:o("TL_COMMON_NO"),actionCancelOnSubmit:r,actionSaveLabel:o("TL_COMMON_YES"),actionSaveOnSubmit:t,formId:"modal-action"},n.createElement("div",null,n.createElement(a.CardText,{style:{margin:0}},o("CORE_LOGOUT_MOBILE_CONFIRMATION_MESSAGE")+" "))):n.createElement(a.Modal,{popupModuleMianStyles:{paddingTop:"30px"},headerBarMain:n.createElement(He,{label:o("CORE_LOGOUT_WEB_HEADER")}),headerBarEnd:n.createElement(qe,{onClick:i,isMobileView:!1}),actionCancelLabel:o("CORE_LOGOUT_CANCEL"),actionCancelOnSubmit:r,actionSaveLabel:o("CORE_LOGOUT_WEB_YES"),actionSaveOnSubmit:t,formId:"modal-action"},n.createElement("div",null,n.createElement(a.CardText,{style:{marginBottom:"54px",marginLeft:"8px",marginRight:"8px"}},o("CORE_LOGOUT_WEB_CONFIRMATION_MESSAGE")+" ",n.createElement("strong",null,o("CORE_LOGOUT_MESSAGE"),"?"))))},Xe=e=>{let{info:t,t:r}=e;return n.createElement("div",{className:"profile-section"},n.createElement("div",{className:"imageloader imageloader-loaded"},n.createElement("img",{className:"img-responsive img-circle img-Profile",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO4AAADUCAMAAACs0e/bAAAAM1BMVEXK0eL////Dy97GzuD4+fvL0uPg5O7T2efb4OvR1+Xr7vTk5/Df4+37/P3v8fbO1eTt8PUsnq5FAAAGqElEQVR4nO2d25ajIBBFCajgvf//a0eMyZgEjcI5xgt7Hmatme507UaxuJXidiDqjmSgeVIMlB1ZR1WZAf2gbdu0QwixSYzjOJPmHurfEGEfY9XzjNGG9whQCeVAuv5xQEySLtR9hPuIcwj0EeroN5m3D1IbsbgHK0esiQ9MKsqXVr8Hm/a/Pulk6wihpCIXBw3dh7bTvRBt9+dC5NfS1VH3xETdM3MxXRN1T0zUPTNR98xcS1dlV9NNfx3DhkTdM6PKqHteVBF1z0vU5f0sKdpc2zWLKutXrjJjdLvpesRmukqYonauPhXpdsLb6CppmpnltsYIuY2yavi6Mi2/rzAWm1zUfF0limVLqkZyA+mDYevKBS37aGC+L1lX5e7uyU1Cv565uiua9k5LFqbqqrnu2I3m+jJ11ZoLeRtfmdB0Uw/ZDsP0VTxdn7a1VERfmq7XlXyn5D2QWLoq8bZlPoBJumphJjVBw/Ll6CoTZGsTDs4NrGqKbqBth8ZHJUi6cn168QmleSm6GmB7Kxm+6obXlf7PoDHosCwM3QpiS2legi6ocSl3L0G3BdneDDgwQdENfeY+SfDJBkF37ZB+GvwzA6/rMaafAn8143VhPZWdjMWG1oHXhdnemgPoAvLlB/iZyRTfVeF06wPoQhJmlm4bdcOAZRlRN5gcPc5SoPEQR1fDdbOo6wn+uYvXxY0QCLom6gYROKH+Aj5nvphuFXWDiLpRdxl/19LFT95k6CHCrnW7pCDqBn1i1PUFvii2c11oZOJ6usWeH0RRNzC4Zs+6FTi2nevCVwCjbugnXklX5fkfTldL8PEilUB1kfNyN1u9MME2sATr4lbuB7AjfLAuvsRm1A0g6gYRdcPAjvBlje2Z8brI8OC68AcRdlCkwLohx2mcZMjw9q+LzarQurjtnwPYAydX08WecECO/u6Ad0GBdYG7jO5gB4Ap+PwKcA9ZT43dn4/W9TyiPAn4OAJaF7h3uwe8StSCddFdM3jqFa2LvnnB5zzhuuBBAjY4gi50cg694gnXhTYvfMdrjtcFZhrwE9r41gUem8IXWMC3LrBzxh+a0gRd1N1LOK7M0IUUGuggvEmHoStA2/MJh7MpupiDU4TzjhxdzLAoO4ouZvqVURbFMHQlZD6SUeWHoguZsSLUGegrehA+FZFowPdUWTi6iMoZlIpGGUUXkDbjj/9ZOLqAQS/+GIKl5BQOCn/ycqpzkXSDm5dU7ZWkG7wUyGlcmm7g5Ux56AqirgoaJ7BeokPTDbp9CbVunjFxPrl7+HqnkrSq1Da7JX20f3dV8yJi6voO81mX8vV0mx3qUsZCPRfTlVRdz2EvdufYGDvNQvvwqHtmXd+a1ITinwNcXc+lT6JuzdT1XDyBn/x7wtX1HCQQdW9MXc8xArGrirowfLeUEbMqqq6f7TF1lfRdOuGNiGi6SpT+WxY06xUfNN2wBfyE9I4tlm7w5hvOPDNJN3yNiLMipji6gE3chKhouoCtN5x3QlF0EZt8OW/8ougitqJQlk1aii7iFC9l0MvRReyao7xNjKML2Z/PuHlzhi5mFxljiZeiC9rPTEisNEMX9KYAwo5Xhi7qaA3hamboYm7dG+NVrXhdaYDv5zFaQZsYrCtbbAGnjkQDX2+J1FXCwOsqWOpKoIQNTFdqYBWydxqNqUoG0pVpCS+H8kaJaGKErlIaXj7CRRE+gRWuKwW9YZ80oVOUgbpdT0zpnSZJTIiwCtJVelvXntr4P5j6BWfPb5Wcx84C4cq3hb11lco2u2Mdwp6XdJ/Ne3wb8DWdfiRenZaXrhLwOj4e+GQeHroy3YOspS7TlU28Wle2m2QUS0mqdcbrdNW+ZHsSsyK7tBfm0q/dWcv+Z3mytVx3t7KWulqUe6ilunu8jF8pFwgv1FXp3mUt35OtRbr7eM4u4Gs6vUBXgeuHc5kfE/cbvWZtkROLm1DMtLCy80tzsu2PRj0hTI8fvrQuvsjlJkyutszq+m423wHaLTyniy/XuiGZ84LuT+m5ZfNfRxyGs7LXZOvia7VujatUwVTrIt+Q/Csc7Tuhe+BOakT10b4TuoiiJjvgU9emTO42PwEfBa+cuodKkuf42DXr1D3JpXz73Hnn0j10evHKe+nufgfUm+7B84sX9FfdEzXux2DBpWuKokkCqN/5pa/8pmvnL+RGKCddCGmatiPyPB/+ekO/M/q/7uvbt22kTt3zEnXPzCV13T3Gel4/6NduDu66xRvlPNkM1RjjxUdv+4WhGx6TftD19Q/dfzpwcHO+rE3fAAAAAElFTkSuQmCC"})),n.createElement("div",{id:"profile-name",className:"label-container name-Profile"},n.createElement("div",{className:"label-text"}," ",null==t?void 0:t.name," ")),n.createElement("div",{id:"profile-location",className:"label-container loc-Profile"},n.createElement("div",{className:"label-text"}," ",null==t?void 0:t.mobileNumber," ")),(null==t?void 0:t.emailId)&&n.createElement("div",{id:"profile-emailid",className:"label-container loc-Profile"},n.createElement("div",{className:"label-text"}," ",t.emailId," ")),n.createElement("div",{className:"profile-divider"}),window.location.href.includes("/employee")&&!window.location.href.includes("/employee/user/login")&&!window.location.href.includes("employee/user/language-selection")&&n.createElement(je,{t:r,mobileView:!0}))},Ye={CommonPTIcon:n.createElement(a.PTIcon,{className:"icon"}),OBPSIcon:n.createElement(a.OBPSIcon,{className:"icon"}),propertyIcon:n.createElement(a.PropertyHouse,{className:"icon"}),TLIcon:n.createElement(a.CaseIcon,{className:"icon"}),PGRIcon:n.createElement(a.PGRIcon,{className:"icon"}),FSMIcon:n.createElement(a.FSMIcon,{className:"icon"}),WSIcon:n.createElement(a.WSICon,{className:"icon"}),MCollectIcon:n.createElement(a.MCollectIcon,{className:"icon"}),BillsIcon:n.createElement(a.CollectionIcon,{className:"icon"}),BirthIcon:n.createElement(a.BirthIcon,{className:"icon"}),DeathIcon:n.createElement(a.DeathIcon,{className:"icon"}),FirenocIcon:n.createElement(a.FirenocIcon,{className:"icon"}),HomeIcon:n.createElement(a.HomeIcon,{className:"icon"}),EditPencilIcon:n.createElement(a.EditPencilIcon,{className:"icon"}),LogoutIcon:n.createElement(a.LogoutIcon,{className:"icon"}),Phone:n.createElement(a.Phone,{className:"icon"}),LoginIcon:n.createElement(a.LoginIcon,{className:"icon"})},Ke=e=>{var r,i,u,s,c;let{linkData:d,islinkDataLoading:f}=e;const{t:m}=l.useTranslation(),p=o.useHistory(),v=o.useLocation(),{pathname:g}=v,{data:h,isFetched:E}=Digit.Hooks.useStore.getInitData(),{stateInfo:y}=h||{},_=Digit.UserService.getUser();let b=window.Digit.Utils.browser.isMobile();const[C,S]=t.useState(!1),[w,O]=t.useState(!1),[N,I]=t.useState(!1),D=()=>{I(!1)};if(f||!E)return n.createElement(a.Loader,null);const T=()=>{p.push("/digit-ui/citizen/user/profile")},A=Digit.ULBService.getCitizenCurrentTenant(),L=(null==h||null===(r=h.tenants.filter(e=>e.code===A)[0])||void 0===r?void 0:r.contactNumber)||(null==h||null===(i=h.tenants[0])||void 0===i?void 0:i.contactNumber);let R=[...Ve(m,T,()=>{p.push("/digit-ui/citizen/login")},C,h,A)];R=R.filter(e=>"LANGUAGE"!==e.element);const M=e=>{var t,r;let{item:i}=e;const l=(null==i?void 0:i.icon)||(null===(t=i.icon)||void 0===t||null===(r=t.type)||void 0===r?void 0:r.name),a=l?Ye[l]:Ye.BillsIcon;let u;u="component"===i.type?i.action:i.text;const s=()=>n.createElement("span",x({className:"menu-item"},i.populators),a,n.createElement("div",{className:"menu-label"},u));return"external-link"===i.type?n.createElement("a",{href:i.link},n.createElement(s,null)):"link"===i.type?n.createElement(o.Link,{to:null==i?void 0:i.link},n.createElement(s,null)):n.createElement(s,null)};let P;return E&&_&&_.access_token&&(P=n.createElement(Xe,{info:null==_?void 0:_.info,stateName:null==y?void 0:y.name,t:m}),R=R.filter(e=>"login-btn"!==(null==e?void 0:e.id)&&"help-line"!==(null==e?void 0:e.id)),R=[...R,{text:m("EDIT_PROFILE"),element:"PROFILE",icon:"EditPencilIcon",populators:{onClick:T}},{text:m("CORE_COMMON_LOGOUT"),element:"LOGOUT",icon:"LogoutIcon",populators:{onClick:()=>{O(!1),I(!0)}}},{text:n.createElement(n.Fragment,null,m("CS_COMMON_HELPLINE"),n.createElement("div",{className:"telephone",style:{marginTop:"-10%"}},n.createElement("div",{className:"link"},n.createElement("a",{href:"tel:"+L},L)))),element:"Helpline",icon:"Phone"}]),null===(u=Object.keys(d))||void 0===u||null===(s=u.sort((e,t)=>t.localeCompare(e)))||void 0===s||s.map(e=>{var t,n,r,i,o;"digit-ui-links"===(null===(t=d[e][0])||void 0===t?void 0:t.sidebar)&&R.splice(1,0,{type:null!==(n=d[e][0])&&void 0!==n&&null!==(r=n.sidebarURL)&&void 0!==r&&r.includes("digit-ui")?"link":"external-link",text:m("ACTION_TEST_"+Digit.Utils.locale.getTransformedLocale(e)),links:d[e],icon:null===(i=d[e][0])||void 0===i?void 0:i.leftIcon,link:null===(o=d[e][0])||void 0===o?void 0:o.sidebarURL})}),n.createElement(n.Fragment,null,n.createElement("div",null,n.createElement("div",{style:{height:"100%",width:"100%",top:"0px",backgroundColor:"rgba(0, 0, 0, 0.54)",pointerzevents:"auto"}}),n.createElement("div",{style:{display:"flex",flexDirection:"column",height:b?"calc(100vh - 56px)":"auto",zIndex:"99"}},P,n.createElement("div",{className:"drawer-desktop",style:{backgroundColor:"white"}},null===(c=R)||void 0===c?void 0:c.map((e,t)=>n.createElement("div",{className:"sidebar-list "+(g===(null==e?void 0:e.link)||g===(null==e?void 0:e.sidebarURL)?"active":""),key:t},n.createElement(M,{item:e}))))),n.createElement("div",null,N&&n.createElement(Ze,{onSelect:()=>{Digit.UserService.logout(),I(!1)},onCancel:D,onDismiss:D}))))},Je=e=>{let{info:t,t:r}=e;const[i,o]=n.useState(null);return n.useEffect(function(){try{const e=Digit.ULBService.getCurrentTenantId(),n=null==t?void 0:t.uuid,r=function(){if(n)return Promise.resolve(Digit.UserService.userSearch(e,{uuid:[n]},{})).then(function(e){if(e&&e.user&&e.user.length){var t;const n=e.user[0],r=null==n||null===(t=n.photo)||void 0===t?void 0:t.split(",");o(null==r?void 0:r.at(0))}})}();return Promise.resolve(r&&r.then?r.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},[null!==i]),n.createElement("div",{className:"profile-section"},n.createElement("div",{className:"imageloader imageloader-loaded"},n.createElement("img",{className:"img-responsive img-circle img-Profile",src:i||"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO4AAADUCAMAAACs0e/bAAAAM1BMVEXK0eL////Dy97GzuD4+fvL0uPg5O7T2efb4OvR1+Xr7vTk5/Df4+37/P3v8fbO1eTt8PUsnq5FAAAGqElEQVR4nO2d25ajIBBFCajgvf//a0eMyZgEjcI5xgt7Hmatme507UaxuJXidiDqjmSgeVIMlB1ZR1WZAf2gbdu0QwixSYzjOJPmHurfEGEfY9XzjNGG9whQCeVAuv5xQEySLtR9hPuIcwj0EeroN5m3D1IbsbgHK0esiQ9MKsqXVr8Hm/a/Pulk6wihpCIXBw3dh7bTvRBt9+dC5NfS1VH3xETdM3MxXRN1T0zUPTNR98xcS1dlV9NNfx3DhkTdM6PKqHteVBF1z0vU5f0sKdpc2zWLKutXrjJjdLvpesRmukqYonauPhXpdsLb6CppmpnltsYIuY2yavi6Mi2/rzAWm1zUfF0limVLqkZyA+mDYevKBS37aGC+L1lX5e7uyU1Cv565uiua9k5LFqbqqrnu2I3m+jJ11ZoLeRtfmdB0Uw/ZDsP0VTxdn7a1VERfmq7XlXyn5D2QWLoq8bZlPoBJumphJjVBw/Ll6CoTZGsTDs4NrGqKbqBth8ZHJUi6cn168QmleSm6GmB7Kxm+6obXlf7PoDHosCwM3QpiS2legi6ocSl3L0G3BdneDDgwQdENfeY+SfDJBkF37ZB+GvwzA6/rMaafAn8143VhPZWdjMWG1oHXhdnemgPoAvLlB/iZyRTfVeF06wPoQhJmlm4bdcOAZRlRN5gcPc5SoPEQR1fDdbOo6wn+uYvXxY0QCLom6gYROKH+Aj5nvphuFXWDiLpRdxl/19LFT95k6CHCrnW7pCDqBn1i1PUFvii2c11oZOJ6usWeH0RRNzC4Zs+6FTi2nevCVwCjbugnXklX5fkfTldL8PEilUB1kfNyN1u9MME2sATr4lbuB7AjfLAuvsRm1A0g6gYRdcPAjvBlje2Z8brI8OC68AcRdlCkwLohx2mcZMjw9q+LzarQurjtnwPYAydX08WecECO/u6Ad0GBdYG7jO5gB4Ap+PwKcA9ZT43dn4/W9TyiPAn4OAJaF7h3uwe8StSCddFdM3jqFa2LvnnB5zzhuuBBAjY4gi50cg694gnXhTYvfMdrjtcFZhrwE9r41gUem8IXWMC3LrBzxh+a0gRd1N1LOK7M0IUUGuggvEmHoStA2/MJh7MpupiDU4TzjhxdzLAoO4ouZvqVURbFMHQlZD6SUeWHoguZsSLUGegrehA+FZFowPdUWTi6iMoZlIpGGUUXkDbjj/9ZOLqAQS/+GIKl5BQOCn/ycqpzkXSDm5dU7ZWkG7wUyGlcmm7g5Ux56AqirgoaJ7BeokPTDbp9CbVunjFxPrl7+HqnkrSq1Da7JX20f3dV8yJi6voO81mX8vV0mx3qUsZCPRfTlVRdz2EvdufYGDvNQvvwqHtmXd+a1ITinwNcXc+lT6JuzdT1XDyBn/x7wtX1HCQQdW9MXc8xArGrirowfLeUEbMqqq6f7TF1lfRdOuGNiGi6SpT+WxY06xUfNN2wBfyE9I4tlm7w5hvOPDNJN3yNiLMipji6gE3chKhouoCtN5x3QlF0EZt8OW/8ougitqJQlk1aii7iFC9l0MvRReyao7xNjKML2Z/PuHlzhi5mFxljiZeiC9rPTEisNEMX9KYAwo5Xhi7qaA3hamboYm7dG+NVrXhdaYDv5zFaQZsYrCtbbAGnjkQDX2+J1FXCwOsqWOpKoIQNTFdqYBWydxqNqUoG0pVpCS+H8kaJaGKErlIaXj7CRRE+gRWuKwW9YZ80oVOUgbpdT0zpnSZJTIiwCtJVelvXntr4P5j6BWfPb5Wcx84C4cq3hb11lco2u2Mdwp6XdJ/Ne3wb8DWdfiRenZaXrhLwOj4e+GQeHroy3YOspS7TlU28Wle2m2QUS0mqdcbrdNW+ZHsSsyK7tBfm0q/dWcv+Z3mytVx3t7KWulqUe6ilunu8jF8pFwgv1FXp3mUt35OtRbr7eM4u4Gs6vUBXgeuHc5kfE/cbvWZtkROLm1DMtLCy80tzsu2PRj0hTI8fvrQuvsjlJkyutszq+m423wHaLTyniy/XuiGZ84LuT+m5ZfNfRxyGs7LXZOvia7VujatUwVTrIt+Q/Csc7Tuhe+BOakT10b4TuoiiJjvgU9emTO42PwEfBa+cuodKkuf42DXr1D3JpXz73Hnn0j10evHKe+nufgfUm+7B84sX9FfdEzXux2DBpWuKokkCqN/5pa/8pmvnL+RGKCddCGmatiPyPB/+ekO/M/q/7uvbt22kTt3zEnXPzCV13T3Gel4/6NduDu66xRvlPNkM1RjjxUdv+4WhGx6TftD19Q/dfzpwcHO+rE3fAAAAAElFTkSuQmCC",style:{objectFit:"cover",objectPosition:"center"}})),n.createElement("div",{id:"profile-name",className:"label-container name-Profile"},n.createElement("div",{className:"label-text"}," ",null==t?void 0:t.name," ")),n.createElement("div",{id:"profile-location",className:"label-container loc-Profile"},n.createElement("div",{className:"label-text"}," ",null==t?void 0:t.mobileNumber," ")),(null==t?void 0:t.emailId)&&n.createElement("div",{id:"profile-emailid",className:"label-container loc-Profile"},n.createElement("div",{className:"label-text"}," ",t.emailId," ")),n.createElement("div",{className:"profile-divider"}),window.location.href.includes("/employee")&&!window.location.href.includes("/employee/user/login")&&!window.location.href.includes("employee/user/language-selection")&&n.createElement(je,{t:r,mobileView:!0}))},$e=()=>n.createElement("div",{className:"digit-footer",style:{marginBottom:0}}),Qe=e=>{var r,i;let{isOpen:u,isMobile:s=!1,toggleSidebar:c,onLogout:d,isEmployee:f=!1,linkData:m,islinkDataLoading:p,isSideBarScroll:v}=e;const{data:g,isFetched:h}=Digit.Hooks.useStore.getInitData(),{stateInfo:E}=g||{},y=Digit.UserService.getUser(),[_,b]=t.useState(""),{t:C}=l.useTranslation(),S=o.useHistory(),w=()=>{Digit.clikOusideFired=!0,c(!1)},{isLoading:O,data:N}=Digit.Hooks.useAccessControl(),I=Digit.ULBService.getCitizenCurrentTenant();if(p||O||!h)return n.createElement(a.Loader,null);const D=(null==g||null===(r=g.tenants.filter(e=>e.code===I)[0])||void 0===r?void 0:r.contactNumber)||(null==g||null===(i=g.tenants[0])||void 0===i?void 0:i.contactNumber);let T,x=[...Ve(C,w,()=>{S.push("/digit-ui/citizen/login"),w()},f,g,I)];h&&y&&y.access_token&&(T=n.createElement(Je,{info:null==y?void 0:y.info,stateName:null==E?void 0:E.name,t:C}),x=x.filter(e=>"login-btn"!==(null==e?void 0:e.id)&&"help-line"!==(null==e?void 0:e.id)),x=[...x,{text:C("EDIT_PROFILE"),element:"PROFILE",icon:"EditPencilIcon",populators:{onClick:()=>{S.push(f?"/digit-ui/employee/user/profile":"/digit-ui/citizen/user/profile"),w()}}},{text:C("CORE_COMMON_LOGOUT"),element:"LOGOUT",icon:"LogoutIcon",populators:{onClick:d}},{text:n.createElement(n.Fragment,null,C("CS_COMMON_HELPLINE"),n.createElement("div",{className:"telephone",style:{marginTop:"-10%"}},n.createElement("div",{className:"link"},n.createElement("a",{href:"tel:"+D},D)))),element:"Helpline",icon:"Phone"}]);let A={};if(f){var L;null==N||N.actions.filter(e=>"url"===e.url&&"Home"!==e.displayName).forEach(e=>{var t;if(""==_&&""!==e.path){let t=e.path.split(".")[0];"TradeLicense"===t&&(t="Trade License"),A[t]?A[t].push(e):A[t]=[e]}else if(""!==e.path&&null!=e&&null!==(t=e.displayName)&&void 0!==t&&t.toLowerCase().includes(_.toLowerCase())){let t=e.path.split(".")[0];"TradeLicense"===t&&(t="Trade License"),A[t]?A[t].push(e):A[t]=[e]}});const e=Object.keys(A);for(let t=0;t<e.length;t++){var R,M,P,k,U;const n=null===(R=A[e[t]][0])||void 0===R||null===(M=R.displayName)||void 0===M||null===(P=M.toUpperCase())||void 0===P?void 0:P.replace(/[ -]/g,"_"),r=null===(k=e[t])||void 0===k||null===(U=k.toUpperCase())||void 0===U?void 0:U.replace(/[ -]/g,"_");var B,j,F,z,W,V,H;-1===A[e[t]][0].path.indexOf(".")?x.splice(1,0,{type:"link",text:C("ACTION_TEST_"+n),link:null===(B=A[e[t]][0])||void 0===B?void 0:B.navigationURL,icon:null===(j=A[e[t]][0])||void 0===j||null===(F=j.leftIcon)||void 0===F||null===(z=(W=F).split)||void 0===z?void 0:z.call(W,":")[1],populators:{onClick:()=>{var n;S.push(null===(n=A[e[t]][0])||void 0===n?void 0:n.navigationURL),w()}}}):x.splice(1,0,{type:"dynamic",moduleName:C("ACTION_TEST_"+r),links:null===(V=A[e[t]])||void 0===V?void 0:V.map(e=>{var t,n;return{...e,displayName:C("ACTION_TEST_"+(null==e||null===(t=e.displayName)||void 0===t||null===(n=t.toUpperCase())||void 0===n?void 0:n.replace(/[ -]/g,"_")))}}),icon:null===(H=A[e[t]][1])||void 0===H?void 0:H.leftIcon})}const t=x.findIndex(e=>"HOME"===e.element),n=x.splice(t,1),r=x.findIndex(e=>"LANGUAGE"===e.element),i=x.splice(r,(null===(L=x)||void 0===L?void 0:L.length)-r);x.sort((e,t)=>("dynamic"===(null==e?void 0:e.type)?null==e?void 0:e.moduleName:null==e?void 0:e.text).localeCompare("dynamic"===(null==t?void 0:t.type)?null==t?void 0:t.moduleName:null==t?void 0:t.text)),(null==n?void 0:n[0])&&x.splice(0,0,n[0]),x=(null==i?void 0:i.length)>0?x.concat(i):x}else{var G,q;if(m&&m.FSM){let e=[];m.FSM.map(t=>{t.id&&t.link&&e.push(t)}),m.FSM=e}null===(G=Object.keys(m))||void 0===G||null===(q=G.sort((e,t)=>t.localeCompare(e)))||void 0===q||q.map(e=>{var t,n,r,i,o;"digit-ui-links"===(null===(t=m[e][0])||void 0===t?void 0:t.sidebar)&&x.splice(1,0,{type:null!==(n=m[e][0])&&void 0!==n&&null!==(r=n.sidebarURL)&&void 0!==r&&r.includes("digit-ui")?"link":"external-link",text:C("ACTION_TEST_"+Digit.Utils.locale.getTransformedLocale(e)),links:m[e],icon:null===(i=m[e][0])||void 0===i?void 0:i.leftIcon,link:null===(o=m[e][0])||void 0===o?void 0:o.sidebarURL})})}return S.location.pathname.includes("/openlink")&&(T=n.createElement("span",null),x=x.filter(e=>"LANGUAGE"===e.element)),s?n.createElement(a.NavBar,{open:u,toggleSidebar:c,profileItem:T,onClose:w,isSideBarScroll:v,menuItems:x,Footer:n.createElement($e,null),isEmployee:f,search:_,setSearch:b}):n.createElement(Ke,{logout:d})},et=e=>{var r,i,s,c,d,f,m;let{item:p}=e;const[v,g]=t.useState(!1),h=o.useLocation(),{pathname:E}=h,{t:y}=l.useTranslation(),_={home:n.createElement(a.HomeIcon,null),announcement:n.createElement(a.ComplaintIcon,null),business:n.createElement(a.BPAHomeIcon,null),store:n.createElement(a.PropertyHouse,null),assignment:n.createElement(a.CaseIcon,null),receipt:n.createElement(a.ReceiptIcon,null),"business-center":n.createElement(a.PersonIcon,null),description:n.createElement(a.DocumentIconSolid,null),"water-tap":n.createElement(a.DropIcon,null),"collections-bookmark":n.createElement(a.CollectionsBookmarIcons,null),"insert-chart":n.createElement(a.FinanceChartIcon,null),edcr:n.createElement(a.CollectionIcon,null),collections:n.createElement(a.CollectionIcon,null)},b=_[(null==p||null===(r=p.icon)||void 0===r||null===(i=r.leftIcon)||void 0===i||null===(s=i.split)||void 0===s||null===(c=s.call(i,":"))||void 0===c?void 0:c[1])||(null==p||null===(d=p.leftIcon)||void 0===d||null===(f=d.split)||void 0===f?void 0:f.call(d,":")[1])]||_.collections,C=null==p||null===(m=p.moduleName)||void 0===m?void 0:m.replace(/[ -]/g,"_"),S=y("ACTION_TEST_"+C),w=y((null==S?void 0:S.length)>20?S.substring(0,20)+"...":S);if("single"===p.type){var O;const e=window.location.origin;return n.createElement("div",{className:"submenu-container"},n.createElement("div",{className:"sidebar-link  "+(E===(null==p?void 0:p.navigationURL)?"active":"")},n.createElement("div",{className:"actions"},b,-1===(null===(O=p.navigationURL)||void 0===O?void 0:O.indexOf("/digit-ui"))?n.createElement("a",{"data-tip":"React-tooltip","data-for":"jk-side-"+C,className:"custom-link",href:e+"/employee/"+p.navigationURL},n.createElement("span",null," ",w," "),(null==w?void 0:w.includes("..."))&&n.createElement(u,{textColor:"white",backgroundColor:"grey",place:"right",type:"info",effect:"solid",id:"jk-side-"+C},y("ACTION_TEST_"+C))):n.createElement(o.Link,{className:"custom-link",to:p.navigationURL},n.createElement("div",{"data-tip":"React-tooltip","data-for":"jk-side-"+C},n.createElement("span",null," ",w," "),(null==w?void 0:w.includes("..."))&&n.createElement(u,{textColor:"white",backgroundColor:"grey",place:"right",type:"info",effect:"solid",id:"jk-side-"+C},y("ACTION_TEST_"+C)))))))}return n.createElement(n.Fragment,null,n.createElement("div",{className:"submenu-container"},n.createElement("div",{onClick:p.links&&(()=>g(!v)),className:"sidebar-link"},n.createElement("div",{className:"actions"},b,n.createElement("div",{"data-tip":"React-tooltip","data-for":"jk-side-"+C},n.createElement("span",null," ",w," "),(null==w?void 0:w.includes("..."))&&n.createElement(u,{textColor:"white",backgroundColor:"grey",place:"right",type:"info",effect:"solid",id:"jk-side-"+C},y("ACTION_TEST_"+C)))),n.createElement("div",null," ",p.links&&v?n.createElement(a.ArrowVectorDown,null):p.links?n.createElement(a.ArrowForward,null):null," "))),v&&p.links.sort((e,t)=>e.orderNumber-t.orderNumber).filter(e=>"url"===e.url||""!==e.url).map((e,t)=>{var r,i;const l=null==e||null===(r=e.displayName)||void 0===r||null===(i=r.toUpperCase())||void 0===i?void 0:i.replace(/[ -]/g,"_"),a=y("ACTION_TEST_"+l),s=y((null==a?void 0:a.length)>20?a.substring(0,20)+"...":a);if(-1===e.navigationURL.indexOf("/digit-ui")){const r=window.location.origin;return n.createElement("a",{key:t,className:"dropdown-link "+(E===e.link?"active":""),href:r+"/employee/"+e.navigationURL},n.createElement("div",{className:"actions","data-tip":"React-tooltip","data-for":"jk-side-"+t},n.createElement("span",null," ",s," "),(null==s?void 0:s.includes("..."))&&n.createElement(u,{textColor:"white",backgroundColor:"grey",place:"right",type:"info",effect:"solid",id:"jk-side-"+t},y("ACTION_TEST_"+l))))}return n.createElement(o.Link,{to:(null==e?void 0:e.link)||e.navigationURL,key:t,className:"dropdown-link "+(E===(null==e?void 0:e.link)||E===(null==e?void 0:e.navigationURL)?"active":"")},n.createElement("div",{className:"actions","data-tip":"React-tooltip","data-for":"jk-side-"+t},n.createElement("span",null," ",s," "),(null==s?void 0:s.includes("..."))&&n.createElement(u,{textColor:"white",backgroundColor:"grey",place:"right",type:"info",effect:"solid",id:"jk-side-"+t},y("ACTION_TEST_"+l))))}))};var tt=L(function(e,t){(function(){var n="Expected a function",r="__lodash_placeholder__",i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],o="[object Arguments]",l="[object Array]",a="[object Boolean]",u="[object Date]",s="[object Error]",c="[object Function]",d="[object GeneratorFunction]",f="[object Map]",m="[object Number]",p="[object Object]",v="[object RegExp]",g="[object Set]",h="[object String]",E="[object Symbol]",y="[object WeakMap]",_="[object ArrayBuffer]",b="[object DataView]",C="[object Float32Array]",S="[object Float64Array]",w="[object Int8Array]",O="[object Int16Array]",N="[object Int32Array]",I="[object Uint8Array]",D="[object Uint16Array]",T="[object Uint32Array]",x=/\b__p \+= '';/g,L=/\b(__p \+=) '' \+/g,R=/(__e\(.*?\)|\b__t\)) \+\n'';/g,M=/&(?:amp|lt|gt|quot|#39);/g,P=/[&<>"']/g,k=RegExp(M.source),U=RegExp(P.source),B=/<%-([\s\S]+?)%>/g,j=/<%([\s\S]+?)%>/g,F=/<%=([\s\S]+?)%>/g,z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W=/^\w*$/,V=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,H=/[\\^$.*+?()[\]{}|]/g,G=RegExp(H.source),q=/^\s+/,Z=/\s/,X=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,K=/,? & /,J=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$=/[()=,{}\[\]\/\s]/,Q=/\\(\\)?/g,ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,te=/\w*$/,ne=/^[-+]0x[0-9a-f]+$/i,re=/^0b[01]+$/i,ie=/^\[object .+?Constructor\]$/,oe=/^0o[0-7]+$/i,le=/^(?:0|[1-9]\d*)$/,ae=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,se=/['\n\r\u2028\u2029\\]/g,ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",de="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fe="["+de+"]",me="["+ce+"]",pe="\\d+",ve="[a-z\\xdf-\\xf6\\xf8-\\xff]",ge="[^\\ud800-\\udfff"+de+pe+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",he="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",ye="(?:\\ud83c[\\udde6-\\uddff]){2}",_e="[\\ud800-\\udbff][\\udc00-\\udfff]",be="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ce="(?:"+ve+"|"+ge+")",Se="(?:"+be+"|"+ge+")",we="(?:"+me+"|"+he+")?",Oe="[\\ufe0e\\ufe0f]?"+we+"(?:\\u200d(?:"+[Ee,ye,_e].join("|")+")[\\ufe0e\\ufe0f]?"+we+")*",Ne="(?:"+["[\\u2700-\\u27bf]",ye,_e].join("|")+")"+Oe,Ie="(?:"+[Ee+me+"?",me,ye,_e,"[\\ud800-\\udfff]"].join("|")+")",De=RegExp("['’]","g"),Te=RegExp(me,"g"),xe=RegExp(he+"(?="+he+")|"+Ie+Oe,"g"),Ae=RegExp([be+"?"+ve+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[fe,be,"$"].join("|")+")",Se+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[fe,be+Ce,"$"].join("|")+")",be+"?"+Ce+"+(?:['’](?:d|ll|m|re|s|t|ve))?",be+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pe,Ne].join("|"),"g"),Le=RegExp("[\\u200d\\ud800-\\udfff"+ce+"\\ufe0e\\ufe0f]"),Re=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Me=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pe=-1,ke={};ke[C]=ke[S]=ke[w]=ke[O]=ke[N]=ke[I]=ke["[object Uint8ClampedArray]"]=ke[D]=ke[T]=!0,ke[o]=ke[l]=ke[_]=ke[a]=ke[b]=ke[u]=ke[s]=ke[c]=ke[f]=ke[m]=ke[p]=ke[v]=ke[g]=ke[h]=ke[y]=!1;var Ue={};Ue[o]=Ue[l]=Ue[_]=Ue[b]=Ue[a]=Ue[u]=Ue[C]=Ue[S]=Ue[w]=Ue[O]=Ue[N]=Ue[f]=Ue[m]=Ue[p]=Ue[v]=Ue[g]=Ue[h]=Ue[E]=Ue[I]=Ue["[object Uint8ClampedArray]"]=Ue[D]=Ue[T]=!0,Ue[s]=Ue[c]=Ue[y]=!1;var Be={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},je=parseFloat,Fe=parseInt,ze="object"==typeof A&&A&&A.Object===Object&&A,We="object"==typeof self&&self&&self.Object===Object&&self,Ve=ze||We||Function("return this")(),He=t&&!t.nodeType&&t,Ge=He&&e&&!e.nodeType&&e,qe=Ge&&Ge.exports===He,Ze=qe&&ze.process,Xe=function(){try{return Ge&&Ge.require&&Ge.require("util").types||Ze&&Ze.binding&&Ze.binding("util")}catch(e){}}(),Ye=Xe&&Xe.isArrayBuffer,Ke=Xe&&Xe.isDate,Je=Xe&&Xe.isMap,$e=Xe&&Xe.isRegExp,Qe=Xe&&Xe.isSet,et=Xe&&Xe.isTypedArray;function tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function nt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var l=e[i];t(r,l,n(l),e)}return r}function rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function it(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function lt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var l=e[n];t(l,n,e)&&(o[i++]=l)}return o}function at(e,t){return!(null==e||!e.length)&&ht(e,t,0)>-1}function ut(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function st(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function ct(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function mt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var pt=bt("length");function vt(e,t,n){var r;return n(e,function(e,n,i){if(t(e,n,i))return r=n,!1}),r}function gt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function ht(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):gt(e,yt,n)}function Et(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function yt(e){return e!=e}function _t(e,t){var n=null==e?0:e.length;return n?wt(e,t)/n:NaN}function bt(e){return function(t){return null==t?void 0:t[e]}}function Ct(e){return function(t){return null==e?void 0:e[t]}}function St(e,t,n,r,i){return i(e,function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)}),n}function wt(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function Ot(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Nt(e){return e?e.slice(0,Ht(e)+1).replace(q,""):e}function It(e){return function(t){return e(t)}}function Dt(e,t){return st(t,function(t){return e[t]})}function Tt(e,t){return e.has(t)}function xt(e,t){for(var n=-1,r=e.length;++n<r&&ht(t,e[n],0)>-1;);return n}function At(e,t){for(var n=e.length;n--&&ht(t,e[n],0)>-1;);return n}function Lt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var Rt=Ct({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Mt=Ct({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Pt(e){return"\\"+Be[e]}function kt(e){return Le.test(e)}function Ut(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function Bt(e,t){return function(n){return e(t(n))}}function jt(e,t){for(var n=-1,i=e.length,o=0,l=[];++n<i;){var a=e[n];a!==t&&a!==r||(e[n]=r,l[o++]=n)}return l}function Ft(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function zt(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Wt(e){return kt(e)?function(e){for(var t=xe.lastIndex=0;xe.test(e);)++t;return t}(e):pt(e)}function Vt(e){return kt(e)?function(e){return e.match(xe)||[]}(e):function(e){return e.split("")}(e)}function Ht(e){for(var t=e.length;t--&&Z.test(e.charAt(t)););return t}var Gt=Ct({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),qt=function e(t){var A,Z=(t=null==t?Ve:qt.defaults(Ve.Object(),t,qt.pick(Ve,Me))).Array,ce=t.Date,de=t.Error,fe=t.Function,me=t.Math,pe=t.Object,ve=t.RegExp,ge=t.String,he=t.TypeError,Ee=Z.prototype,ye=pe.prototype,_e=t["__core-js_shared__"],be=fe.prototype.toString,Ce=ye.hasOwnProperty,Se=0,we=(A=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+A:"",Oe=ye.toString,Ne=be.call(pe),Ie=Ve._,xe=ve("^"+be.call(Ce).replace(H,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=qe?t.Buffer:void 0,Be=t.Symbol,ze=t.Uint8Array,We=Le?Le.allocUnsafe:void 0,He=Bt(pe.getPrototypeOf,pe),Ge=pe.create,Ze=ye.propertyIsEnumerable,Xe=Ee.splice,pt=Be?Be.isConcatSpreadable:void 0,Ct=Be?Be.iterator:void 0,Zt=Be?Be.toStringTag:void 0,Xt=function(){try{var e=$i(pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),Yt=t.clearTimeout!==Ve.clearTimeout&&t.clearTimeout,Kt=ce&&ce.now!==Ve.Date.now&&ce.now,Jt=t.setTimeout!==Ve.setTimeout&&t.setTimeout,$t=me.ceil,Qt=me.floor,en=pe.getOwnPropertySymbols,tn=Le?Le.isBuffer:void 0,nn=t.isFinite,rn=Ee.join,on=Bt(pe.keys,pe),ln=me.max,an=me.min,un=ce.now,sn=t.parseInt,cn=me.random,dn=Ee.reverse,fn=$i(t,"DataView"),mn=$i(t,"Map"),pn=$i(t,"Promise"),vn=$i(t,"Set"),gn=$i(t,"WeakMap"),hn=$i(pe,"create"),En=gn&&new gn,yn={},_n=Do(fn),bn=Do(mn),Cn=Do(pn),Sn=Do(vn),wn=Do(gn),On=Be?Be.prototype:void 0,Nn=On?On.valueOf:void 0,In=On?On.toString:void 0;function Dn(e){if(Gl(e)&&!Ml(e)&&!(e instanceof Ln)){if(e instanceof An)return e;if(Ce.call(e,"__wrapped__"))return To(e)}return new An(e)}var Tn=function(){function e(){}return function(t){if(!Hl(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function xn(){}function An(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Ln(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Rn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Pn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Pn;++t<n;)this.add(e[t])}function Un(e){var t=this.__data__=new Mn(e);this.size=t.size}function Bn(e,t){var n=Ml(e),r=!n&&Rl(e),i=!n&&!r&&Bl(e),o=!n&&!r&&!i&&Ql(e),l=n||r||i||o,a=l?Ot(e.length,ge):[],u=a.length;for(var s in e)!t&&!Ce.call(e,s)||l&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||oo(s,u))||a.push(s);return a}function jn(e){var t=e.length;return t?e[Pr(0,t-1)]:void 0}function Fn(e,t){return So(gi(e),Yn(t,0,e.length))}function zn(e){return So(gi(e))}function Wn(e,t,n){(void 0!==n&&!xl(e[t],n)||void 0===n&&!(t in e))&&Zn(e,t,n)}function Vn(e,t,n){var r=e[t];Ce.call(e,t)&&xl(r,n)&&(void 0!==n||t in e)||Zn(e,t,n)}function Hn(e,t){for(var n=e.length;n--;)if(xl(e[n][0],t))return n;return-1}function Gn(e,t,n,r){return er(e,function(e,i,o){t(r,e,n(e),o)}),r}function qn(e,t){return e&&hi(t,ba(t),e)}function Zn(e,t,n){"__proto__"==t&&Xt?Xt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Xn(e,t){for(var n=-1,r=t.length,i=Z(r),o=null==e;++n<r;)i[n]=o?void 0:ga(e,t[n]);return i}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Kn(e,t,n,r,i,l){var s,y=1&t,x=2&t,A=4&t;if(n&&(s=i?n(e,r,i,l):n(e)),void 0!==s)return s;if(!Hl(e))return e;var L=Ml(e);if(L){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Ce.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!y)return gi(e,s)}else{var R=to(e),M=R==c||R==d;if(Bl(e))return ci(e,y);if(R==p||R==o||M&&!i){if(s=x||M?{}:ro(e),!y)return x?function(e,t){return hi(e,eo(e),t)}(e,function(e,t){return e&&hi(t,Ca(t),e)}(s,e)):function(e,t){return hi(e,Qi(e),t)}(e,qn(s,e))}else{if(!Ue[R])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case _:return di(e);case a:case u:return new r(+e);case b:return function(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case C:case S:case w:case O:case N:case I:case"[object Uint8ClampedArray]":case D:case T:return fi(e,n);case f:return new r;case m:case h:return new r(e);case v:return function(e){var t=new e.constructor(e.source,te.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return new r;case E:return Nn?pe(Nn.call(e)):{}}}(e,R,y)}}l||(l=new Un);var P=l.get(e);if(P)return P;l.set(e,s),Kl(e)?e.forEach(function(r){s.add(Kn(r,t,n,r,e,l))}):ql(e)&&e.forEach(function(r,i){s.set(i,Kn(r,t,n,i,e,l))});var k=L?void 0:(A?x?Gi:Hi:x?Ca:ba)(e);return rt(k||e,function(r,i){k&&(r=e[i=r]),Vn(s,i,Kn(r,t,n,i,e,l))}),s}function Jn(e,t,n){var r=n.length;if(null==e)return!r;for(e=pe(e);r--;){var i=n[r],o=e[i];if(void 0===o&&!(i in e)||!(0,t[i])(o))return!1}return!0}function $n(e,t,r){if("function"!=typeof e)throw new he(n);return yo(function(){e.apply(void 0,r)},t)}function Qn(e,t,n,r){var i=-1,o=at,l=!0,a=e.length,u=[],s=t.length;if(!a)return u;n&&(t=st(t,It(n))),r?(o=ut,l=!1):t.length>=200&&(o=Tt,l=!1,t=new kn(t));e:for(;++i<a;){var c=e[i],d=null==n?c:n(c);if(c=r||0!==c?c:0,l&&d==d){for(var f=s;f--;)if(t[f]===d)continue e;u.push(c)}else o(t,d,r)||u.push(c)}return u}Dn.templateSettings={escape:B,evaluate:j,interpolate:F,variable:"",imports:{_:Dn}},(Dn.prototype=xn.prototype).constructor=Dn,(An.prototype=Tn(xn.prototype)).constructor=An,(Ln.prototype=Tn(xn.prototype)).constructor=Ln,Rn.prototype.clear=function(){this.__data__=hn?hn(null):{},this.size=0},Rn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Rn.prototype.get=function(e){var t=this.__data__;if(hn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ce.call(t,e)?t[e]:void 0},Rn.prototype.has=function(e){var t=this.__data__;return hn?void 0!==t[e]:Ce.call(t,e)},Rn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=hn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=Hn(t,e);return!(n<0||(n==t.length-1?t.pop():Xe.call(t,n,1),--this.size,0))},Mn.prototype.get=function(e){var t=this.__data__,n=Hn(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return Hn(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,r=Hn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Pn.prototype.clear=function(){this.size=0,this.__data__={hash:new Rn,map:new(mn||Mn),string:new Rn}},Pn.prototype.delete=function(e){var t=Ki(this,e).delete(e);return this.size-=t?1:0,t},Pn.prototype.get=function(e){return Ki(this,e).get(e)},Pn.prototype.has=function(e){return Ki(this,e).has(e)},Pn.prototype.set=function(e,t){var n=Ki(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},kn.prototype.add=kn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},kn.prototype.has=function(e){return this.__data__.has(e)},Un.prototype.clear=function(){this.__data__=new Mn,this.size=0},Un.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Un.prototype.get=function(e){return this.__data__.get(e)},Un.prototype.has=function(e){return this.__data__.has(e)},Un.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var r=n.__data__;if(!mn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pn(r)}return n.set(e,t),this.size=n.size,this};var er=_i(ur),tr=_i(sr,!0);function nr(e,t){var n=!0;return er(e,function(e,r,i){return n=!!t(e,r,i)}),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],l=t(o);if(null!=l&&(void 0===a?l==l&&!$l(l):n(l,a)))var a=l,u=o}return u}function ir(e,t){var n=[];return er(e,function(e,r,i){t(e,r,i)&&n.push(e)}),n}function or(e,t,n,r,i){var o=-1,l=e.length;for(n||(n=io),i||(i=[]);++o<l;){var a=e[o];t>0&&n(a)?t>1?or(a,t-1,n,r,i):ct(i,a):r||(i[i.length]=a)}return i}var lr=bi(),ar=bi(!0);function ur(e,t){return e&&lr(e,t,ba)}function sr(e,t){return e&&ar(e,t,ba)}function cr(e,t){return lt(t,function(t){return zl(e[t])})}function dr(e,t){for(var n=0,r=(t=li(t,e)).length;null!=e&&n<r;)e=e[Io(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Ml(e)?r:ct(r,n(e))}function mr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Zt&&Zt in pe(e)?function(e){var t=Ce.call(e,Zt),n=e[Zt];try{e[Zt]=void 0;var r=!0}catch(e){}var i=Oe.call(e);return r&&(t?e[Zt]=n:delete e[Zt]),i}(e):function(e){return Oe.call(e)}(e)}function pr(e,t){return e>t}function vr(e,t){return null!=e&&Ce.call(e,t)}function gr(e,t){return null!=e&&t in pe(e)}function hr(e,t,n){for(var r=n?ut:at,i=e[0].length,o=e.length,l=o,a=Z(o),u=Infinity,s=[];l--;){var c=e[l];l&&t&&(c=st(c,It(t))),u=an(c.length,u),a[l]=!n&&(t||i>=120&&c.length>=120)?new kn(l&&c):void 0}c=e[0];var d=-1,f=a[0];e:for(;++d<i&&s.length<u;){var m=c[d],p=t?t(m):m;if(m=n||0!==m?m:0,!(f?Tt(f,p):r(s,p,n))){for(l=o;--l;){var v=a[l];if(!(v?Tt(v,p):r(e[l],p,n)))continue e}f&&f.push(p),s.push(m)}}return s}function Er(e,t,n){var r=null==(e=vo(e,t=li(t,e)))?e:e[Io(Fo(t))];return null==r?void 0:tt(r,e,n)}function yr(e){return Gl(e)&&mr(e)==o}function _r(e,t,n,r,i){return e===t||(null==e||null==t||!Gl(e)&&!Gl(t)?e!=e&&t!=t:function(e,t,n,r,i,c){var d=Ml(e),y=Ml(t),C=d?l:to(e),S=y?l:to(t),w=(C=C==o?p:C)==p,O=(S=S==o?p:S)==p,N=C==S;if(N&&Bl(e)){if(!Bl(t))return!1;d=!0,w=!1}if(N&&!w)return c||(c=new Un),d||Ql(e)?Wi(e,t,n,r,i,c):function(e,t,n,r,i,o,l){switch(n){case b:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case _:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case a:case u:case m:return xl(+e,+t);case s:return e.name==t.name&&e.message==t.message;case v:case h:return e==t+"";case f:var c=Ut;case g:if(c||(c=Ft),e.size!=t.size&&!(1&r))return!1;var d=l.get(e);if(d)return d==t;r|=2,l.set(e,t);var p=Wi(c(e),c(t),r,i,o,l);return l.delete(e),p;case E:if(Nn)return Nn.call(e)==Nn.call(t)}return!1}(e,t,C,n,r,i,c);if(!(1&n)){var I=w&&Ce.call(e,"__wrapped__"),D=O&&Ce.call(t,"__wrapped__");if(I||D){var T=I?e.value():e,x=D?t.value():t;return c||(c=new Un),i(T,x,n,r,c)}}return!!N&&(c||(c=new Un),function(e,t,n,r,i,o){var l=1&n,a=Hi(e),u=a.length;if(u!=Hi(t).length&&!l)return!1;for(var s=u;s--;){var c=a[s];if(!(l?c in t:Ce.call(t,c)))return!1}var d=o.get(e),f=o.get(t);if(d&&f)return d==t&&f==e;var m=!0;o.set(e,t),o.set(t,e);for(var p=l;++s<u;){var v=e[c=a[s]],g=t[c];if(r)var h=l?r(g,v,c,t,e,o):r(v,g,c,e,t,o);if(!(void 0===h?v===g||i(v,g,n,r,o):h)){m=!1;break}p||(p="constructor"==c)}if(m&&!p){var E=e.constructor,y=t.constructor;E==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof E&&E instanceof E&&"function"==typeof y&&y instanceof y||(m=!1)}return o.delete(e),o.delete(t),m}(e,t,n,r,i,c))}(e,t,n,r,_r,i))}function br(e,t,n,r){var i=n.length,o=i,l=!r;if(null==e)return!o;for(e=pe(e);i--;){var a=n[i];if(l&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var u=(a=n[i])[0],s=e[u],c=a[1];if(l&&a[2]){if(void 0===s&&!(u in e))return!1}else{var d=new Un;if(r)var f=r(s,c,u,e,t,d);if(!(void 0===f?_r(c,s,3,r,d):f))return!1}}return!0}function Cr(e){return!(!Hl(e)||(t=e,we&&we in t))&&(zl(e)?xe:ie).test(Do(e));var t}function Sr(e){return"function"==typeof e?e:null==e?Za:"object"==typeof e?Ml(e)?Dr(e[0],e[1]):Ir(e):nu(e)}function wr(e){if(!co(e))return on(e);var t=[];for(var n in pe(e))Ce.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Or(e,t){return e<t}function Nr(e,t){var n=-1,r=kl(e)?Z(e.length):[];return er(e,function(e,i,o){r[++n]=t(e,i,o)}),r}function Ir(e){var t=Ji(e);return 1==t.length&&t[0][2]?mo(t[0][0],t[0][1]):function(n){return n===e||br(n,e,t)}}function Dr(e,t){return ao(e)&&fo(t)?mo(Io(e),t):function(n){var r=ga(n,e);return void 0===r&&r===t?ha(n,e):_r(t,r,3)}}function Tr(e,t,n,r,i){e!==t&&lr(t,function(o,l){if(i||(i=new Un),Hl(o))!function(e,t,n,r,i,o,l){var a=ho(e,n),u=ho(t,n),s=l.get(u);if(s)Wn(e,n,s);else{var c=o?o(a,u,n+"",e,t,l):void 0,d=void 0===c;if(d){var f=Ml(u),m=!f&&Bl(u),p=!f&&!m&&Ql(u);c=u,f||m||p?Ml(a)?c=a:Ul(a)?c=gi(a):m?(d=!1,c=ci(u,!0)):p?(d=!1,c=fi(u,!0)):c=[]:Xl(u)||Rl(u)?(c=a,Rl(a)?c=aa(a):Hl(a)&&!zl(a)||(c=ro(u))):d=!1}d&&(l.set(u,c),i(c,u,r,o,l),l.delete(u)),Wn(e,n,c)}}(e,t,l,n,Tr,r,i);else{var a=r?r(ho(e,l),o,l+"",e,t,i):void 0;void 0===a&&(a=o),Wn(e,l,a)}},Ca)}function xr(e,t){var n=e.length;if(n)return oo(t+=t<0?n:0,n)?e[t]:void 0}function Ar(e,t,n){t=t.length?st(t,function(e){return Ml(e)?function(t){return dr(t,1===e.length?e[0]:e)}:e}):[Za];var r=-1;return t=st(t,It(Yi())),function(e,t){var r=e.length;for(e.sort(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,l=i.length,a=n.length;++r<l;){var u=mi(i[r],o[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)});r--;)e[r]=e[r].value;return e}(Nr(e,function(e,n,i){return{criteria:st(t,function(t){return t(e)}),index:++r,value:e}}))}function Lr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var l=t[r],a=dr(e,l);n(a,l)&&Fr(o,li(l,e),a)}return o}function Rr(e,t,n,r){var i=r?Et:ht,o=-1,l=t.length,a=e;for(e===t&&(t=gi(t)),n&&(a=st(e,It(n)));++o<l;)for(var u=0,s=t[o],c=n?n(s):s;(u=i(a,c,u,r))>-1;)a!==e&&Xe.call(a,u,1),Xe.call(e,u,1);return e}function Mr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;oo(i)?Xe.call(e,i,1):$r(e,i)}}return e}function Pr(e,t){return e+Qt(cn()*(t-e+1))}function kr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Qt(t/2))&&(e+=e)}while(t);return n}function Ur(e,t){return _o(po(e,t,Za),e+"")}function Br(e){return jn(xa(e))}function jr(e,t){var n=xa(e);return So(n,Yn(t,0,n.length))}function Fr(e,t,n,r){if(!Hl(e))return e;for(var i=-1,o=(t=li(t,e)).length,l=o-1,a=e;null!=a&&++i<o;){var u=Io(t[i]),s=n;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(i!=l){var c=a[u];void 0===(s=r?r(c,u,a):void 0)&&(s=Hl(c)?c:oo(t[i+1])?[]:{})}Vn(a,u,s),a=a[u]}return e}var zr=En?function(e,t){return En.set(e,t),e}:Za,Wr=Xt?function(e,t){return Xt(e,"toString",{configurable:!0,enumerable:!1,value:Ha(t),writable:!0})}:Za;function Vr(e){return So(xa(e))}function Hr(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Z(i);++r<i;)o[r]=e[r+t];return o}function Gr(e,t){var n;return er(e,function(e,r,i){return!(n=t(e,r,i))}),!!n}function qr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,l=e[o];null!==l&&!$l(l)&&(n?l<=t:l<t)?r=o+1:i=o}return i}return Zr(e,t,Za,n)}function Zr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var l=(t=n(t))!=t,a=null===t,u=$l(t),s=void 0===t;i<o;){var c=Qt((i+o)/2),d=n(e[c]),f=void 0!==d,m=null===d,p=d==d,v=$l(d);if(l)var g=r||p;else g=s?p&&(r||f):a?p&&f&&(r||!m):u?p&&f&&!m&&(r||!v):!m&&!v&&(r?d<=t:d<t);g?i=c+1:o=c}return an(o,4294967294)}function Xr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var l=e[n],a=t?t(l):l;if(!n||!xl(a,u)){var u=a;o[i++]=0===l?0:l}}return o}function Yr(e){return"number"==typeof e?e:$l(e)?NaN:+e}function Kr(e){if("string"==typeof e)return e;if(Ml(e))return st(e,Kr)+"";if($l(e))return In?In.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Jr(e,t,n){var r=-1,i=at,o=e.length,l=!0,a=[],u=a;if(n)l=!1,i=ut;else if(o>=200){var s=t?null:ki(e);if(s)return Ft(s);l=!1,i=Tt,u=new kn}else u=t?[]:a;e:for(;++r<o;){var c=e[r],d=t?t(c):c;if(c=n||0!==c?c:0,l&&d==d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),a.push(c)}else i(u,d,n)||(u!==a&&u.push(d),a.push(c))}return a}function $r(e,t){return null==(e=vo(e,t=li(t,e)))||delete e[Io(Fo(t))]}function Qr(e,t,n,r){return Fr(e,t,n(dr(e,t)),r)}function ei(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Hr(e,r?0:o,r?o+1:i):Hr(e,r?o+1:0,r?i:o)}function ti(e,t){var n=e;return n instanceof Ln&&(n=n.value()),dt(t,function(e,t){return t.func.apply(t.thisArg,ct([e],t.args))},n)}function ni(e,t,n){var r=e.length;if(r<2)return r?Jr(e[0]):[];for(var i=-1,o=Z(r);++i<r;)for(var l=e[i],a=-1;++a<r;)a!=i&&(o[i]=Qn(o[i]||l,e[a],t,n));return Jr(or(o,1),t,n)}function ri(e,t,n){for(var r=-1,i=e.length,o=t.length,l={};++r<i;)n(l,e[r],r<o?t[r]:void 0);return l}function ii(e){return Ul(e)?e:[]}function oi(e){return"function"==typeof e?e:Za}function li(e,t){return Ml(e)?e:ao(e,t)?[e]:No(ua(e))}var ai=Ur;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Hr(e,t,n)}var si=Yt||function(e){return Ve.clearTimeout(e)};function ci(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function di(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function fi(e,t){var n=t?di(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function mi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=$l(e),l=void 0!==t,a=null===t,u=t==t,s=$l(t);if(!a&&!s&&!o&&e>t||o&&l&&u&&!a&&!s||r&&l&&u||!n&&u||!i)return 1;if(!r&&!o&&!s&&e<t||s&&n&&i&&!r&&!o||a&&n&&i||!l&&i||!u)return-1}return 0}function pi(e,t,n,r){for(var i=-1,o=e.length,l=n.length,a=-1,u=t.length,s=ln(o-l,0),c=Z(u+s),d=!r;++a<u;)c[a]=t[a];for(;++i<l;)(d||i<o)&&(c[n[i]]=e[i]);for(;s--;)c[a++]=e[i++];return c}function vi(e,t,n,r){for(var i=-1,o=e.length,l=-1,a=n.length,u=-1,s=t.length,c=ln(o-a,0),d=Z(c+s),f=!r;++i<c;)d[i]=e[i];for(var m=i;++u<s;)d[m+u]=t[u];for(;++l<a;)(f||i<o)&&(d[m+n[l]]=e[i++]);return d}function gi(e,t){var n=-1,r=e.length;for(t||(t=Z(r));++n<r;)t[n]=e[n];return t}function hi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,l=t.length;++o<l;){var a=t[o],u=r?r(n[a],e[a],a,n,e):void 0;void 0===u&&(u=e[a]),i?Zn(n,a,u):Vn(n,a,u)}return n}function Ei(e,t){return function(n,r){var i=Ml(n)?nt:Gn,o=t?t():{};return i(n,e,Yi(r,2),o)}}function yi(e){return Ur(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,l=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,l&&lo(n[0],n[1],l)&&(o=i<3?void 0:o,i=1),t=pe(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t})}function _i(e,t){return function(n,r){if(null==n)return n;if(!kl(n))return e(n,r);for(var i=n.length,o=t?i:-1,l=pe(n);(t?o--:++o<i)&&!1!==r(l[o],o,l););return n}}function bi(e){return function(t,n,r){for(var i=-1,o=pe(t),l=r(t),a=l.length;a--;){var u=l[e?a:++i];if(!1===n(o[u],u,o))break}return t}}function Ci(e){return function(t){var n=kt(t=ua(t))?Vt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function Si(e){return function(t){return dt(za(Ra(t).replace(De,"")),e,"")}}function wi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Tn(e.prototype),r=e.apply(n,t);return Hl(r)?r:n}}function Oi(e){return function(t,n,r){var i=pe(t);if(!kl(t)){var o=Yi(n,3);t=ba(t),n=function(e){return o(i[e],e,i)}}var l=e(t,n,r);return l>-1?i[o?t[l]:l]:void 0}}function Ni(e){return Vi(function(t){var r=t.length,i=r,o=An.prototype.thru;for(e&&t.reverse();i--;){var l=t[i];if("function"!=typeof l)throw new he(n);if(o&&!a&&"wrapper"==Zi(l))var a=new An([],!0)}for(i=a?i:r;++i<r;){var u=Zi(l=t[i]),s="wrapper"==u?qi(l):void 0;a=s&&uo(s[0])&&424==s[1]&&!s[4].length&&1==s[9]?a[Zi(s[0])].apply(a,s[3]):1==l.length&&uo(l)?a[u]():a.thru(l)}return function(){var e=arguments,n=e[0];if(a&&1==e.length&&Ml(n))return a.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}})}function Ii(e,t,n,r,i,o,l,a,u,s){var c=128&t,d=1&t,f=2&t,m=24&t,p=512&t,v=f?void 0:wi(e);return function g(){for(var h=arguments.length,E=Z(h),y=h;y--;)E[y]=arguments[y];if(m)var _=Xi(g),b=Lt(E,_);if(r&&(E=pi(E,r,i,m)),o&&(E=vi(E,o,l,m)),h-=b,m&&h<s){var C=jt(E,_);return Mi(e,t,Ii,g.placeholder,n,E,C,a,u,s-h)}var S=d?n:this,w=f?S[e]:e;return h=E.length,a?E=go(E,a):p&&h>1&&E.reverse(),c&&u<h&&(E.length=u),this&&this!==Ve&&this instanceof g&&(w=v||wi(w)),w.apply(S,E)}}function Di(e,t){return function(n,r){return function(e,t,n,r){return ur(e,function(e,i,o){t(r,n(e),i,o)}),r}(n,e,t(r),{})}}function Ti(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Kr(n),r=Kr(r)):(n=Yr(n),r=Yr(r)),i=e(n,r)}return i}}function xi(e){return Vi(function(t){return t=st(t,It(Yi())),Ur(function(n){var r=this;return e(t,function(e){return tt(e,r,n)})})})}function Ai(e,t){var n=(t=void 0===t?" ":Kr(t)).length;if(n<2)return n?kr(t,e):t;var r=kr(t,$t(e/Wt(t)));return kt(t)?ui(Vt(r),0,e).join(""):r.slice(0,e)}function Li(e){return function(t,n,r){return r&&"number"!=typeof r&&lo(t,n,r)&&(n=r=void 0),t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n,r){for(var i=-1,o=ln($t((t-e)/(n||1)),0),l=Z(o);o--;)l[r?o:++i]=e,e+=n;return l}(t,n,r=void 0===r?t<n?1:-1:ra(r),e)}}function Ri(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=la(t),n=la(n)),e(t,n)}}function Mi(e,t,n,r,i,o,l,a,u,s){var c=8&t;t|=c?32:64,4&(t&=~(c?64:32))||(t&=-4);var d=[e,t,i,c?o:void 0,c?l:void 0,c?void 0:o,c?void 0:l,a,u,s],f=n.apply(void 0,d);return uo(e)&&Eo(f,d),f.placeholder=r,bo(f,e,t)}function Pi(e){var t=me[e];return function(e,n){if(e=la(e),(n=null==n?0:an(ia(n),292))&&nn(e)){var r=(ua(e)+"e").split("e");return+((r=(ua(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var ki=vn&&1/Ft(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:$a;function Ui(e){return function(t){var n=to(t);return n==f?Ut(t):n==g?zt(t):function(e,t){return st(t,function(t){return[t,e[t]]})}(t,e(t))}}function Bi(e,t,i,o,l,a,u,s){var c=2&t;if(!c&&"function"!=typeof e)throw new he(n);var d=o?o.length:0;if(d||(t&=-97,o=l=void 0),u=void 0===u?u:ln(ia(u),0),s=void 0===s?s:ia(s),d-=l?l.length:0,64&t){var f=o,m=l;o=l=void 0}var p=c?void 0:qi(e),v=[e,t,i,o,l,f,m,a,u,s];if(p&&function(e,t){var n=e[1],i=t[1],o=n|i;if(!(o<131||128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n))return e;1&i&&(e[2]=t[2],o|=1&n?0:4);var l=t[3];if(l){var a=e[3];e[3]=a?pi(a,l,t[4]):l,e[4]=a?jt(e[3],r):t[4]}(l=t[5])&&(e[5]=(a=e[5])?vi(a,l,t[6]):l,e[6]=a?jt(e[5],r):t[6]),(l=t[7])&&(e[7]=l),128&i&&(e[8]=null==e[8]?t[8]:an(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(v,p),e=v[0],t=v[1],i=v[2],o=v[3],l=v[4],!(s=v[9]=void 0===v[9]?c?0:e.length:ln(v[9]-d,0))&&24&t&&(t&=-25),t&&1!=t)g=8==t||16==t?function(e,t,n){var r=wi(e);return function i(){for(var o=arguments.length,l=Z(o),a=o,u=Xi(i);a--;)l[a]=arguments[a];var s=o<3&&l[0]!==u&&l[o-1]!==u?[]:jt(l,u);if((o-=s.length)<n)return Mi(e,t,Ii,i.placeholder,void 0,l,s,void 0,void 0,n-o);var c=this&&this!==Ve&&this instanceof i?r:e;return tt(c,this,l)}}(e,t,s):32!=t&&33!=t||l.length?Ii.apply(void 0,v):function(e,t,n,r){var i=1&t,o=wi(e);return function t(){for(var l=-1,a=arguments.length,u=-1,s=r.length,c=Z(s+a),d=this&&this!==Ve&&this instanceof t?o:e;++u<s;)c[u]=r[u];for(;a--;)c[u++]=arguments[++l];return tt(d,i?n:this,c)}}(e,t,i,o);else var g=function(e,t,n){var r=1&t,i=wi(e);return function t(){var o=this&&this!==Ve&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,i);return bo((p?zr:Eo)(g,v),e,t)}function ji(e,t,n,r){return void 0===e||xl(e,ye[n])&&!Ce.call(r,n)?t:e}function Fi(e,t,n,r,i,o){return Hl(e)&&Hl(t)&&(o.set(t,e),Tr(e,t,void 0,Fi,o),o.delete(t)),e}function zi(e){return Xl(e)?void 0:e}function Wi(e,t,n,r,i,o){var l=1&n,a=e.length,u=t.length;if(a!=u&&!(l&&u>a))return!1;var s=o.get(e),c=o.get(t);if(s&&c)return s==t&&c==e;var d=-1,f=!0,m=2&n?new kn:void 0;for(o.set(e,t),o.set(t,e);++d<a;){var p=e[d],v=t[d];if(r)var g=l?r(v,p,d,t,e,o):r(p,v,d,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(m){if(!mt(t,function(e,t){if(!Tt(m,t)&&(p===e||i(p,e,n,r,o)))return m.push(t)})){f=!1;break}}else if(p!==v&&!i(p,v,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Vi(e){return _o(po(e,void 0,Po),e+"")}function Hi(e){return fr(e,ba,Qi)}function Gi(e){return fr(e,Ca,eo)}var qi=En?function(e){return En.get(e)}:$a;function Zi(e){for(var t=e.name+"",n=yn[t],r=Ce.call(yn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Xi(e){return(Ce.call(Dn,"placeholder")?Dn:e).placeholder}function Yi(){var e=Dn.iteratee||Xa;return e=e===Xa?Sr:e,arguments.length?e(arguments[0],arguments[1]):e}function Ki(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Ji(e){for(var t=ba(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function $i(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Cr(n)?n:void 0}var Qi=en?function(e){return null==e?[]:(e=pe(e),lt(en(e),function(t){return Ze.call(e,t)}))}:ou,eo=en?function(e){for(var t=[];e;)ct(t,Qi(e)),e=He(e);return t}:ou,to=mr;function no(e,t,n){for(var r=-1,i=(t=li(t,e)).length,o=!1;++r<i;){var l=Io(t[r]);if(!(o=null!=e&&n(e,l)))break;e=e[l]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Vl(i)&&oo(l,i)&&(Ml(e)||Rl(e))}function ro(e){return"function"!=typeof e.constructor||co(e)?{}:Tn(He(e))}function io(e){return Ml(e)||Rl(e)||!!(pt&&e&&e[pt])}function oo(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&le.test(e))&&e>-1&&e%1==0&&e<t}function lo(e,t,n){if(!Hl(n))return!1;var r=typeof t;return!!("number"==r?kl(n)&&oo(t,n.length):"string"==r&&t in n)&&xl(n[t],e)}function ao(e,t){if(Ml(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!$l(e))||W.test(e)||!z.test(e)||null!=t&&e in pe(t)}function uo(e){var t=Zi(e),n=Dn[t];if("function"!=typeof n||!(t in Ln.prototype))return!1;if(e===n)return!0;var r=qi(n);return!!r&&e===r[0]}(fn&&to(new fn(new ArrayBuffer(1)))!=b||mn&&to(new mn)!=f||pn&&"[object Promise]"!=to(pn.resolve())||vn&&to(new vn)!=g||gn&&to(new gn)!=y)&&(to=function(e){var t=mr(e),n=t==p?e.constructor:void 0,r=n?Do(n):"";if(r)switch(r){case _n:return b;case bn:return f;case Cn:return"[object Promise]";case Sn:return g;case wn:return y}return t});var so=_e?zl:lu;function co(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||ye)}function fo(e){return e==e&&!Hl(e)}function mo(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in pe(n))}}function po(e,t,n){return t=ln(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=ln(r.length-t,0),l=Z(o);++i<o;)l[i]=r[t+i];i=-1;for(var a=Z(t+1);++i<t;)a[i]=r[i];return a[t]=n(l),tt(e,this,a)}}function vo(e,t){return t.length<2?e:dr(e,Hr(t,0,-1))}function go(e,t){for(var n=e.length,r=an(t.length,n),i=gi(e);r--;){var o=t[r];e[r]=oo(o,n)?i[o]:void 0}return e}function ho(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Eo=Co(zr),yo=Jt||function(e,t){return Ve.setTimeout(e,t)},_o=Co(Wr);function bo(e,t,n){var r=t+"";return _o(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(X,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return rt(i,function(n){var r="_."+n[0];t&n[1]&&!at(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(K):[]}(r),n)))}function Co(e){var t=0,n=0;return function(){var r=un(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function So(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Pr(n,i),l=e[o];e[o]=e[n],e[n]=l}return e.length=t,e}var wo,Oo,No=(wo=wl(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(V,function(e,n,r,i){t.push(r?i.replace(Q,"$1"):n||e)}),t},function(e){return 500===Oo.size&&Oo.clear(),e}),Oo=wo.cache,wo);function Io(e){if("string"==typeof e||$l(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Do(e){if(null!=e){try{return be.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function To(e){if(e instanceof Ln)return e.clone();var t=new An(e.__wrapped__,e.__chain__);return t.__actions__=gi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var xo=Ur(function(e,t){return Ul(e)?Qn(e,or(t,1,Ul,!0)):[]}),Ao=Ur(function(e,t){var n=Fo(t);return Ul(n)&&(n=void 0),Ul(e)?Qn(e,or(t,1,Ul,!0),Yi(n,2)):[]}),Lo=Ur(function(e,t){var n=Fo(t);return Ul(n)&&(n=void 0),Ul(e)?Qn(e,or(t,1,Ul,!0),void 0,n):[]});function Ro(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=ln(r+i,0)),gt(e,Yi(t,3),i)}function Mo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ia(n),i=n<0?ln(r+i,0):an(i,r-1)),gt(e,Yi(t,3),i,!0)}function Po(e){return null!=e&&e.length?or(e,1):[]}function ko(e){return e&&e.length?e[0]:void 0}var Uo=Ur(function(e){var t=st(e,ii);return t.length&&t[0]===e[0]?hr(t):[]}),Bo=Ur(function(e){var t=Fo(e),n=st(e,ii);return t===Fo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?hr(n,Yi(t,2)):[]}),jo=Ur(function(e){var t=Fo(e),n=st(e,ii);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?hr(n,void 0,t):[]});function Fo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var zo=Ur(Wo);function Wo(e,t){return e&&e.length&&t&&t.length?Rr(e,t):e}var Vo=Vi(function(e,t){var n=null==e?0:e.length,r=Xn(e,t);return Mr(e,st(t,function(e){return oo(e,n)?+e:e}).sort(mi)),r});function Ho(e){return null==e?e:dn.call(e)}var Go=Ur(function(e){return Jr(or(e,1,Ul,!0))}),qo=Ur(function(e){var t=Fo(e);return Ul(t)&&(t=void 0),Jr(or(e,1,Ul,!0),Yi(t,2))}),Zo=Ur(function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,Jr(or(e,1,Ul,!0),void 0,t)});function Xo(e){if(!e||!e.length)return[];var t=0;return e=lt(e,function(e){if(Ul(e))return t=ln(e.length,t),!0}),Ot(t,function(t){return st(e,bt(t))})}function Yo(e,t){if(!e||!e.length)return[];var n=Xo(e);return null==t?n:st(n,function(e){return tt(t,void 0,e)})}var Ko=Ur(function(e,t){return Ul(e)?Qn(e,t):[]}),Jo=Ur(function(e){return ni(lt(e,Ul))}),$o=Ur(function(e){var t=Fo(e);return Ul(t)&&(t=void 0),ni(lt(e,Ul),Yi(t,2))}),Qo=Ur(function(e){var t=Fo(e);return t="function"==typeof t?t:void 0,ni(lt(e,Ul),void 0,t)}),el=Ur(Xo),tl=Ur(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Yo(e,n)});function nl(e){var t=Dn(e);return t.__chain__=!0,t}function rl(e,t){return t(e)}var il=Vi(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Xn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Ln&&oo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:rl,args:[i],thisArg:void 0}),new An(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(void 0),e})):this.thru(i)}),ol=Ei(function(e,t,n){Ce.call(e,n)?++e[n]:Zn(e,n,1)}),ll=Oi(Ro),al=Oi(Mo);function ul(e,t){return(Ml(e)?rt:er)(e,Yi(t,3))}function sl(e,t){return(Ml(e)?it:tr)(e,Yi(t,3))}var cl=Ei(function(e,t,n){Ce.call(e,n)?e[n].push(t):Zn(e,n,[t])}),dl=Ur(function(e,t,n){var r=-1,i="function"==typeof t,o=kl(e)?Z(e.length):[];return er(e,function(e){o[++r]=i?tt(t,e,n):Er(e,t,n)}),o}),fl=Ei(function(e,t,n){Zn(e,n,t)});function ml(e,t){return(Ml(e)?st:Nr)(e,Yi(t,3))}var pl=Ei(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),vl=Ur(function(e,t){if(null==e)return[];var n=t.length;return n>1&&lo(e,t[0],t[1])?t=[]:n>2&&lo(t[0],t[1],t[2])&&(t=[t[0]]),Ar(e,or(t,1),[])}),gl=Kt||function(){return Ve.Date.now()};function hl(e,t,n){return t=n?void 0:t,Bi(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function El(e,t){var r;if("function"!=typeof t)throw new he(n);return e=ia(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var yl=Ur(function(e,t,n){var r=1;if(n.length){var i=jt(n,Xi(yl));r|=32}return Bi(e,r,t,n,i)}),_l=Ur(function(e,t,n){var r=3;if(n.length){var i=jt(n,Xi(_l));r|=32}return Bi(t,r,e,n,i)});function bl(e,t,r){var i,o,l,a,u,s,c=0,d=!1,f=!1,m=!0;if("function"!=typeof e)throw new he(n);function p(t){var n=i,r=o;return i=o=void 0,c=t,a=e.apply(r,n)}function v(e){return c=e,u=yo(h,t),d?p(e):a}function g(e){var n=e-s;return void 0===s||n>=t||n<0||f&&e-c>=l}function h(){var e=gl();if(g(e))return E(e);u=yo(h,function(e){var n=t-(e-s);return f?an(n,l-(e-c)):n}(e))}function E(e){return u=void 0,m&&i?p(e):(i=o=void 0,a)}function y(){var e=gl(),n=g(e);if(i=arguments,o=this,s=e,n){if(void 0===u)return v(s);if(f)return si(u),u=yo(h,t),p(s)}return void 0===u&&(u=yo(h,t)),a}return t=la(t)||0,Hl(r)&&(d=!!r.leading,l=(f="maxWait"in r)?ln(la(r.maxWait)||0,t):l,m="trailing"in r?!!r.trailing:m),y.cancel=function(){void 0!==u&&si(u),c=0,i=s=o=u=void 0},y.flush=function(){return void 0===u?a:E(gl())},y}var Cl=Ur(function(e,t){return $n(e,1,t)}),Sl=Ur(function(e,t,n){return $n(e,la(t)||0,n)});function wl(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new he(n);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var l=e.apply(this,n);return r.cache=o.set(i,l)||o,l};return r.cache=new(wl.Cache||Pn),r}function Ol(e){if("function"!=typeof e)throw new he(n);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}wl.Cache=Pn;var Nl=ai(function(e,t){var n=(t=1==t.length&&Ml(t[0])?st(t[0],It(Yi())):st(or(t,1),It(Yi()))).length;return Ur(function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return tt(e,this,r)})}),Il=Ur(function(e,t){return Bi(e,32,void 0,t,jt(t,Xi(Il)))}),Dl=Ur(function(e,t){return Bi(e,64,void 0,t,jt(t,Xi(Dl)))}),Tl=Vi(function(e,t){return Bi(e,256,void 0,void 0,void 0,t)});function xl(e,t){return e===t||e!=e&&t!=t}var Al=Ri(pr),Ll=Ri(function(e,t){return e>=t}),Rl=yr(function(){return arguments}())?yr:function(e){return Gl(e)&&Ce.call(e,"callee")&&!Ze.call(e,"callee")},Ml=Z.isArray,Pl=Ye?It(Ye):function(e){return Gl(e)&&mr(e)==_};function kl(e){return null!=e&&Vl(e.length)&&!zl(e)}function Ul(e){return Gl(e)&&kl(e)}var Bl=tn||lu,jl=Ke?It(Ke):function(e){return Gl(e)&&mr(e)==u};function Fl(e){if(!Gl(e))return!1;var t=mr(e);return t==s||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Xl(e)}function zl(e){if(!Hl(e))return!1;var t=mr(e);return t==c||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Wl(e){return"number"==typeof e&&e==ia(e)}function Vl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Hl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Gl(e){return null!=e&&"object"==typeof e}var ql=Je?It(Je):function(e){return Gl(e)&&to(e)==f};function Zl(e){return"number"==typeof e||Gl(e)&&mr(e)==m}function Xl(e){if(!Gl(e)||mr(e)!=p)return!1;var t=He(e);if(null===t)return!0;var n=Ce.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&be.call(n)==Ne}var Yl=$e?It($e):function(e){return Gl(e)&&mr(e)==v},Kl=Qe?It(Qe):function(e){return Gl(e)&&to(e)==g};function Jl(e){return"string"==typeof e||!Ml(e)&&Gl(e)&&mr(e)==h}function $l(e){return"symbol"==typeof e||Gl(e)&&mr(e)==E}var Ql=et?It(et):function(e){return Gl(e)&&Vl(e.length)&&!!ke[mr(e)]},ea=Ri(Or),ta=Ri(function(e,t){return e<=t});function na(e){if(!e)return[];if(kl(e))return Jl(e)?Vt(e):gi(e);if(Ct&&e[Ct])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ct]());var t=to(e);return(t==f?Ut:t==g?Ft:xa)(e)}function ra(e){return e?(e=la(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ia(e){var t=ra(e),n=t%1;return t==t?n?t-n:t:0}function oa(e){return e?Yn(ia(e),0,4294967295):0}function la(e){if("number"==typeof e)return e;if($l(e))return NaN;if(Hl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Hl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Nt(e);var n=re.test(e);return n||oe.test(e)?Fe(e.slice(2),n?2:8):ne.test(e)?NaN:+e}function aa(e){return hi(e,Ca(e))}function ua(e){return null==e?"":Kr(e)}var sa=yi(function(e,t){if(co(t)||kl(t))hi(t,ba(t),e);else for(var n in t)Ce.call(t,n)&&Vn(e,n,t[n])}),ca=yi(function(e,t){hi(t,Ca(t),e)}),da=yi(function(e,t,n,r){hi(t,Ca(t),e,r)}),fa=yi(function(e,t,n,r){hi(t,ba(t),e,r)}),ma=Vi(Xn),pa=Ur(function(e,t){e=pe(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&lo(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],l=Ca(o),a=-1,u=l.length;++a<u;){var s=l[a],c=e[s];(void 0===c||xl(c,ye[s])&&!Ce.call(e,s))&&(e[s]=o[s])}return e}),va=Ur(function(e){return e.push(void 0,Fi),tt(wa,void 0,e)});function ga(e,t,n){var r=null==e?void 0:dr(e,t);return void 0===r?n:r}function ha(e,t){return null!=e&&no(e,t,gr)}var Ea=Di(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),e[t]=n},Ha(Za)),ya=Di(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Oe.call(t)),Ce.call(e,t)?e[t].push(n):e[t]=[n]},Yi),_a=Ur(Er);function ba(e){return kl(e)?Bn(e):wr(e)}function Ca(e){return kl(e)?Bn(e,!0):function(e){if(!Hl(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=co(e),n=[];for(var r in e)("constructor"!=r||!t&&Ce.call(e,r))&&n.push(r);return n}(e)}var Sa=yi(function(e,t,n){Tr(e,t,n)}),wa=yi(function(e,t,n,r){Tr(e,t,n,r)}),Oa=Vi(function(e,t){var n={};if(null==e)return n;var r=!1;t=st(t,function(t){return t=li(t,e),r||(r=t.length>1),t}),hi(e,Gi(e),n),r&&(n=Kn(n,7,zi));for(var i=t.length;i--;)$r(n,t[i]);return n}),Na=Vi(function(e,t){return null==e?{}:function(e,t){return Lr(e,t,function(t,n){return ha(e,n)})}(e,t)});function Ia(e,t){if(null==e)return{};var n=st(Gi(e),function(e){return[e]});return t=Yi(t),Lr(e,n,function(e,n){return t(e,n[0])})}var Da=Ui(ba),Ta=Ui(Ca);function xa(e){return null==e?[]:Dt(e,ba(e))}var Aa=Si(function(e,t,n){return t=t.toLowerCase(),e+(n?La(t):t)});function La(e){return Fa(ua(e).toLowerCase())}function Ra(e){return(e=ua(e))&&e.replace(ae,Rt).replace(Te,"")}var Ma=Si(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Pa=Si(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),ka=Ci("toLowerCase"),Ua=Si(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ba=Si(function(e,t,n){return e+(n?" ":"")+Fa(t)}),ja=Si(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Fa=Ci("toUpperCase");function za(e,t,n){return e=ua(e),void 0===(t=n?void 0:t)?function(e){return Re.test(e)}(e)?function(e){return e.match(Ae)||[]}(e):function(e){return e.match(J)||[]}(e):e.match(t)||[]}var Wa=Ur(function(e,t){try{return tt(e,void 0,t)}catch(e){return Fl(e)?e:new de(e)}}),Va=Vi(function(e,t){return rt(t,function(t){t=Io(t),Zn(e,t,yl(e[t],e))}),e});function Ha(e){return function(){return e}}var Ga=Ni(),qa=Ni(!0);function Za(e){return e}function Xa(e){return Sr("function"==typeof e?e:Kn(e,1))}var Ya=Ur(function(e,t){return function(n){return Er(n,e,t)}}),Ka=Ur(function(e,t){return function(n){return Er(e,n,t)}});function Ja(e,t,n){var r=ba(t),i=cr(t,r);null!=n||Hl(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=cr(t,ba(t)));var o=!(Hl(n)&&"chain"in n&&!n.chain),l=zl(e);return rt(i,function(n){var r=t[n];e[n]=r,l&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=gi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,ct([this.value()],arguments))})}),e}function $a(){}var Qa=xi(st),eu=xi(ot),tu=xi(mt);function nu(e){return ao(e)?bt(Io(e)):function(e){return function(t){return dr(t,e)}}(e)}var ru=Li(),iu=Li(!0);function ou(){return[]}function lu(){return!1}var au,uu=Ti(function(e,t){return e+t},0),su=Pi("ceil"),cu=Ti(function(e,t){return e/t},1),du=Pi("floor"),fu=Ti(function(e,t){return e*t},1),mu=Pi("round"),pu=Ti(function(e,t){return e-t},0);return Dn.after=function(e,t){if("function"!=typeof t)throw new he(n);return e=ia(e),function(){if(--e<1)return t.apply(this,arguments)}},Dn.ary=hl,Dn.assign=sa,Dn.assignIn=ca,Dn.assignInWith=da,Dn.assignWith=fa,Dn.at=ma,Dn.before=El,Dn.bind=yl,Dn.bindAll=Va,Dn.bindKey=_l,Dn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ml(e)?e:[e]},Dn.chain=nl,Dn.chunk=function(e,t,n){t=(n?lo(e,t,n):void 0===t)?1:ln(ia(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var i=0,o=0,l=Z($t(r/t));i<r;)l[o++]=Hr(e,i,i+=t);return l},Dn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Dn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Z(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return ct(Ml(n)?gi(n):[n],or(t,1))},Dn.cond=function(e){var t=null==e?0:e.length,r=Yi();return e=t?st(e,function(e){if("function"!=typeof e[1])throw new he(n);return[r(e[0]),e[1]]}):[],Ur(function(n){for(var r=-1;++r<t;){var i=e[r];if(tt(i[0],this,n))return tt(i[1],this,n)}})},Dn.conforms=function(e){return function(e){var t=ba(e);return function(n){return Jn(n,e,t)}}(Kn(e,1))},Dn.constant=Ha,Dn.countBy=ol,Dn.create=function(e,t){var n=Tn(e);return null==t?n:qn(n,t)},Dn.curry=function e(t,n,r){var i=Bi(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Dn.curryRight=function e(t,n,r){var i=Bi(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Dn.debounce=bl,Dn.defaults=pa,Dn.defaultsDeep=va,Dn.defer=Cl,Dn.delay=Sl,Dn.difference=xo,Dn.differenceBy=Ao,Dn.differenceWith=Lo,Dn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,(t=n||void 0===t?1:ia(t))<0?0:t,r):[]},Dn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,0,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t):[]},Dn.dropRightWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!0,!0):[]},Dn.dropWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!0):[]},Dn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&lo(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ia(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ia(r))<0&&(r+=i),r=n>r?0:oa(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Dn.filter=function(e,t){return(Ml(e)?lt:ir)(e,Yi(t,3))},Dn.flatMap=function(e,t){return or(ml(e,t),1)},Dn.flatMapDeep=function(e,t){return or(ml(e,t),1/0)},Dn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ia(n),or(ml(e,t),n)},Dn.flatten=Po,Dn.flattenDeep=function(e){return null!=e&&e.length?or(e,1/0):[]},Dn.flattenDepth=function(e,t){return null!=e&&e.length?or(e,t=void 0===t?1:ia(t)):[]},Dn.flip=function(e){return Bi(e,512)},Dn.flow=Ga,Dn.flowRight=qa,Dn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Dn.functions=function(e){return null==e?[]:cr(e,ba(e))},Dn.functionsIn=function(e){return null==e?[]:cr(e,Ca(e))},Dn.groupBy=cl,Dn.initial=function(e){return null!=e&&e.length?Hr(e,0,-1):[]},Dn.intersection=Uo,Dn.intersectionBy=Bo,Dn.intersectionWith=jo,Dn.invert=Ea,Dn.invertBy=ya,Dn.invokeMap=dl,Dn.iteratee=Xa,Dn.keyBy=fl,Dn.keys=ba,Dn.keysIn=Ca,Dn.map=ml,Dn.mapKeys=function(e,t){var n={};return t=Yi(t,3),ur(e,function(e,r,i){Zn(n,t(e,r,i),e)}),n},Dn.mapValues=function(e,t){var n={};return t=Yi(t,3),ur(e,function(e,r,i){Zn(n,r,t(e,r,i))}),n},Dn.matches=function(e){return Ir(Kn(e,1))},Dn.matchesProperty=function(e,t){return Dr(e,Kn(t,1))},Dn.memoize=wl,Dn.merge=Sa,Dn.mergeWith=wa,Dn.method=Ya,Dn.methodOf=Ka,Dn.mixin=Ja,Dn.negate=Ol,Dn.nthArg=function(e){return e=ia(e),Ur(function(t){return xr(t,e)})},Dn.omit=Oa,Dn.omitBy=function(e,t){return Ia(e,Ol(Yi(t)))},Dn.once=function(e){return El(2,e)},Dn.orderBy=function(e,t,n,r){return null==e?[]:(Ml(t)||(t=null==t?[]:[t]),Ml(n=r?void 0:n)||(n=null==n?[]:[n]),Ar(e,t,n))},Dn.over=Qa,Dn.overArgs=Nl,Dn.overEvery=eu,Dn.overSome=tu,Dn.partial=Il,Dn.partialRight=Dl,Dn.partition=pl,Dn.pick=Na,Dn.pickBy=Ia,Dn.property=nu,Dn.propertyOf=function(e){return function(t){return null==e?void 0:dr(e,t)}},Dn.pull=zo,Dn.pullAll=Wo,Dn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,Yi(n,2)):e},Dn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Rr(e,t,void 0,n):e},Dn.pullAt=Vo,Dn.range=ru,Dn.rangeRight=iu,Dn.rearg=Tl,Dn.reject=function(e,t){return(Ml(e)?lt:ir)(e,Ol(Yi(t,3)))},Dn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Yi(t,3);++r<o;){var l=e[r];t(l,r,e)&&(n.push(l),i.push(r))}return Mr(e,i),n},Dn.rest=function(e,t){if("function"!=typeof e)throw new he(n);return Ur(e,t=void 0===t?t:ia(t))},Dn.reverse=Ho,Dn.sampleSize=function(e,t,n){return t=(n?lo(e,t,n):void 0===t)?1:ia(t),(Ml(e)?Fn:jr)(e,t)},Dn.set=function(e,t,n){return null==e?e:Fr(e,t,n)},Dn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Fr(e,t,n,r)},Dn.shuffle=function(e){return(Ml(e)?zn:Vr)(e)},Dn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&lo(e,t,n)?(t=0,n=r):(t=null==t?0:ia(t),n=void 0===n?r:ia(n)),Hr(e,t,n)):[]},Dn.sortBy=vl,Dn.sortedUniq=function(e){return e&&e.length?Xr(e):[]},Dn.sortedUniqBy=function(e,t){return e&&e.length?Xr(e,Yi(t,2)):[]},Dn.split=function(e,t,n){return n&&"number"!=typeof n&&lo(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ua(e))&&("string"==typeof t||null!=t&&!Yl(t))&&!(t=Kr(t))&&kt(e)?ui(Vt(e),0,n):e.split(t,n):[]},Dn.spread=function(e,t){if("function"!=typeof e)throw new he(n);return t=null==t?0:ln(ia(t),0),Ur(function(n){var r=n[t],i=ui(n,0,t);return r&&ct(i,r),tt(e,this,i)})},Dn.tail=function(e){var t=null==e?0:e.length;return t?Hr(e,1,t):[]},Dn.take=function(e,t,n){return e&&e.length?Hr(e,0,(t=n||void 0===t?1:ia(t))<0?0:t):[]},Dn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Hr(e,(t=r-(t=n||void 0===t?1:ia(t)))<0?0:t,r):[]},Dn.takeRightWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3),!1,!0):[]},Dn.takeWhile=function(e,t){return e&&e.length?ei(e,Yi(t,3)):[]},Dn.tap=function(e,t){return t(e),e},Dn.throttle=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new he(n);return Hl(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),bl(e,t,{leading:i,maxWait:t,trailing:o})},Dn.thru=rl,Dn.toArray=na,Dn.toPairs=Da,Dn.toPairsIn=Ta,Dn.toPath=function(e){return Ml(e)?st(e,Io):$l(e)?[e]:gi(No(ua(e)))},Dn.toPlainObject=aa,Dn.transform=function(e,t,n){var r=Ml(e),i=r||Bl(e)||Ql(e);if(t=Yi(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:Hl(e)&&zl(o)?Tn(He(e)):{}}return(i?rt:ur)(e,function(e,r,i){return t(n,e,r,i)}),n},Dn.unary=function(e){return hl(e,1)},Dn.union=Go,Dn.unionBy=qo,Dn.unionWith=Zo,Dn.uniq=function(e){return e&&e.length?Jr(e):[]},Dn.uniqBy=function(e,t){return e&&e.length?Jr(e,Yi(t,2)):[]},Dn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Jr(e,void 0,t):[]},Dn.unset=function(e,t){return null==e||$r(e,t)},Dn.unzip=Xo,Dn.unzipWith=Yo,Dn.update=function(e,t,n){return null==e?e:Qr(e,t,oi(n))},Dn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Qr(e,t,oi(n),r)},Dn.values=xa,Dn.valuesIn=function(e){return null==e?[]:Dt(e,Ca(e))},Dn.without=Ko,Dn.words=za,Dn.wrap=function(e,t){return Il(oi(t),e)},Dn.xor=Jo,Dn.xorBy=$o,Dn.xorWith=Qo,Dn.zip=el,Dn.zipObject=function(e,t){return ri(e||[],t||[],Vn)},Dn.zipObjectDeep=function(e,t){return ri(e||[],t||[],Fr)},Dn.zipWith=tl,Dn.entries=Da,Dn.entriesIn=Ta,Dn.extend=ca,Dn.extendWith=da,Ja(Dn,Dn),Dn.add=uu,Dn.attempt=Wa,Dn.camelCase=Aa,Dn.capitalize=La,Dn.ceil=su,Dn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=la(n))==n?n:0),void 0!==t&&(t=(t=la(t))==t?t:0),Yn(la(e),t,n)},Dn.clone=function(e){return Kn(e,4)},Dn.cloneDeep=function(e){return Kn(e,5)},Dn.cloneDeepWith=function(e,t){return Kn(e,5,t="function"==typeof t?t:void 0)},Dn.cloneWith=function(e,t){return Kn(e,4,t="function"==typeof t?t:void 0)},Dn.conformsTo=function(e,t){return null==t||Jn(e,t,ba(t))},Dn.deburr=Ra,Dn.defaultTo=function(e,t){return null==e||e!=e?t:e},Dn.divide=cu,Dn.endsWith=function(e,t,n){e=ua(e),t=Kr(t);var r=e.length,i=n=void 0===n?r:Yn(ia(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Dn.eq=xl,Dn.escape=function(e){return(e=ua(e))&&U.test(e)?e.replace(P,Mt):e},Dn.escapeRegExp=function(e){return(e=ua(e))&&G.test(e)?e.replace(H,"\\$&"):e},Dn.every=function(e,t,n){var r=Ml(e)?ot:nr;return n&&lo(e,t,n)&&(t=void 0),r(e,Yi(t,3))},Dn.find=ll,Dn.findIndex=Ro,Dn.findKey=function(e,t){return vt(e,Yi(t,3),ur)},Dn.findLast=al,Dn.findLastIndex=Mo,Dn.findLastKey=function(e,t){return vt(e,Yi(t,3),sr)},Dn.floor=du,Dn.forEach=ul,Dn.forEachRight=sl,Dn.forIn=function(e,t){return null==e?e:lr(e,Yi(t,3),Ca)},Dn.forInRight=function(e,t){return null==e?e:ar(e,Yi(t,3),Ca)},Dn.forOwn=function(e,t){return e&&ur(e,Yi(t,3))},Dn.forOwnRight=function(e,t){return e&&sr(e,Yi(t,3))},Dn.get=ga,Dn.gt=Al,Dn.gte=Ll,Dn.has=function(e,t){return null!=e&&no(e,t,vr)},Dn.hasIn=ha,Dn.head=ko,Dn.identity=Za,Dn.includes=function(e,t,n,r){e=kl(e)?e:xa(e),n=n&&!r?ia(n):0;var i=e.length;return n<0&&(n=ln(i+n,0)),Jl(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&ht(e,t,n)>-1},Dn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ia(n);return i<0&&(i=ln(r+i,0)),ht(e,t,i)},Dn.inRange=function(e,t,n){return t=ra(t),void 0===n?(n=t,t=0):n=ra(n),function(e,t,n){return e>=an(t,n)&&e<ln(t,n)}(e=la(e),t,n)},Dn.invoke=_a,Dn.isArguments=Rl,Dn.isArray=Ml,Dn.isArrayBuffer=Pl,Dn.isArrayLike=kl,Dn.isArrayLikeObject=Ul,Dn.isBoolean=function(e){return!0===e||!1===e||Gl(e)&&mr(e)==a},Dn.isBuffer=Bl,Dn.isDate=jl,Dn.isElement=function(e){return Gl(e)&&1===e.nodeType&&!Xl(e)},Dn.isEmpty=function(e){if(null==e)return!0;if(kl(e)&&(Ml(e)||"string"==typeof e||"function"==typeof e.splice||Bl(e)||Ql(e)||Rl(e)))return!e.length;var t=to(e);if(t==f||t==g)return!e.size;if(co(e))return!wr(e).length;for(var n in e)if(Ce.call(e,n))return!1;return!0},Dn.isEqual=function(e,t){return _r(e,t)},Dn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?_r(e,t,void 0,n):!!r},Dn.isError=Fl,Dn.isFinite=function(e){return"number"==typeof e&&nn(e)},Dn.isFunction=zl,Dn.isInteger=Wl,Dn.isLength=Vl,Dn.isMap=ql,Dn.isMatch=function(e,t){return e===t||br(e,t,Ji(t))},Dn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,br(e,t,Ji(t),n)},Dn.isNaN=function(e){return Zl(e)&&e!=+e},Dn.isNative=function(e){if(so(e))throw new de("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cr(e)},Dn.isNil=function(e){return null==e},Dn.isNull=function(e){return null===e},Dn.isNumber=Zl,Dn.isObject=Hl,Dn.isObjectLike=Gl,Dn.isPlainObject=Xl,Dn.isRegExp=Yl,Dn.isSafeInteger=function(e){return Wl(e)&&e>=-9007199254740991&&e<=9007199254740991},Dn.isSet=Kl,Dn.isString=Jl,Dn.isSymbol=$l,Dn.isTypedArray=Ql,Dn.isUndefined=function(e){return void 0===e},Dn.isWeakMap=function(e){return Gl(e)&&to(e)==y},Dn.isWeakSet=function(e){return Gl(e)&&"[object WeakSet]"==mr(e)},Dn.join=function(e,t){return null==e?"":rn.call(e,t)},Dn.kebabCase=Ma,Dn.last=Fo,Dn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ia(n))<0?ln(r+i,0):an(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):gt(e,yt,i,!0)},Dn.lowerCase=Pa,Dn.lowerFirst=ka,Dn.lt=ea,Dn.lte=ta,Dn.max=function(e){return e&&e.length?rr(e,Za,pr):void 0},Dn.maxBy=function(e,t){return e&&e.length?rr(e,Yi(t,2),pr):void 0},Dn.mean=function(e){return _t(e,Za)},Dn.meanBy=function(e,t){return _t(e,Yi(t,2))},Dn.min=function(e){return e&&e.length?rr(e,Za,Or):void 0},Dn.minBy=function(e,t){return e&&e.length?rr(e,Yi(t,2),Or):void 0},Dn.stubArray=ou,Dn.stubFalse=lu,Dn.stubObject=function(){return{}},Dn.stubString=function(){return""},Dn.stubTrue=function(){return!0},Dn.multiply=fu,Dn.nth=function(e,t){return e&&e.length?xr(e,ia(t)):void 0},Dn.noConflict=function(){return Ve._===this&&(Ve._=Ie),this},Dn.noop=$a,Dn.now=gl,Dn.pad=function(e,t,n){e=ua(e);var r=(t=ia(t))?Wt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ai(Qt(i),n)+e+Ai($t(i),n)},Dn.padEnd=function(e,t,n){e=ua(e);var r=(t=ia(t))?Wt(e):0;return t&&r<t?e+Ai(t-r,n):e},Dn.padStart=function(e,t,n){e=ua(e);var r=(t=ia(t))?Wt(e):0;return t&&r<t?Ai(t-r,n)+e:e},Dn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),sn(ua(e).replace(q,""),t||0)},Dn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&lo(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ra(e),void 0===t?(t=e,e=0):t=ra(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=cn();return an(e+i*(t-e+je("1e-"+((i+"").length-1))),t)}return Pr(e,t)},Dn.reduce=function(e,t,n){var r=Ml(e)?dt:St,i=arguments.length<3;return r(e,Yi(t,4),n,i,er)},Dn.reduceRight=function(e,t,n){var r=Ml(e)?ft:St,i=arguments.length<3;return r(e,Yi(t,4),n,i,tr)},Dn.repeat=function(e,t,n){return t=(n?lo(e,t,n):void 0===t)?1:ia(t),kr(ua(e),t)},Dn.replace=function(){var e=arguments,t=ua(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Dn.result=function(e,t,n){var r=-1,i=(t=li(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[Io(t[r])];void 0===o&&(r=i,o=n),e=zl(o)?o.call(e):o}return e},Dn.round=mu,Dn.runInContext=e,Dn.sample=function(e){return(Ml(e)?jn:Br)(e)},Dn.size=function(e){if(null==e)return 0;if(kl(e))return Jl(e)?Wt(e):e.length;var t=to(e);return t==f||t==g?e.size:wr(e).length},Dn.snakeCase=Ua,Dn.some=function(e,t,n){var r=Ml(e)?mt:Gr;return n&&lo(e,t,n)&&(t=void 0),r(e,Yi(t,3))},Dn.sortedIndex=function(e,t){return qr(e,t)},Dn.sortedIndexBy=function(e,t,n){return Zr(e,t,Yi(n,2))},Dn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=qr(e,t);if(r<n&&xl(e[r],t))return r}return-1},Dn.sortedLastIndex=function(e,t){return qr(e,t,!0)},Dn.sortedLastIndexBy=function(e,t,n){return Zr(e,t,Yi(n,2),!0)},Dn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=qr(e,t,!0)-1;if(xl(e[n],t))return n}return-1},Dn.startCase=Ba,Dn.startsWith=function(e,t,n){return e=ua(e),n=null==n?0:Yn(ia(n),0,e.length),t=Kr(t),e.slice(n,n+t.length)==t},Dn.subtract=pu,Dn.sum=function(e){return e&&e.length?wt(e,Za):0},Dn.sumBy=function(e,t){return e&&e.length?wt(e,Yi(t,2)):0},Dn.template=function(e,t,n){var r=Dn.templateSettings;n&&lo(e,t,n)&&(t=void 0),e=ua(e),t=da({},t,r,ji);var i,o,l=da({},t.imports,r.imports,ji),a=ba(l),u=Dt(l,a),s=0,c=t.interpolate||ue,d="__p += '",f=ve((t.escape||ue).source+"|"+c.source+"|"+(c===F?ee:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),m="//# sourceURL="+(Ce.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Pe+"]")+"\n";e.replace(f,function(t,n,r,l,a,u){return r||(r=l),d+=e.slice(s,u).replace(se,Pt),n&&(i=!0,d+="' +\n__e("+n+") +\n'"),a&&(o=!0,d+="';\n"+a+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),s=u+t.length,t}),d+="';\n";var p=Ce.call(t,"variable")&&t.variable;if(p){if($.test(p))throw new de("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(o?d.replace(x,""):d).replace(L,"$1").replace(R,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var v=Wa(function(){return fe(a,m+"return "+d).apply(void 0,u)});if(v.source=d,Fl(v))throw v;return v},Dn.times=function(e,t){if((e=ia(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=Ot(r,t=Yi(t));++n<e;)t(n);return i},Dn.toFinite=ra,Dn.toInteger=ia,Dn.toLength=oa,Dn.toLower=function(e){return ua(e).toLowerCase()},Dn.toNumber=la,Dn.toSafeInteger=function(e){return e?Yn(ia(e),-9007199254740991,9007199254740991):0===e?e:0},Dn.toString=ua,Dn.toUpper=function(e){return ua(e).toUpperCase()},Dn.trim=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return Nt(e);if(!e||!(t=Kr(t)))return e;var r=Vt(e),i=Vt(t);return ui(r,xt(r,i),At(r,i)+1).join("")},Dn.trimEnd=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return e.slice(0,Ht(e)+1);if(!e||!(t=Kr(t)))return e;var r=Vt(e);return ui(r,0,At(r,Vt(t))+1).join("")},Dn.trimStart=function(e,t,n){if((e=ua(e))&&(n||void 0===t))return e.replace(q,"");if(!e||!(t=Kr(t)))return e;var r=Vt(e);return ui(r,xt(r,Vt(t))).join("")},Dn.truncate=function(e,t){var n=30,r="...";if(Hl(t)){var i="separator"in t?t.separator:i;n="length"in t?ia(t.length):n,r="omission"in t?Kr(t.omission):r}var o=(e=ua(e)).length;if(kt(e)){var l=Vt(e);o=l.length}if(n>=o)return e;var a=n-Wt(r);if(a<1)return r;var u=l?ui(l,0,a).join(""):e.slice(0,a);if(void 0===i)return u+r;if(l&&(a+=u.length-a),Yl(i)){if(e.slice(a).search(i)){var s,c=u;for(i.global||(i=ve(i.source,ua(te.exec(i))+"g")),i.lastIndex=0;s=i.exec(c);)var d=s.index;u=u.slice(0,void 0===d?a:d)}}else if(e.indexOf(Kr(i),a)!=a){var f=u.lastIndexOf(i);f>-1&&(u=u.slice(0,f))}return u+r},Dn.unescape=function(e){return(e=ua(e))&&k.test(e)?e.replace(M,Gt):e},Dn.uniqueId=function(e){var t=++Se;return ua(e)+t},Dn.upperCase=ja,Dn.upperFirst=Fa,Dn.each=ul,Dn.eachRight=sl,Dn.first=ko,Ja(Dn,(au={},ur(Dn,function(e,t){Ce.call(Dn.prototype,t)||(au[t]=e)}),au),{chain:!1}),Dn.VERSION="4.17.21",rt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){Dn[e].placeholder=Dn}),rt(["drop","take"],function(e,t){Ln.prototype[e]=function(n){n=void 0===n?1:ln(ia(n),0);var r=this.__filtered__&&!t?new Ln(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Ln.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),rt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=1==n||3==n;Ln.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Yi(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),rt(["head","last"],function(e,t){var n="take"+(t?"Right":"");Ln.prototype[e]=function(){return this[n](1).value()[0]}}),rt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Ln.prototype[e]=function(){return this.__filtered__?new Ln(this):this[n](1)}}),Ln.prototype.compact=function(){return this.filter(Za)},Ln.prototype.find=function(e){return this.filter(e).head()},Ln.prototype.findLast=function(e){return this.reverse().find(e)},Ln.prototype.invokeMap=Ur(function(e,t){return"function"==typeof e?new Ln(this):this.map(function(n){return Er(n,e,t)})}),Ln.prototype.reject=function(e){return this.filter(Ol(Yi(e)))},Ln.prototype.slice=function(e,t){e=ia(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Ln(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ia(t))<0?n.dropRight(-t):n.take(t-e)),n)},Ln.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Ln.prototype.toArray=function(){return this.take(4294967295)},ur(Ln.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Dn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Dn.prototype[t]=function(){var t=this.__wrapped__,l=r?[1]:arguments,a=t instanceof Ln,u=l[0],s=a||Ml(t),c=function(e){var t=i.apply(Dn,ct([e],l));return r&&d?t[0]:t};s&&n&&"function"==typeof u&&1!=u.length&&(a=s=!1);var d=this.__chain__,f=!!this.__actions__.length,m=o&&!d,p=a&&!f;if(!o&&s){t=p?t:new Ln(this);var v=e.apply(t,l);return v.__actions__.push({func:rl,args:[c],thisArg:void 0}),new An(v,d)}return m&&p?e.apply(this,l):(v=this.thru(c),m?r?v.value()[0]:v.value():v)})}),rt(["pop","push","shift","sort","splice","unshift"],function(e){var t=Ee[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Dn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ml(i)?i:[],e)}return this[n](function(n){return t.apply(Ml(n)?n:[],e)})}}),ur(Ln.prototype,function(e,t){var n=Dn[t];if(n){var r=n.name+"";Ce.call(yn,r)||(yn[r]=[]),yn[r].push({name:t,func:n})}}),yn[Ii(void 0,2).name]=[{name:"wrapper",func:void 0}],Ln.prototype.clone=function(){var e=new Ln(this.__wrapped__);return e.__actions__=gi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=gi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=gi(this.__views__),e},Ln.prototype.reverse=function(){if(this.__filtered__){var e=new Ln(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Ln.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ml(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],l=o.size;switch(o.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=an(t,e+l);break;case"takeRight":e=ln(e,t-l)}}return{start:e,end:t}}(0,i,this.__views__),l=o.start,a=o.end,u=a-l,s=r?a:l-1,c=this.__iteratees__,d=c.length,f=0,m=an(u,this.__takeCount__);if(!n||!r&&i==u&&m==u)return ti(e,this.__actions__);var p=[];e:for(;u--&&f<m;){for(var v=-1,g=e[s+=t];++v<d;){var h=c[v],E=h.type,y=(0,h.iteratee)(g);if(2==E)g=y;else if(!y){if(1==E)continue e;break e}}p[f++]=g}return p},Dn.prototype.at=il,Dn.prototype.chain=function(){return nl(this)},Dn.prototype.commit=function(){return new An(this.value(),this.__chain__)},Dn.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Dn.prototype.plant=function(e){for(var t,n=this;n instanceof xn;){var r=To(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Dn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Ln){var t=e;return this.__actions__.length&&(t=new Ln(this)),(t=t.reverse()).__actions__.push({func:rl,args:[Ho],thisArg:void 0}),new An(t,this.__chain__)}return this.thru(Ho)},Dn.prototype.toJSON=Dn.prototype.valueOf=Dn.prototype.value=function(){return ti(this.__wrapped__,this.__actions__)},Dn.prototype.first=Dn.prototype.head,Ct&&(Dn.prototype[Ct]=function(){return this}),Dn}();Ge?((Ge.exports=qt)._=qt,He._=qt):Ve._=qt}).call(A)});const nt=()=>{var e,r;const i=t.useRef(null),{isLoading:o,data:u}=Digit.Hooks.useAccessControl(),[s,c]=t.useState(""),{t:d}=l.useTranslation();t.useEffect(()=>{if(o)return n.createElement(a.Loader,null);i.current.style.cursor="pointer",f()},[o]);const f=()=>{i.current.style.width="55px",i.current.style.overflow="hidden",i.current.querySelectorAll(".dropdown-link").forEach(e=>{e.style.display="none"}),i.current.querySelectorAll(".actions").forEach(e=>{e.style.padding="0"})},m={};let p={};null==u||null===(e=u.actions)||void 0===e||null===(r=e.filter(e=>"url"===e.url))||void 0===r||r.forEach(e=>{tt.set(p,e.path,{...e})}),null==u||u.actions.filter(e=>"url"===e.url).forEach(e=>{var t,n,r;let i=e.path.split(".")[0];(""==s&&""!==e.path||""!==e.path&&null!==(t=d("ACTION_TEST_"+(null===(n=i)||void 0===n||null===(r=n.toUpperCase())||void 0===r?void 0:r.replace(/[ -]/g,"_"))))&&void 0!==t&&t.toLowerCase().includes(s.toLowerCase()))&&(i=e.path.split(".")[0],"TradeLicense"===i&&(i="Trade License"),m[i]?m[i].push(e):m[i]=[e])});let v=[];return o?n.createElement(a.Loader,null):v?n.createElement("div",{className:"sidebar",ref:i,onMouseOver:()=>{i.current.style.width="260px",i.current.style.overflow="auto",i.current.querySelectorAll(".dropdown-link").forEach(e=>{e.style.display="flex"})},onMouseLeave:f},n.createElement("div",{className:"submenu-container"},n.createElement("div",{className:"sidebar-link"},n.createElement("div",{className:"actions search-icon-wrapper"},n.createElement(a.SearchIcon,{className:"search-icon"}),n.createElement("input",{className:"employee-search-input",type:"text",placeholder:d("ACTION_TEST_SEARCH"),name:"search",value:s,onChange:e=>c(e.target.value)})))),(()=>{var e;const t=Object.keys(m);t.sort((e,t)=>e.orderNumber-t.orderNumber);for(let e=0;e<t.length;e++)if(-1===m[t[e]][0].path.indexOf("."))if("Home"===m[t[e]][0].displayName){const n="/digit-ui/employee";v.unshift({moduleName:t[e].toUpperCase(),icon:m[t[e]][0],navigationURL:n,type:"single"})}else{var r;v.push({moduleName:null===(r=m[t[e]][0])||void 0===r?void 0:r.displayName.toUpperCase(),type:"single",icon:m[t[e]][0],navigationURL:m[t[e]][0].navigationURL})}else v.push({moduleName:t[e].toUpperCase(),links:m[t[e]],icon:m[t[e]][0],orderNumber:m[t[e]][0].orderNumber});if(v.find(e=>"HOME"===e.moduleName)){var i,o;v.findIndex(e=>"HOME"===e.moduleName);const e=null===(i=v)||void 0===i?void 0:i.filter(e=>"HOME"===(null==e?void 0:e.moduleName));let t=null===(o=v)||void 0===o?void 0:o.filter(e=>"HOME"!==(null==e?void 0:e.moduleName));v=t.sort((e,t)=>e.moduleName.localeCompare(t.moduleName)),(null==e?void 0:e[0])&&v.unshift(e[0])}else v.sort((e,t)=>e.moduleName.localeCompare(t.moduleName));return null===(e=v)||void 0===e?void 0:e.map((e,t)=>n.createElement(et,{item:e,key:t+1}))})()):""},rt=e=>{let{CITIZEN:t,isSidebarOpen:r,toggleSidebar:i,handleLogout:o,mobileView:l,userDetails:a,modules:u,linkData:s,islinkDataLoading:c,isSideBarScroll:d,setSideBarScrollTop:f}=e;return t?n.createElement(Qe,{isOpen:r,isSideBarScroll:d,setSideBarScrollTop:f,isMobile:!0,toggleSidebar:i,onLogout:o,linkData:s,islinkDataLoading:c}):!l&&null!=a&&a.access_token?n.createElement(nt,{mobileView:l,userDetails:a,modules:u}):n.createElement(Qe,{isOpen:r,isMobile:!0,toggleSidebar:i,onLogout:o,isEmployee:!0})},it=e=>{let{t:r,stateInfo:i,userDetails:l,CITIZEN:u,cityDetails:s,mobileView:c,handleUserDropdownSelection:d,logoUrl:f,showSidebar:m=!0,showLanguageChange:p,linkData:v,islinkDataLoading:g}=e;const[h,E]=t.useState(!1),[y,_]=t.useState(!1),b=o.useHistory(),[C,S]=t.useState(!1),w=()=>{E(!1),S(!0)},O=()=>{S(!1)},N=[{name:r("EDIT_PROFILE"),icon:n.createElement(a.EditPencilIcon,{className:"icon"}),func:()=>{b.push("/digit-ui/employee/user/profile")}},{name:r("CORE_COMMON_LOGOUT"),icon:n.createElement(a.LogoutIcon,{className:"icon"}),func:w}];return n.createElement(n.Fragment,null,n.createElement(We,{t:r,stateInfo:i,toggleSidebar:E,setSideBarScrollTop:_,isSidebarOpen:h,isSideBarScroll:y,handleLogout:w,userDetails:l,CITIZEN:u,cityDetails:s,mobileView:c,userOptions:N,handleUserDropdownSelection:d,logoUrl:f,showLanguageChange:p}),C&&n.createElement(Ze,{onSelect:()=>{Digit.UserService.logout(),S(!1)},onCancel:O,onDismiss:O}),m&&n.createElement(rt,{t:r,CITIZEN:u,isSidebarOpen:h,toggleSidebar:E,isSideBarScroll:y,setSideBarScrollTop:_,handleLogout:w,mobileView:c,userDetails:l,linkData:v,islinkDataLoading:g}))};function ot(e){let{setProfilePic:r,closeDrawer:i,userType:o,removeProfilePic:u,showToast:s}=e;const[c,d]=t.useState(null),[f,m]=t.useState(""),[p,v]=t.useState(null),{t:g}=l.useTranslation();return t.useEffect(()=>{!function(){try{v(null);const e=function(){if(f){const e=function(){if(f.size>=1e6)s("error",g("CORE_COMMON_PROFILE_MAXIMUM_UPLOAD_SIZE_EXCEEDED")),v(g("CORE_COMMON_PROFILE_MAXIMUM_UPLOAD_SIZE_EXCEEDED"));else{const e=_(function(){return Promise.resolve(Digit.UploadServices.Filestorage(o+"-profile",f,Digit.ULBService.getStateId())).then(function(e){var t,n;if((null==e||null===(t=e.data)||void 0===t||null===(n=t.files)||void 0===n?void 0:n.length)>0){var i,o;const t=null==e||null===(i=e.data)||void 0===i||null===(o=i.files[0])||void 0===o?void 0:o.fileStoreId;d(t),r(t)}else s("error",g("CORE_COMMON_PROFILE_FILE_UPLOAD_ERROR")),v(g("CORE_COMMON_PROFILE_FILE_UPLOAD_ERROR"))})},function(){s("error",g("CORE_COMMON_PROFILE_INVALID_FILE_INPUT"))});if(e&&e.then)return e.then(function(){})}}();if(e&&e.then)return e.then(function(){})}}();e&&e.then&&e.then(function(){})}catch(e){Promise.reject(e)}}()},[f]),n.createElement(n.Fragment,null,n.createElement("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100%",height:"100vh",backgroundColor:"rgba(0,0,0,.5)"},onClick:()=>i()}),n.createElement("div",{style:{width:"100%",justifyContent:"space-between",display:"flex",backgroundColor:"white",alignItems:"center",position:"fixed",left:"0",right:"0",height:"20%",bottom:"citizen"===o?"2.5rem":"0",zIndex:"2"}},n.createElement("div",{style:{display:"flex",flex:"1",flexDirection:"column",width:"100%",justifyContent:"center",alignItems:"center",gap:"8px 0"}},n.createElement("label",{for:"file",style:{cursor:"pointer"}}," ",n.createElement(a.GalleryIcon,null)),n.createElement("label",{style:{cursor:"pointer"}}," Gallery"),n.createElement("input",{type:"file",id:"file",accept:"image/*, .png, .jpeg, .jpg",onChange:e=>m(e.target.files[0]),style:{display:"none"}})),n.createElement("div",{style:{display:"flex",flex:"1",width:"100%",justifyContent:"center",alignItems:"center",flexDirection:"column",gap:"8px 0"}},n.createElement("button",{onClick:()=>{u(),i()}},n.createElement(a.RemoveIcon,null)),n.createElement("label",{style:{cursor:"pointer"}},"Remove"))))}const lt=e=>{var r,i,u,s,c,d,f;let{stateCode:m,userType:p,cityDetails:v}=e;o.useHistory();const{t:g}=l.useTranslation(),h=window.location.href,E=Digit.ULBService.getStateId(),y=Digit.ULBService.getCurrentTenantId(),b=(null===(r=Digit.UserService.getUser())||void 0===r?void 0:r.info)||{},[C,S]=t.useState(null),[w,O]=t.useState(null!=b&&b.name?b.name:""),[N,I]=t.useState(null!=b&&b.emailId?b.emailId:""),[D,T]=t.useState(null==C?void 0:C.gender),[A,L]=t.useState(null!=b&&b.permanentCity?b.permanentCity:v.name),[R,M]=t.useState(null!=b&&b.mobileNumber?b.mobileNumber:""),[P,k]=t.useState(null),[U,B]=t.useState(""),[j,F]=t.useState(!1),[z,W]=t.useState(!1),[V,H]=t.useState(""),[G,q]=t.useState(""),[Z,X]=t.useState(""),[Y,K]=t.useState(null),[J,$]=t.useState(!1),[Q,ee]=n.useState(window.innerWidth),[te,ne]=n.useState({}),re=window.Digit.Utils.browser.isMobile();n.useEffect(()=>(window.addEventListener("resize",()=>ee(window.innerWidth)),()=>{window.removeEventListener("resize",()=>ee(window.innerWidth))})),t.useEffect(()=>{var e;$(!0),function(){try{const e=null==b?void 0:b.uuid,t=function(){if(e)return Promise.resolve(Digit.UserService.userSearch(y,{uuid:[e]},{})).then(function(e){e&&e.user&&e.user.length&&S(e.user[0])})}();Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}}(),T({i18nKey:void 0,code:null==C?void 0:C.gender,value:null==C?void 0:C.gender});const t=null==C||null===(e=C.photo)||void 0===e?void 0:e.split(",");B(null==t?void 0:t.at(0)),$(!1)},[null!==C]);let ie={};const oe=e=>T(e),le=()=>F(!1),ae=e=>{O(e),!new RegExp(/^[a-zA-Z ]+$/i).test(e)||0===e.length||e.length>50?ne({...te,userName:{type:"pattern",message:g("CORE_COMMON_PROFILE_NAME_INVALID")}}):ne({...te,userName:null})},ue=function(e,t,n){void 0===n&&(n=5e3),K({key:e,action:t}),setTimeout(()=>{K(null)},n)},se=function(){try{let t=!1;function e(e){if(t)return e;$(!1)}$(!0);const n=_(function(){const e={...b,name:w,gender:null==D?void 0:D.value,emailId:N,photo:P};if(!new RegExp(/^([a-zA-Z ])*$/).test(w)||""===w||w.length>50||w.length<1)throw JSON.stringify({type:"error",message:g("CORE_COMMON_PROFILE_NAME_INVALID")});if("employee"===p&&!new RegExp(/^[6-9]{1}[0-9]{9}$/).test(R))throw JSON.stringify({type:"error",message:g("CORE_COMMON_PROFILE_MOBILE_NUMBER_INVALID")});if(N.length&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(N))throw JSON.stringify({type:"error",message:g("CORE_COMMON_PROFILE_EMAIL_INVALID")});if(V.length||G.length||Z.length){if(G!==Z)throw JSON.stringify({type:"error",message:g("CORE_COMMON_PROFILE_PASSWORD_MISMATCH")});if(!(V.length&&G.length&&Z.length))throw JSON.stringify({type:"error",message:g("CORE_COMMON_PROFILE_PASSWORD_INVALID")});if(!new RegExp(/^([a-zA-Z0-9@#$%]{8,15})$/i).test(G)&&!new RegExp(/^([a-zA-Z0-9@#$%]{8,15})$/i).test(Z))throw JSON.stringify({type:"error",message:g("CORE_COMMON_PROFILE_PASSWORD_INVALID")})}return e.locale=Digit.StoreData.getCurrentLanguage(),Promise.resolve(Digit.UserService.updateUser(e,m)).then(function(e){let{responseInfo:t}=e;if(t&&"200"===t.status){const e=Digit.UserService.getUser();e&&Digit.UserService.setUser({...e,info:{...e.info,name:w,mobileNumber:R,emailId:N,permanentCity:A}})}return function(){if(V.length&&G.length&&Z.length){const e={existingPassword:V,newPassword:G,tenantId:y,type:"EMPLOYEE",username:null==b?void 0:b.userName,confirmPassword:Z};return function(){if(G===Z)return _(function(){return Promise.resolve(Digit.UserService.changePassword(e,y)).then(function(e){const{responseInfo:t}=e;if(null==t||!t.status||"200"!==t.status)throw"";ue("success",g("CORE_COMMON_PROFILE_UPDATE_SUCCESS_WITH_PASSWORD"),5e3)})},function(e){var t,n;throw JSON.stringify({type:"error",message:null!==(t=e.Errors)&&void 0!==t&&null!==(n=t.at(0))&&void 0!==n&&n.description?e.Errors.at(0).description:g("CORE_COMMON_PROFILE_UPDATE_ERROR_WITH_PASSWORD")})});throw JSON.stringify({type:"error",message:g("CORE_COMMON_PROFILE_ERROR_PASSWORD_NOT_MATCH")})}()}null!=t&&t.status&&"200"===t.status&&ue("success",g("CORE_COMMON_PROFILE_UPDATE_SUCCESS"),5e3)}()})},function(e){const t=JSON.parse(e);ue(t.type,g(t.message),5e3)});return Promise.resolve(n&&n.then?n.then(e):e(n))}catch(e){return Promise.reject(e)}};let ce=[];const{data:de}=Digit.Hooks.pt.useGenderMDMS(E,"common-masters","GenderType");return de&&de.map(e=>{ce.push({i18nKey:"PT_COMMON_GENDER_"+e.code,code:""+e.code,value:""+e.code})}),J?n.createElement(a.Loader,null):n.createElement("div",{className:"user-profile"},n.createElement("section",{style:{margin:"citizen"===p?"8px":"24px",position:"relative"}},"citizen"===p?n.createElement(a.BackButton,null):n.createElement(a.BreadCrumb,{crumbs:[{path:"/digit-ui/employee",content:g("ES_COMMON_HOME"),show:!0},{path:"/digit-ui/employee/user/profile",content:g("ES_COMMON_PAGE_1"),show:h.includes("/user/profile")}]})),n.createElement("div",{style:{display:"flex",flex:1,flexDirection:Q<768||"citizen"===p?"column":"row",margin:"citizen"===p?"8px":"16px",gap:"citizen"===p?"":"0 24px",boxShadow:"citizen"===p?"1px 1px 4px 0px rgba(0,0,0,0.2)":"",background:"citizen"===p?"white":"",borderRadius:"citizen"===p?"4px":"",maxWidth:"citizen"===p?"960px":""}},n.createElement("section",{style:{position:"relative",display:"flex",flex:"citizen"===p?1:2.5,justifyContent:"center",alignItems:"center",maxWidth:"100%",height:"320px",borderRadius:"4px",boxShadow:"citizen"===p?"":"1px 1px 4px 0px rgba(0,0,0,0.2)",border:("citizen"===p?"8px":"24px")+" solid #fff",background:"#EEEEEE",padding:"citizen"===p?"8px":"16px"}},n.createElement("div",{style:{position:"relative",height:"citizen"===p?"114px":"150px",width:"citizen"===p?"114px":"150px",margin:"16px"}},n.createElement("img",{style:{margin:"auto",borderRadius:"300px",justifyContent:"center",height:"100%",width:"100%"},src:U&&""!==U?U:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAO4AAADUCAMAAACs0e/bAAAAM1BMVEXK0eL////Dy97GzuD4+fvL0uPg5O7T2efb4OvR1+Xr7vTk5/Df4+37/P3v8fbO1eTt8PUsnq5FAAAGqElEQVR4nO2d25ajIBBFCajgvf//a0eMyZgEjcI5xgt7Hmatme507UaxuJXidiDqjmSgeVIMlB1ZR1WZAf2gbdu0QwixSYzjOJPmHurfEGEfY9XzjNGG9whQCeVAuv5xQEySLtR9hPuIcwj0EeroN5m3D1IbsbgHK0esiQ9MKsqXVr8Hm/a/Pulk6wihpCIXBw3dh7bTvRBt9+dC5NfS1VH3xETdM3MxXRN1T0zUPTNR98xcS1dlV9NNfx3DhkTdM6PKqHteVBF1z0vU5f0sKdpc2zWLKutXrjJjdLvpesRmukqYonauPhXpdsLb6CppmpnltsYIuY2yavi6Mi2/rzAWm1zUfF0limVLqkZyA+mDYevKBS37aGC+L1lX5e7uyU1Cv565uiua9k5LFqbqqrnu2I3m+jJ11ZoLeRtfmdB0Uw/ZDsP0VTxdn7a1VERfmq7XlXyn5D2QWLoq8bZlPoBJumphJjVBw/Ll6CoTZGsTDs4NrGqKbqBth8ZHJUi6cn168QmleSm6GmB7Kxm+6obXlf7PoDHosCwM3QpiS2legi6ocSl3L0G3BdneDDgwQdENfeY+SfDJBkF37ZB+GvwzA6/rMaafAn8143VhPZWdjMWG1oHXhdnemgPoAvLlB/iZyRTfVeF06wPoQhJmlm4bdcOAZRlRN5gcPc5SoPEQR1fDdbOo6wn+uYvXxY0QCLom6gYROKH+Aj5nvphuFXWDiLpRdxl/19LFT95k6CHCrnW7pCDqBn1i1PUFvii2c11oZOJ6usWeH0RRNzC4Zs+6FTi2nevCVwCjbugnXklX5fkfTldL8PEilUB1kfNyN1u9MME2sATr4lbuB7AjfLAuvsRm1A0g6gYRdcPAjvBlje2Z8brI8OC68AcRdlCkwLohx2mcZMjw9q+LzarQurjtnwPYAydX08WecECO/u6Ad0GBdYG7jO5gB4Ap+PwKcA9ZT43dn4/W9TyiPAn4OAJaF7h3uwe8StSCddFdM3jqFa2LvnnB5zzhuuBBAjY4gi50cg694gnXhTYvfMdrjtcFZhrwE9r41gUem8IXWMC3LrBzxh+a0gRd1N1LOK7M0IUUGuggvEmHoStA2/MJh7MpupiDU4TzjhxdzLAoO4ouZvqVURbFMHQlZD6SUeWHoguZsSLUGegrehA+FZFowPdUWTi6iMoZlIpGGUUXkDbjj/9ZOLqAQS/+GIKl5BQOCn/ycqpzkXSDm5dU7ZWkG7wUyGlcmm7g5Ux56AqirgoaJ7BeokPTDbp9CbVunjFxPrl7+HqnkrSq1Da7JX20f3dV8yJi6voO81mX8vV0mx3qUsZCPRfTlVRdz2EvdufYGDvNQvvwqHtmXd+a1ITinwNcXc+lT6JuzdT1XDyBn/x7wtX1HCQQdW9MXc8xArGrirowfLeUEbMqqq6f7TF1lfRdOuGNiGi6SpT+WxY06xUfNN2wBfyE9I4tlm7w5hvOPDNJN3yNiLMipji6gE3chKhouoCtN5x3QlF0EZt8OW/8ougitqJQlk1aii7iFC9l0MvRReyao7xNjKML2Z/PuHlzhi5mFxljiZeiC9rPTEisNEMX9KYAwo5Xhi7qaA3hamboYm7dG+NVrXhdaYDv5zFaQZsYrCtbbAGnjkQDX2+J1FXCwOsqWOpKoIQNTFdqYBWydxqNqUoG0pVpCS+H8kaJaGKErlIaXj7CRRE+gRWuKwW9YZ80oVOUgbpdT0zpnSZJTIiwCtJVelvXntr4P5j6BWfPb5Wcx84C4cq3hb11lco2u2Mdwp6XdJ/Ne3wb8DWdfiRenZaXrhLwOj4e+GQeHroy3YOspS7TlU28Wle2m2QUS0mqdcbrdNW+ZHsSsyK7tBfm0q/dWcv+Z3mytVx3t7KWulqUe6ilunu8jF8pFwgv1FXp3mUt35OtRbr7eM4u4Gs6vUBXgeuHc5kfE/cbvWZtkROLm1DMtLCy80tzsu2PRj0hTI8fvrQuvsjlJkyutszq+m423wHaLTyniy/XuiGZ84LuT+m5ZfNfRxyGs7LXZOvia7VujatUwVTrIt+Q/Csc7Tuhe+BOakT10b4TuoiiJjvgU9emTO42PwEfBa+cuodKkuf42DXr1D3JpXz73Hnn0j10evHKe+nufgfUm+7B84sX9FfdEzXux2DBpWuKokkCqN/5pa/8pmvnL+RGKCddCGmatiPyPB/+ekO/M/q/7uvbt22kTt3zEnXPzCV13T3Gel4/6NduDu66xRvlPNkM1RjjxUdv+4WhGx6TftD19Q/dfzpwcHO+rE3fAAAAAElFTkSuQmCC"}),n.createElement("button",{style:{position:"absolute",left:"50%",bottom:"-24px",transform:"translateX(-50%)"},onClick:()=>F(!j)},n.createElement(a.CameraIcon,null)))),n.createElement("section",{style:{display:"flex",flexDirection:"column",flex:"citizen"===p?1:7.5,width:"100%",borderRadius:"4px",height:"fit-content",boxShadow:"citizen"===p?"":"1px 1px 4px 0px rgba(0,0,0,0.2)",background:"white",padding:"citizen"===p?"8px":"24px",paddingBottom:"20px"}},"citizen"===p?n.createElement(n.Fragment,null,n.createElement(a.LabelFieldPair,null,n.createElement(a.CardLabel,{style:{}},""+g("CORE_COMMON_PROFILE_NAME"),"*"),n.createElement("div",{style:{width:"100%",maxWidth:"960px"}},n.createElement(a.TextInput,x({t:g,style:{width:"100%"},type:"text",isMandatory:!1,name:"name",value:w,onChange:e=>ae(e.target.value)},ie={isRequired:!0,pattern:"^[a-zA-Z-.`' ]*$",type:"tel",title:g("CORE_COMMON_PROFILE_NAME_ERROR_MESSAGE")},{disable:!1})),(null==te?void 0:te.userName)&&n.createElement(a.CardLabelError,null," ",null==te||null===(i=te.userName)||void 0===i?void 0:i.message," "))),n.createElement(a.LabelFieldPair,null,n.createElement(a.CardLabel,{style:{}},""+g("CORE_COMMON_PROFILE_GENDER")),n.createElement(a.Dropdown,{style:{width:"100%"},className:"form-field",selected:1===(null==D?void 0:D.length)?D[0]:D,disable:1===(null==D?void 0:D.length)||!1,option:ce,select:oe,value:D,optionKey:"code",t:g,name:"gender"})),n.createElement("button",{onClick:se,style:{marginTop:"24px",backgroundColor:"#a82227",width:"100%",height:"40px",color:"white",maxWidth:re?"100%":"240px",borderBottom:"1px solid black"}},g("CORE_COMMON_SAVE"))):n.createElement(n.Fragment,null,n.createElement(a.LabelFieldPair,{style:{display:"flex"}},n.createElement(a.CardLabel,{className:"profile-label-margin",style:{width:"300px"}},""+g("CORE_COMMON_PROFILE_NAME"),"*"),n.createElement("div",{style:{width:"100%"}},n.createElement(a.TextInput,x({t:g,type:"text",isMandatory:!1,name:"name",value:w,onChange:e=>ae(e.target.value),placeholder:"Enter Your Name"},ie={isRequired:!0,pattern:"^[a-zA-Z-.`' ]*$",type:"text",title:g("CORE_COMMON_PROFILE_NAME_ERROR_MESSAGE")},{disable:!1})),(null==te?void 0:te.userName)&&n.createElement(a.CardLabelError,{style:{margin:0,padding:0}}," ",null==te||null===(u=te.userName)||void 0===u?void 0:u.message," "))),n.createElement(a.LabelFieldPair,{style:{display:"flex"}},n.createElement(a.CardLabel,{className:"profile-label-margin",style:{width:"300px"}},""+g("CORE_COMMON_PROFILE_GENDER")),n.createElement(a.Dropdown,{style:{width:"100%"},selected:1===(null==D?void 0:D.length)?D[0]:D,disable:1===(null==D?void 0:D.length)||!1,option:ce,select:oe,value:D,optionKey:"code",t:g,name:"gender"})),n.createElement(a.LabelFieldPair,{style:{display:"flex"}},n.createElement(a.CardLabel,{className:"profile-label-margin",style:{width:"300px"}},""+g("CORE_COMMON_PROFILE_CITY")),n.createElement("div",{style:{width:"100%"}},n.createElement(a.TextInput,x({t:g,type:"text",isMandatory:!1,name:"city",value:g(A),onChange:e=>L(e.target.value),placeholder:"Enter Your City Name"},ie={isRequired:!0,type:"text",title:g("CORE_COMMON_PROFILE_CITY_ERROR_MESSAGE")},{disable:!0})),n.createElement(a.CardLabelError,null))),n.createElement(a.LabelFieldPair,{style:{display:"flex"}},n.createElement(a.CardLabel,{className:"profile-label-margin",style:{width:"300px"}},g("CORE_COMMON_PROFILE_MOBILE_NUMBER")+"*"),n.createElement("div",{style:{width:"100%"}},n.createElement(a.MobileNumber,{value:R,style:{width:"100%"},name:"mobileNumber",placeholder:"Enter a valid Mobile No.",onChange:e=>(e=>{M(e),"employee"!==p||new RegExp(/^[6-9]{1}[0-9]{9}$/).test(e)?ne({...te,mobileNumber:null}):ne({...te,mobileNumber:{type:"pattern",message:g("CORE_COMMON_PROFILE_MOBILE_NUMBER_INVALID")}})})(e),disable:!0,required:!0,pattern:"[6-9]{1}[0-9]{9}",type:"tel",title:g("CORE_COMMON_PROFILE_MOBILE_NUMBER_INVALID")}),(null==te?void 0:te.mobileNumber)&&n.createElement(a.CardLabelError,{style:{margin:0,padding:0}}," ",null==te||null===(s=te.mobileNumber)||void 0===s?void 0:s.message," "))),n.createElement(a.LabelFieldPair,null,n.createElement("div",null,n.createElement("a",{style:{color:"#a82227",cursor:"default",marginBottom:"5",cursor:"pointer",position:"relative"},onClick:()=>W(!z)},g("CORE_COMMON_CHANGE_PASSWORD")),z?n.createElement("div",{style:{marginTop:"10px"}},n.createElement(a.LabelFieldPair,{style:{display:"flex"}},n.createElement(a.CardLabel,{className:"profile-label-margin",style:{width:"300px"}},""+g("CORE_COMMON_PROFILE_CURRENT_PASSWORD")),n.createElement("div",{style:{width:"100%"}},n.createElement(a.TextInput,{t:g,type:"password",isMandatory:!1,name:"name",pattern:"^([a-zA-Z0-9@#$%])+$",onChange:e=>{return H(t=e.target.value),void(new RegExp(/^([a-zA-Z0-9@#$%]{8,15})$/i).test(t)?ne({...te,currentPassword:null}):ne({...te,currentPassword:{type:"pattern",message:g("CORE_COMMON_PROFILE_PASSWORD_INVALID")}}));var t},disable:!1}),(null==te?void 0:te.currentPassword)&&n.createElement(a.CardLabelError,null,null==te||null===(c=te.currentPassword)||void 0===c?void 0:c.message))),n.createElement(a.LabelFieldPair,{style:{display:"flex"}},n.createElement(a.CardLabel,{className:"profile-label-margin",style:{width:"300px"}},""+g("CORE_COMMON_PROFILE_NEW_PASSWORD")),n.createElement("div",{style:{width:"100%"}},n.createElement(a.TextInput,{t:g,type:"password",isMandatory:!1,name:"name",pattern:"^([a-zA-Z0-9@#$%])+$",onChange:e=>{return q(t=e.target.value),void(new RegExp(/^([a-zA-Z0-9@#$%]{8,15})$/i).test(t)?ne({...te,newPassword:null}):ne({...te,newPassword:{type:"pattern",message:g("CORE_COMMON_PROFILE_PASSWORD_INVALID")}}));var t},disable:!1}),(null==te?void 0:te.newPassword)&&n.createElement(a.CardLabelError,null,null==te||null===(d=te.newPassword)||void 0===d?void 0:d.message))),n.createElement(a.LabelFieldPair,{style:{display:"flex"}},n.createElement(a.CardLabel,{className:"profile-label-margin",style:{width:"300px"}},""+g("CORE_COMMON_PROFILE_CONFIRM_PASSWORD")),n.createElement("div",{style:{width:"100%"}},n.createElement(a.TextInput,{t:g,type:"password",isMandatory:!1,name:"name",pattern:"^([a-zA-Z0-9@#$%])+$",onChange:e=>{return X(t=e.target.value),void(new RegExp(/^([a-zA-Z0-9@#$%]{8,15})$/i).test(t)?ne({...te,confirmPassword:null}):ne({...te,confirmPassword:{type:"pattern",message:g("CORE_COMMON_PROFILE_PASSWORD_INVALID")}}));var t},disable:!1}),(null==te?void 0:te.confirmPassword)&&n.createElement(a.CardLabelError,null,null==te||null===(f=te.confirmPassword)||void 0===f?void 0:f.message)))):""))))),"employee"===p?n.createElement("div",{style:{height:"88px",backgroundColor:"#FFFFFF",display:"flex",justifyContent:"flex-end",marginTop:"64px",alignItems:"center"}},n.createElement("button",{onClick:se,style:{marginTop:"24px",backgroundColor:"#a82227",width:Q<768?"100%":"248px",height:"40px",float:"right",margin:Q<768?"0 16px":"",marginRight:Q<768?"16px":"31px",color:"white",borderBottom:"1px solid black",cursor:"pointer",zIndex:"999"}},g("CORE_COMMON_SAVE"))):"",Y&&n.createElement(a.Toast,{error:"error"===Y.key,label:g("success"===Y.key?"CORE_COMMON_PROFILE_UPDATE_SUCCESS":Y.action),onClose:()=>K(null),style:{maxWidth:"670px"}}),1==j?n.createElement(ot,{setProfilePic:function(e){try{function t(e){B(null==e?void 0:e.thumbs[0]),le()}return k(e),Promise.resolve(e?Promise.resolve(function(e,t){try{return Promise.resolve(Digit.UploadServices.Filefetch(e,t)).then(function(e){return e.data.fileStoreIds&&0!==e.data.fileStoreIds.length?{thumbs:e.data.fileStoreIds.map(e=>e.url.split(",")[3]),images:e.data.fileStoreIds.map(e=>Digit.Utils.getFileUrl(e.url))}:null})}catch(e){return Promise.reject(e)}}([e],E)).then(t):t(null))}catch(e){return Promise.reject(e)}},closeDrawer:le,userType:p,removeProfilePic:()=>{k(null),B(null)},showToast:ue}):"")},at=["user/profile","user/error"],ut=e=>{var r;let{stateInfo:i,userDetails:u,CITIZEN:s,cityDetails:c,mobileView:d,handleUserDropdownSelection:f,logoUrl:m,DSO:p,stateCode:v,modules:g,appTenants:h,sourceUrl:E,initData:y}=e;const _=o.useHistory(),{t:b}=l.useTranslation(),{path:C}=o.useRouteMatch(),S=o.useLocation(),w=null==S||null===(r=S.pathname)||void 0===r?void 0:r.includes("language-selection"),O=at.some(e=>{var t;return null==S||null===(t=S.pathname)||void 0===t?void 0:t.includes(e)});return t.useEffect(()=>{console.log("isMobile",window.Digit.Utils.browser.isMobile(),window.innerWidth),Digit.UserService.setType("employee")},[]),E="https://s3.ap-south-1.amazonaws.com/egov-qa-assets",n.createElement("div",{className:"employee"},n.createElement(o.Switch,null,n.createElement(o.Route,{path:C+"/user"},O&&n.createElement(it,{t:b,stateInfo:i,userDetails:u,CITIZEN:s,cityDetails:c,mobileView:d,handleUserDropdownSelection:f,logoUrl:m,showSidebar:!!O,showLanguageChange:!w}),n.createElement("div",{className:O?"grounded-container":"loginContainer",style:O?{padding:0,paddingTop:"80px",marginLeft:d?"":"64px"}:{"--banner-url":"url("+(null==i?void 0:i.bannerUrl)+")",padding:"0px"}},n.createElement("div",{className:"loginnn"},n.createElement("div",{className:"login-logo-wrapper"},n.createElement("div",{className:"logoNiua"})),n.createElement("picture",null,n.createElement("source",{id:"backgroung-login",media:"(min-width: 950px)",srcset:"https://nugp-assets.s3.ap-south-1.amazonaws.com/nugp+asset/Banner+UPYOG+(1920x1080).jpg",style:{position:"absolute",height:"100%",width:"100%"}}),n.createElement("source",{media:"(min-width: 250px)",srcset:"https://nugp-assets.s3.ap-south-1.amazonaws.com/nugp+asset/Banner+UPYOG+%28500x900%29.jpg"}),n.createElement("img",{src:"https://nugp-assets.s3.ap-south-1.amazonaws.com/nugp+asset/Banner+UPYOG+(1920x1080).jpg",alt:"imagealttext",style:{position:"absolute",height:"100%",width:"100%",zIndex:"1",display:window.location.href.includes("user/profile")?"none":""}})),n.createElement(o.Switch,null,n.createElement(o.Route,{path:C+"/user/login"},n.createElement(we,null)),n.createElement(o.Route,{path:C+"/user/forgot-password"},n.createElement(xe,null)),n.createElement(o.Route,{path:C+"/user/change-password"},n.createElement(Ie,null)),n.createElement(a.PrivateRoute,{path:C+"/user/profile"},n.createElement(lt,{stateCode:v,userType:"employee",cityDetails:c})),n.createElement(o.Route,{path:C+"/user/error"},n.createElement(Pe,{initData:y,goToHome:()=>{_.push("/digit-ui/employee")}})),n.createElement(o.Route,{path:C+"/user/language-selection"},n.createElement(Ae,null)),n.createElement(o.Route,null,n.createElement(o.Redirect,{to:C+"/user/language-selection"})))))),n.createElement(o.Route,null,n.createElement(it,{t:b,stateInfo:i,userDetails:u,CITIZEN:s,cityDetails:c,mobileView:d,handleUserDropdownSelection:f,logoUrl:m,modules:g}),n.createElement("div",{className:"main "+(p?"m-auto":"")},n.createElement("div",{className:"employee-app-wrapper"},n.createElement(Ue,{initData:y},n.createElement(Re,{stateCode:v,userType:"employee",modules:g,appTenants:h}))),n.createElement("div",{style:{width:"100%",position:"fixed",bottom:0,backgroundColor:"white",textAlign:"center"}},n.createElement("div",{style:{display:"flex",justifyContent:"center",color:"black"}},n.createElement("span",{style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px",fontWeight:"400"},onClick:()=>{window.open("https://www.digit.org/","_blank").focus()}},"Powered by DIGIT"),n.createElement("span",{style:{margin:"0 10px",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px"}},"|"),n.createElement("a",{style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px",fontWeight:"400"},href:"#",target:"_blank"},"UPYOG License"),n.createElement("span",{className:"upyog-copyright-footer",style:{margin:"0 10px",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px"}},"|"),n.createElement("span",{className:"upyog-copyright-footer",style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px",fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs")),n.createElement("div",{className:"upyog-copyright-footer-web"},n.createElement("span",{className:"",style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px",fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs"))))),n.createElement(o.Route,null,n.createElement(o.Redirect,{to:C+"/user/language-selection"}))))},st=()=>{var e,t,r,i,u,s,c,d,f,m,p,v,g,h,E,y,_,b,C;const{t:S}=l.useTranslation(),w=o.useHistory(),O=Digit.ULBService.getCitizenCurrentTenant(!0),{data:{uiHomePage:N}={},isLoading:I}=Digit.Hooks.useStore.getInitData();let D=window.Digit.Utils.browser.isMobile();window.Digit.SessionStorage.get("TL_CREATE_TRADE")&&window.Digit.SessionStorage.set("TL_CREATE_TRADE",{});const T=()=>{var e,t,n,r,i;return"EMPLOYEE"!==(null===(e=Digit.UserService)||void 0===e||null===(t=e.getUser())||void 0===t||null===(n=t.info)||void 0===n?void 0:n.type)&&!(null===(r=Digit.UserService)||void 0===r||null===(i=r.getUser())||void 0===i||!i.access_token)},{data:A,isLoading:L}=Digit.Hooks.useEvents({tenantId:O,variant:"whats-new",config:{enabled:T()}});O||(null===Digit.SessionStorage.get("locale")?w.push("/digit-ui/citizen/select-language"):w.push("/digit-ui/citizen/select-location"));const R=null==N?void 0:N.citizenServicesCard,M=null==N?void 0:N.informationAndUpdatesCard,P=null==N?void 0:N.whatsNewSection,k={header:S(null==R?void 0:R.headerLabel),sideOption:{name:S(null==R||null===(e=R.sideOption)||void 0===e?void 0:e.name),onClick:()=>{var e;return w.push(null==R||null===(e=R.sideOption)||void 0===e?void 0:e.navigationUrl)}},options:[{name:S(null==R||null===(t=R.props)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.label),Icon:n.createElement(a.ComplaintIcon,null),onClick:()=>{var e,t;return w.push(null==R||null===(e=R.props)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.navigationUrl)}},{name:S(null==R||null===(i=R.props)||void 0===i||null===(u=i[1])||void 0===u?void 0:u.label),Icon:n.createElement(a.PTIcon,{className:"fill-path-primary-main"}),onClick:()=>{var e,t;return w.push(null==R||null===(e=R.props)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.navigationUrl)}},{name:S(null==R||null===(s=R.props)||void 0===s||null===(c=s[2])||void 0===c?void 0:c.label),Icon:n.createElement(a.CaseIcon,{className:"fill-path-primary-main"}),onClick:()=>{var e,t;return w.push(null==R||null===(e=R.props)||void 0===e||null===(t=e[2])||void 0===t?void 0:t.navigationUrl)}},{name:S(null==R||null===(d=R.props)||void 0===d||null===(f=d[3])||void 0===f?void 0:f.label),Icon:n.createElement(a.WSICon,null),onClick:()=>{var e,t;return w.push(null==R||null===(e=R.props)||void 0===e||null===(t=e[3])||void 0===t?void 0:t.navigationUrl)}}],styles:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",width:"100%"}},U={header:S(null==M?void 0:M.headerLabel),sideOption:{name:S(null==M||null===(m=M.sideOption)||void 0===m?void 0:m.name),onClick:()=>{var e;return w.push(null==M||null===(e=M.sideOption)||void 0===e?void 0:e.navigationUrl)}},options:[{name:S(null==M||null===(p=M.props)||void 0===p||null===(v=p[0])||void 0===v?void 0:v.label),Icon:n.createElement(a.HomeIcon,null),onClick:()=>{var e,t;return w.push(null==M||null===(e=M.props)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.navigationUrl)}},{name:S(null==M||null===(g=M.props)||void 0===g||null===(h=g[1])||void 0===h?void 0:h.label),Icon:n.createElement(a.Calender,null),onClick:()=>{var e,t;return w.push(null==M||null===(e=M.props)||void 0===e||null===(t=e[1])||void 0===t?void 0:t.navigationUrl)}},{name:S(null==M||null===(E=M.props)||void 0===E||null===(y=E[2])||void 0===y?void 0:y.label),Icon:n.createElement(a.DocumentIcon,null),onClick:()=>{var e,t;return w.push(null==M||null===(e=M.props)||void 0===e||null===(t=e[2])||void 0===t?void 0:t.navigationUrl)}},{name:S(null==M||null===(_=M.props)||void 0===_||null===(b=_[3])||void 0===b?void 0:b.label),Icon:n.createElement(a.DocumentIcon,null),onClick:()=>{var e,t;return w.push(null==M||null===(e=M.props)||void 0===e||null===(t=e[3])||void 0===t?void 0:t.navigationUrl)}}],styles:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",width:"100%"}};return I?n.createElement(a.Loader,null):n.createElement("div",{className:"HomePageContainer",style:{width:"100%"}},n.createElement("div",{className:"HomePageWrapper"},n.createElement("div",{className:"BannerWithSearch"},n.createElement("img",D?{src:"https://nugp-assets.s3.ap-south-1.amazonaws.com/nugp+asset/Banner+UPYOG+%281920x500%29B+%282%29.jpg"}:{src:"https://velocity-upyog-assets.s3.ap-south-1.amazonaws.com/upyog-banner.png"}),n.createElement("div",{className:"ServicesSection"},n.createElement(a.CardBasedOptions,x({style:{marginTop:"-30px"}},k)),n.createElement(a.CardBasedOptions,x({style:{marginTop:"-30px"}},U)))),T()?L?n.createElement(a.Loader,null):n.createElement("div",{className:"WhatsNewSection"},n.createElement("div",{className:"headSection"},n.createElement("h2",null,S(null==P?void 0:P.headerLabel)),n.createElement("p",{onClick:()=>{var e;return w.push(null==P||null===(e=P.sideOption)||void 0===e?void 0:e.navigationUrl)}},S(null==P||null===(C=P.sideOption)||void 0===C?void 0:C.name))),n.createElement(a.WhatsNewCard,null==A?void 0:A[0])):null))},ct=()=>{const{t:e}=l.useTranslation(),r=o.useHistory(),{data:{languages:i,stateInfo:u}={},isLoading:s}=Digit.Hooks.useStore.getInitData(),c=Digit.StoreData.getCurrentLanguage(),d=t.useMemo(()=>({header:e("CS_COMMON_CHOOSE_LANGUAGE"),submitBarLabel:e("CORE_COMMON_CONTINUE")}),[e]),f=t.useMemo(()=>({options:i,optionsKey:"label",additionalWrapperClass:"reverse-radio-selection-wrapper",onSelect:e=>Digit.LocalizationService.changeLanguage(e.value,u.code),selectedOption:null==i?void 0:i.filter(e=>e.value===c)[0]}),[c,i]);return s?n.createElement(a.Loader,null):n.createElement("div",{className:"selection-card-wrapper"},n.createElement(a.PageBasedInput,{texts:d,onSubmit:function(){r.push("/digit-ui/citizen/select-location")}},n.createElement(a.CardHeader,null,e("CS_COMMON_CHOOSE_LANGUAGE")),n.createElement(a.RadioButtons,f)))},dt=()=>{const{t:e}=l.useTranslation(),r=o.useHistory(),i=o.useLocation(),{data:u,isLoading:s}=Digit.Hooks.useTenants(),[c,d]=t.useState(()=>({code:Digit.ULBService.getCitizenCurrentTenant(!0)})),[f,m]=t.useState(!1),p=t.useMemo(()=>({header:e("CS_COMMON_CHOOSE_LOCATION"),submitBarLabel:e("CORE_COMMON_CONTINUE")}),[e]);function v(e){d(e),m(!1)}const g=t.useMemo(()=>({options:u,optionsKey:"i18nKey",additionalWrapperClass:"reverse-radio-selection-wrapper",onSelect:v,selectedOption:c}),[u,e,c]);return s?n.createElement("loader",null):n.createElement("div",{className:"selection-card-wrapper"},n.createElement(a.BackButton,null),n.createElement(a.PageBasedInput,{texts:p,onSubmit:function(){if(c){var e;Digit.SessionStorage.set("CITIZEN.COMMON.HOME.CITY",c);const t=null===(e=i.state)||void 0===e?void 0:e.redirectBackTo;t?r.replace(t):r.push("/digit-ui/citizen")}else m(!0)},className:"location-selection-container"},n.createElement(a.CardHeader,null,e("CS_COMMON_CHOOSE_LOCATION")),n.createElement(a.SearchOnRadioButtons,x({},g,{placeholder:e("COMMON_TABLE_SEARCH")})),f?n.createElement(a.CardLabelError,null,e("CS_COMMON_LOCATION_SELECTION_ERROR")):null))},ft=e=>{const{question:r,answer:i,subAnswer:o,lastIndex:u}=e,[s,c]=t.useState(!1),{t:d}=l.useTranslation();return window.Digit.Utils.browser.isMobile(),n.createElement("div",{className:"faqs border-none",onClick:()=>c(!s)},n.createElement("div",{className:"faq-question",style:{justifyContent:d(r).length>30&&s?"revert":"space-between",display:Digit.Utils.browser.isMobile()&&d(r).length>30&&s?"block":"flex"}},n.createElement("span",null,d(r)),n.createElement("span",{className:s?"faqicon rotate":"faqicon",style:{float:"right"}},n.createElement(a.ArrowForward,null))),n.createElement("div",{className:"faq-answer",style:s?{display:"block"}:{display:"none"}},n.createElement("span",null,d(i)+d(o))),u?null:n.createElement("div",{className:"cs-box-border"}))},mt=e=>{var r,i,o;let{module:u}=e;const s=Digit.UserService.getUser(),{t:c}=((null==s||null===(r=s.info)||void 0===r?void 0:r.tenantId)||Digit.ULBService.getCurrentTenantId(),l.useTranslation()),{isLoading:d,data:f}=Digit.Hooks.useGetFAQsJSON(Digit.ULBService.getStateId()),m=null==f||null===(i=f.MdmsRes["common-masters"])||void 0===i||null===(o=i.faqs[0])||void 0===o?void 0:o[""+u].faqs;return d?n.createElement(a.Loader,null):n.createElement(t.Fragment,null,n.createElement("div",{className:"faq-page"},n.createElement(a.BackButton,{style:{marginLeft:"unset"}}),n.createElement("div",{style:{marginBottom:"15px"}},n.createElement(a.Header,{styles:{marginLeft:"0px",paddingTop:"10px",fontSize:"32px"}},c("FAQ_S"))),n.createElement("div",{className:"faq-list"},m.map((e,t)=>n.createElement(ft,{key:"faq_"+t,question:e.question,answer:e.answer,subAnswer:e.subAnswer?e.subAnswer:"",lastIndex:t===(null==m?void 0:m.length)-1})))))},pt=e=>{var r,i,o;let{module:u}=e;const s=window.Digit.Utils.browser.isMobile(),c=Digit.UserService.getUser(),{t:d}=((null==c||null===(r=c.info)||void 0===r?void 0:r.tenantId)||Digit.ULBService.getCurrentTenantId(),l.useTranslation()),f=Digit.SessionStorage.get("initData").stateInfo,m=Digit.StoreData.getCurrentLanguage(),[p,v]=t.useState(m),[g,h]=t.useState(!1),[E,y]=t.useState(""),_=()=>n.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M12 24C5.38053 24 0 18.6143 0 12C0 5.38054 5.38053 1.90735e-06 12 1.90735e-06C18.6143 1.90735e-06 24 5.38054 24 12C24 18.6143 18.6143 24 12 24ZM16.3488 10.7852L11.3855 7.25251C11.1263 7.0701 10.8238 6.97889 10.5214 6.97889C10.291 6.97889 10.0557 7.03172 9.83976 7.14202C9.34054 7.40118 9.02857 7.91006 9.02857 8.46694L9.02877 15.5323C9.02877 16.0892 9.34076 16.5979 9.83996 16.8572C10.3344 17.1116 10.9296 17.0732 11.3857 16.7467L16.349 13.214C16.7426 12.9356 16.9778 12.4795 16.9778 11.9996C16.9776 11.5197 16.7426 11.0636 16.3489 10.7852L16.3488 10.7852Z",fill:"white"}));function b(e){let{onClick:t}=e;return n.createElement("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",onClick:t},n.createElement("path",{d:"M14 1.41L12.59 0L7 5.59L1.41 0L0 1.41L5.59 7L0 12.59L1.41 14L7 8.41L12.59 14L14 12.59L8.41 7L14 1.41Z",fill:"white"}))}const{isLoading:C,data:S}=Digit.Hooks.useGetHowItWorksJSON(Digit.ULBService.getStateId()),w=null==S||null===(i=S.MdmsRes["common-masters"])||void 0===i||null===(o=i.howItWorks[0])||void 0===o?void 0:o[""+u];return C?n.createElement(a.Loader,null):n.createElement(t.Fragment,null,n.createElement("div",{className:"how-it-works-page"},n.createElement("div",{style:{marginLeft:"-10px"}},n.createElement(a.BackButton,null)),n.createElement("div",{className:"how-it-works-page-header"},n.createElement("div",{style:{marginLeft:s?"-15px":""}},n.createElement(a.Header,null,d("HOW_IT_WORKS")))),n.createElement("div",{className:"language-selector",style:{marginBottom:"10px"}},[{label:"ENGLISH",value:"en_IN"},{label:"हिंदी",value:"hi_IN"}].map((e,t)=>n.createElement("div",{className:"language-button-container",key:t},n.createElement(a.CustomButton,{selected:e.value===p,text:e.label,onClick:()=>(e=>{v(e.value),Digit.LocalizationService.changeLanguage(e.value,f.code)})(e)})))),w.videosJson.map((e,t)=>n.createElement("div",null,n.createElement("div",{className:"WhatsNewCard",style:{float:"left",position:"relative",width:"100%",marginBottom:10}},n.createElement("div",{className:"video-icon",onClick:()=>{return t=e,y("hi_IN"===p?t.hi_IN:t.en_IN),void h(!0);var t}},n.createElement("div",{className:"vid-svg"},n.createElement(_,null))),n.createElement("div",{className:"how-it-works-header-description"},n.createElement("h2",null,d(e.headerLabel)),n.createElement("p",null,d(e.description)))))),n.createElement("div",{className:"WhatsNewCard",style:{position:"relative",width:"100%",marginBottom:10,display:"inline-block"}},n.createElement("div",{className:"how-it-works-pdf-section"},n.createElement("div",{className:"pdf-icon-header-desc"},n.createElement("div",{className:"pdf-icon"},n.createElement(a.PDFSvg,null)),n.createElement("div",{className:"pdf-header-desc"},n.createElement("h2",null,d(w.pdfHeader)),n.createElement("p",null,d(w.pdfDesc)))),n.createElement("div",{className:"download-icon"},n.createElement(a.DownloadImgIcon,null)))),g&&n.createElement("div",{className:"how-it-works-video-play"},n.createElement("div",{className:"close-button",style:{position:"absolute",right:"15px",top:"10%",zIndex:"1"}},n.createElement(b,{onClick:()=>{h(!1)}})),n.createElement("video",{width:500,height:500,controls:!0,autoPlay:!0,muted:!0,style:{position:"fixed",top:"0",left:"0",minWidth:"100%",minHeight:"100%",backgroundColor:"rgba(0,0,0,0.5)"}},n.createElement("source",{src:E,type:"video/mp4"})))))},vt=e=>{var t,r,i,o,u,s,c,d,f,m,p,v,g,h,E,y;let{moduleCode:_}=e;const{t:b}=l.useTranslation(),C=Digit.ULBService.getCitizenCurrentTenant(),{isLoading:S,data:w}=Digit.Hooks.useStaticData(Digit.ULBService.getStateId()),{isLoading:O,error:N,data:I}=Digit.Hooks.useDynamicData({moduleCode:_,tenantId:C,filters:{},t:b}),D=window.Digit.Utils.browser.isMobile();window.location.href.includes("tl")&&window.Digit.SessionStorage.get("TL_CREATE_TRADE")&&window.Digit.SessionStorage.set("TL_CREATE_TRADE",{});const T=e=>{let{module:t,styles:r}=e;switch(t){case"TL":return n.createElement(a.CaseIcon,{className:"fill-path-primary-main",styles:r});case"PT":return n.createElement(a.PTIcon,{className:"fill-path-primary-main",styles:r});case"MCOLLECT":return n.createElement(a.MCollectIcon,{className:"fill-path-primary-main",styles:r});case"PGR":return n.createElement(a.PTIcon,{className:"fill-path-primary-main",styles:r});case"WS":return n.createElement(a.WSICon,{className:"fill-path-primary-main",styles:r});case"OBPS":return n.createElement(a.BPAHomeIcon,{className:"fill-path-primary-main",styles:r});default:return n.createElement(a.CaseIcon,{className:"fill-path-primary-main",styles:r})}},x=null==w||null===(t=w.MdmsRes["common-masters"])||void 0===t||null===(r=t.StaticData[0])||void 0===r?void 0:r[""+_],A=e=>{let{module:t}=e;switch(t){case"PT":case"WS":return n.createElement("span",{className:"timerIcon"},n.createElement(a.TimerIcon,null));default:return null}},L=e=>{let{module:t}=e;switch(t){case"PT":return n.createElement("span",{className:"rupeeSymbol"},n.createElement(a.RupeeSymbol,null));case"WS":return n.createElement("span",{className:"timerIcon"},n.createElement(a.TimerIcon,null));default:return null}},R=e=>{switch(e){case"TL":return{staticCommonContent:b("TL_VALIDITY")};case"MCOLLECT":return{staticCommonContent:b("CHALLAN_VALIDITY")};case"PGR":return{staticCommonContent:b("CATEGORIES_OF_COMPLAINT_TYPES_CAN_BE_SUBMITTED_ON_GRIEVANCE_PORTAL")};case"OBPS":return{staticCommonContent:b("BUILDING_PLAN_PERMIT_VALIDITY"),validity:(null==x?void 0:x.validity)+" "+b("1"===(null==x?void 0:x.validity)?"COMMON_DAY":"COMMON_DAYS")};default:return{staticCommonContent:""}}},M=e=>{switch(e){case"PT":return{staticDataOne:(null==x?void 0:x.staticDataOne)+" "+b("COMMON_DAYS"),staticDataOneHeader:b("APPLICATION_PROCESSING_TIME"),staticDataTwo:null==x?void 0:x.staticDataTwo,staticDataTwoHeader:b("APPLICATION_PROCESSING_FEE")};case"WS":return{staticDataOne:"",staticDataOneHeader:b("PAY_WATER_CHARGES_BY")+" "+(null==x?void 0:x.staticDataOne)+" "+b("COMMON_DAYS")+" "+b("OF_BILL_GEN_TO_AVOID_LATE_FEE"),staticDataTwo:(null==x?void 0:x.staticDataTwo)+" "+b("COMMON_DAYS"),staticDataTwoHeader:b("APPLICATION_PROCESSING_TIME")};default:return{}}};return S||O?n.createElement(a.Loader,null):x?n.createElement(n.Fragment,null,x&&null!=x&&x.payViaWhatsApp?n.createElement(a.Card,{style:{margin:"16px",padding:"16px",maxWidth:"unset"}},n.createElement("div",{className:"pay-whatsapp-card",onClick:()=>{window.open(null==x?void 0:x.payViaWhatsApp)}},n.createElement("div",{className:"pay-whatsapp-text"},b("PAY_VIA_WHATSAPP")),n.createElement("div",{className:"whatsAppIconG"},n.createElement(a.WhatsappIconGreen,null)))):null,x&&null!=x&&x.helpline?n.createElement(a.Card,{style:{margin:"16px",padding:"16px",maxWidth:"unset"}},n.createElement("div",{className:"static-home-Card"},n.createElement("div",{className:"static-home-Card-header"},b("CALL_CENTER_HELPLINE")),n.createElement("div",{className:"helplineIcon"},n.createElement(a.HelpLineIcon,null))),n.createElement("div",{className:"call-center-card-text"},null!=x&&null!==(i=x.helpline)&&void 0!==i&&i.contactOne?n.createElement("div",{className:"call-center-card-content"},n.createElement("a",{href:"tel:"+(null==x||null===(o=x.helpline)||void 0===o?void 0:o.contactOne)},null==x||null===(u=x.helpline)||void 0===u?void 0:u.contactOne)):null,null!=x&&null!==(s=x.helpline)&&void 0!==s&&s.contactTwo?n.createElement("div",{className:"call-center-card-content"},n.createElement("a",{href:"tel:"+(null==x||null===(c=x.helpline)||void 0===c?void 0:c.contactTwo)},null==x||null===(d=x.helpline)||void 0===d?void 0:d.contactTwo)):null)):null,x&&null!=x&&x.serviceCenter?n.createElement(a.Card,{style:{margin:"16px",padding:"16px",maxWidth:"unset"}},n.createElement("div",{className:"static-home-Card"},n.createElement("div",{className:"static-home-Card-header"},b("CITIZEN_SERVICE_CENTER")),n.createElement("div",{className:"serviceCentrIcon"},n.createElement(a.ServiceCenterIcon,null))),n.createElement("div",{className:"service-center-details-card"},n.createElement("div",{className:"service-center-details-text"},null==x?void 0:x.serviceCenter)),null!=x&&x.viewMapLocation?n.createElement("div",{className:"link"},n.createElement("a",{href:null==x?void 0:x.viewMapLocation},b("VIEW_ON_MAP"))):null):n.createElement("div",null),n.createElement(a.Card,{style:{margin:"16px",padding:"16px",maxWidth:"unset"}},N||null==I||null===(null==I?void 0:I.dynamicDataOne)?n.createElement("div",null):n.createElement("div",{className:"dynamicDataCard",style:D?{maxHeight:"fit-content"}:{}},n.createElement("div",{className:"dynamicData"},n.createElement("span",{style:{paddingTop:"2px"}},n.createElement(T,{module:_,styles:{width:"18px",height:"24px"}})),n.createElement("span",{className:"dynamicData-content"},null==I?void 0:I.dynamicDataOne))),N||null==I||null===(null==I?void 0:I.dynamicDataTwo)?n.createElement("div",null):n.createElement("div",{className:"dynamicDataCard",style:D?{maxHeight:"fit-content"}:{}},n.createElement("div",{className:"dynamicData"},n.createElement("span",{style:{paddingTop:"2px"}},n.createElement(T,{module:_,styles:{width:"18px",height:"24px"}})),n.createElement("span",{className:"dynamicData-content"},null==I?void 0:I.dynamicDataTwo))),x&&null!=x&&x.staticDataOne?n.createElement("div",{className:"staticDataCard"},n.createElement("div",{className:"staticData"},n.createElement(A,{module:_}),n.createElement("span",{className:"static-data-content"},n.createElement("span",{className:"static-data-content-first",style:{marginTop:""===(null===(f=M(_))||void 0===f?void 0:f.staticDataOne)?"8px":"unset"}},null===(m=M(_))||void 0===m?void 0:m.staticDataOneHeader),n.createElement("span",{className:"static-data-content-second"},""+(null===(p=M(_))||void 0===p?void 0:p.staticDataOne))))):n.createElement("div",null),x&&null!=x&&x.staticDataTwo?n.createElement("div",{className:"staticDataCard"},n.createElement("div",{className:"staticData"},n.createElement(L,{module:_}),n.createElement("span",{className:"static-data-content"},n.createElement("span",{className:"static-data-content-first"},null===(v=M(_))||void 0===v?void 0:v.staticDataTwoHeader),n.createElement("span",{className:"static-data-content-second"},null===(g=M(_))||void 0===g?void 0:g.staticDataTwo)))):n.createElement("div",null),x&&null!=x&&x.validity?n.createElement("div",{className:"staticDataCard"},n.createElement("div",{className:"staticData"},n.createElement("span",{className:"validityIcon"},n.createElement(a.ValidityTimeIcon,null)),n.createElement("span",{className:"static-data-content"},n.createElement("span",{className:"static-data-content-first"},null===(h=R(_))||void 0===h?void 0:h.staticCommonContent),n.createElement("span",{className:"static-data-content-second"},null===(E=R(_))||void 0===E?void 0:E.validity)))):n.createElement("div",null),N||null==I||null==I||!I.staticData||null===(null==I?void 0:I.staticData)?n.createElement("div",null):n.createElement("div",{className:"staticDataCard"},n.createElement("div",{className:"staticData"},"PGR"===_?n.createElement("span",{style:{paddingTop:"15px"}},n.createElement(a.TimerIcon,{module:_,styles:{width:"18px",height:"24px",marginLeft:"13px"}})):n.createElement("span",{className:"validityIcon"},n.createElement(a.ValidityTimeIcon,null)),n.createElement("span",{className:"static-data-content"},n.createElement("span",{className:"static-data-content-first"},null===(y=R(_))||void 0===y?void 0:y.staticCommonContent),n.createElement("span",{className:"static-data-content-second"},null==I?void 0:I.staticData)))))):n.createElement(n.Fragment,null)},gt=e=>{const{t:t}=l.useTranslation();return t(null!=e&&e.isSuccess?"CS_PROPERTY_FEEDBACK_SUCCESS":"CS_PROPERTY_FEEDBACK_FAILED")},ht=e=>n.createElement(a.Banner,{message:gt(e),applicationNumber:"",style:e.isMobile?{width:"unset"}:{width:"740px"},successful:null==e?void 0:e.isSuccess}),Et=e=>{var t,r,i,u,s,c,d,f,m;const{t:p}=l.useTranslation(),v=(Digit.ULBService.getCurrentTenantId(),o.useLocation()),g=(Digit.Hooks.useStore.getInitData(),window.Digit.Utils.browser.isMobile());return n.createElement("form",null,n.createElement(a.Card,{style:g?{padding:"unset"}:{}},n.createElement(ht,{t:p,data:v.state,isSuccess:!(null===(t=v.state)||void 0===t||null===(r=t.result)||void 0===r||null===(i=r.Service)||void 0===i||!i[0]),isMobile:g,isLoading:!1}),(null===(u=v.state)||void 0===u||null===(s=u.result)||void 0===s||null===(c=s.Service)||void 0===c?void 0:c[0])&&n.createElement(a.CardText,{style:{padding:"0px 10px 0px 10px"}},p("CS_CF_FEEDBACK_RESPONSE")),!(null!==(d=v.state)&&void 0!==d&&null!==(f=d.result)&&void 0!==f&&null!==(m=f.Service)&&void 0!==m&&m[0])&&n.createElement(a.CardText,null,p("CS_FILE_PROPERTY_FAILED_RESPONSE")),n.createElement("div",{style:{padding:"0px 10px 20px 10px"}},n.createElement(o.Link,{to:"/digit-ui/citizen"},n.createElement(a.SubmitBar,{label:p("CS_COMMON_GO_BACK_TO_HOME")})))))};var yt=e=>e instanceof HTMLElement;const _t={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"};var bt=e=>null==e;const Ct=e=>"object"==typeof e;var St=e=>!bt(e)&&!Array.isArray(e)&&Ct(e)&&!(e instanceof Date),wt=e=>/^\w*$/.test(e),Ot=e=>e.filter(Boolean),Nt=e=>Ot(e.replace(/["|']/g,"").replace(/\[/g,".").replace(/\]/g,"").split("."));function It(e,t,n){let r=-1;const i=wt(t)?[t]:Nt(t),o=i.length,l=o-1;for(;++r<o;){const t=i[r];let o=n;if(r!==l){const n=e[t];o=St(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=o,e=e[t]}return e}var Dt=function(e,t){void 0===t&&(t={});for(const n in e)wt(n)?t[n]=e[n]:It(t,n,e[n]);return t},Tt=e=>void 0===e,xt=function(e,t,n){void 0===e&&(e={});const r=Ot(t.split(/[,[\].]+?/)).reduce((e,t)=>bt(e)?e:e[t],e);return Tt(r)||r===e?Tt(e[t])?n:e[t]:r},At=(e,t)=>{yt(e)&&e.removeEventListener&&(e.removeEventListener("input",t),e.removeEventListener("change",t),e.removeEventListener("blur",t))};const Lt={isValid:!1,value:null};var Rt=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.ref.checked?{isValid:!0,value:t.ref.value}:e,Lt):Lt,Mt=e=>"radio"===e.type,Pt=e=>"file"===e.type,kt=e=>"checkbox"===e.type,Ut=e=>"select-multiple"===e.type;const Bt={value:!1,isValid:!1},jt={value:!0,isValid:!0};var Ft=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.ref.checked).map(e=>{let{ref:{value:t}}=e;return t});return{value:t,isValid:!!t.length}}const{checked:t,value:n,attributes:r}=e[0].ref;return t?r&&!Tt(r.value)?Tt(n)||""===n?jt:{value:n,isValid:!0}:jt:Bt}return Bt};function zt(e,t,n,r,i){const o=e.current[t];if(o){const{ref:{value:e,disabled:t},ref:n,valueAsNumber:a,valueAsDate:u,setValueAs:s}=o;if(t&&r)return;return Pt(n)?n.files:Mt(n)?Rt(o.options).value:Ut(n)?(l=n.options,[...l].filter(e=>{let{selected:t}=e;return t}).map(e=>{let{value:t}=e;return t})):kt(n)?Ft(o.options).value:i?e:a?""===e?NaN:+e:u?n.valueAsDate:s?s(e):e}var l;if(n)return xt(n.current,t)}function Wt(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&Wt(e.parentNode)}var Vt=e=>St(e)&&!Object.keys(e).length,Ht=e=>"boolean"==typeof e;function Gt(e,t){const n=wt(t)?[t]:Nt(t),r=1==n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Tt(e)?r++:e[t[r++]];return e}(e,n);let i;r&&delete r[n[n.length-1]];for(let t=0;t<n.slice(0,-1).length;t++){let r,o=-1;const l=n.slice(0,-(t+1)),a=l.length-1;for(t>0&&(i=e);++o<l.length;){const t=l[o];r=r?r[t]:e[t],a===o&&(St(r)&&Vt(r)||Array.isArray(r)&&!r.filter(e=>St(e)&&!Vt(e)||Ht(e)).length)&&(i?delete i[t]:delete e[t]),i=r}}return e}const qt=(e,t)=>e&&e.ref===t;var Zt=e=>bt(e)||!Ct(e);function Xt(e,t){if(Zt(e)||Zt(t))return t;for(const n in t){const r=e[n],i=t[n];try{e[n]=St(r)&&St(i)||Array.isArray(r)&&Array.isArray(i)?Xt(r,i):i}catch(e){}}return e}function Yt(e,n,r){if(Zt(e)||Zt(n)||e instanceof Date||n instanceof Date)return e===n;if(!t.isValidElement(e)){const t=Object.keys(e),i=Object.keys(n);if(t.length!==i.length)return!1;for(const i of t){const t=e[i];if(!r||"ref"!==i){const e=n[i];if((St(t)||Array.isArray(t))&&(St(e)||Array.isArray(e))?!Yt(t,e,r):t!==e)return!1}}}return!0}function Kt(e,t,n,r,i){let o=-1;for(;++o<e.length;){for(const r in e[o])Array.isArray(e[o][r])?(!n[o]&&(n[o]={}),n[o][r]=[],Kt(e[o][r],xt(t[o]||{},r,[]),n[o][r],n[o],r)):Yt(xt(t[o]||{},r),e[o][r])?It(n[o]||{},r):n[o]=Object.assign(Object.assign({},n[o]),{[r]:!0});r&&!n.length&&delete r[i]}return n}var Jt=e=>"string"==typeof e,$t=(e,t,n,r,i)=>{const o={};for(const t in e.current)(Tt(i)||(Jt(i)?t.startsWith(i):Array.isArray(i)&&i.find(e=>t.startsWith(e))))&&(o[t]=zt(e,t,void 0,r));return n?Dt(o):Xt(t,Dt(o))},Qt=e=>e instanceof RegExp,en=e=>St(e)&&!Qt(e)?e:{value:e,message:""},tn=e=>"function"==typeof e,nn=e=>Jt(e)||t.isValidElement(e);function rn(e,t,n){if(void 0===n&&(n="validate"),nn(e)||Ht(e)&&!e)return{type:n,message:nn(e)?e:"",ref:t}}var on=(e,t,n,r,i)=>t?Object.assign(Object.assign({},n[e]),{types:Object.assign(Object.assign({},n[e]&&n[e].types?n[e].types:{}),{[r]:i||!0})}):{},ln=function(e,t,n,r){let{ref:i,ref:{value:o},options:l,required:a,maxLength:u,minLength:s,min:c,max:d,pattern:f,validate:m}=n;try{let n=!1;const p=i.name,v={},g=Mt(i),h=kt(i),E=g||h,_=""===o,b=on.bind(null,p,t,v),C=function(e,t,n,r,o){void 0===r&&(r="maxLength"),void 0===o&&(o="minLength");const l=e?t:n;v[p]=Object.assign({type:e?r:o,message:l,ref:i},b(e?r:o,l))};if(a&&(!g&&!h&&(_||bt(o))||Ht(o)&&!o||h&&!Ft(l).isValid||g&&!Rt(l).isValid)){const{value:n,message:r}=nn(a)?{value:!!a,message:a}:en(a);if(n&&(v[p]=Object.assign({type:"required",message:r,ref:E?((e.current[p].options||[])[0]||{}).ref:i},b("required",r)),!t))return Promise.resolve(v)}if(!(bt(c)&&bt(d)||""===o)){let e,n;const r=en(d),l=en(c);if(isNaN(o)){const t=i.valueAsDate||new Date(o);Jt(r.value)&&(e=t>new Date(r.value)),Jt(l.value)&&(n=t<new Date(l.value))}else{const t=i.valueAsNumber||parseFloat(o);bt(r.value)||(e=t>r.value),bt(l.value)||(n=t<l.value)}if((e||n)&&(C(!!e,r.message,l.message,"max","min"),!t))return Promise.resolve(v)}if(Jt(o)&&!_&&(u||s)){const e=en(u),n=en(s),r=!bt(e.value)&&o.length>e.value,i=!bt(n.value)&&o.length<n.value;if((r||i)&&(C(r,e.message,n.message),!t))return Promise.resolve(v)}if(Jt(o)&&f&&!_){const{value:e,message:n}=en(f);if(Qt(e)&&!e.test(o)&&(v[p]=Object.assign({type:"pattern",message:n,ref:i},b("pattern",n)),!t))return Promise.resolve(v)}const S=function(){if(m){const o=zt(e,p,r,!1,!0),a=E&&l?l[0].ref:i;return tn(m)?Promise.resolve(m(o)).then(function(e){const r=rn(e,a);if(r&&(v[p]=Object.assign(Object.assign({},r),b("validate",r.message)),!t))return n=!0,v}):function(){if(St(m)){let r=!1;function e(){if(!Vt(i)&&(v[p]=Object.assign({ref:a},i),!t))return n=!0,v}let i={};const l=y(Object.entries(m),function(e){let[n,l]=e;if(Vt(i)||t)return Promise.resolve(l(o)).then(function(e){const r=rn(e,a,n);r&&(i=Object.assign(Object.assign({},r),b(n,r.message)),t&&(v[p]=i))});r=!0},function(){return r});return l&&l.then?l.then(e):e()}}()}}();return Promise.resolve(S&&S.then?S.then(function(e){return n?e:v}):n?S:v)}catch(e){return Promise.reject(e)}};const an=function(e,t,n){void 0===n&&(n=[]);for(const r in t){const i=e+(St(t)?"."+r:"["+r+"]");Zt(t[r])?n.push(i):an(i,t[r],n)}return n};var un=(e,t,n,r,i)=>{let o=void 0;return n.add(t),Vt(e)||(o=xt(e,t),(St(o)||Array.isArray(o))&&an(t,o).forEach(e=>n.add(e))),Tt(o)?i?r:xt(r,t):o},sn=e=>{let{isOnBlur:t,isOnChange:n,isOnTouch:r,isTouched:i,isReValidateOnBlur:o,isReValidateOnChange:l,isBlurEvent:a,isSubmitted:u,isOnAll:s}=e;return!s&&(!u&&r?!(i||a):(u?o:t)?!a:!(u?l:n)||a)},cn=e=>e.substring(0,e.indexOf("[")),dn=(e,t)=>[...e].some(e=>((e,t)=>RegExp(("^"+t+"([|.)\\d+").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e))(t,e)),fn="undefined"!=typeof window&&"undefined"!=typeof document;function mn(e){var t;let n;if(Zt(e)||fn&&(e instanceof File||yt(e)))return e;if(!["Set","Map","Object","Date","Array"].includes(null===(t=e.constructor)||void 0===t?void 0:t.name))return e;if(e instanceof Date)return n=new Date(e.getTime()),n;if(e instanceof Set){n=new Set;for(const t of e)n.add(t);return n}if(e instanceof Map){n=new Map;for(const t of e.keys())n.set(t,mn(e.get(t)));return n}n=Array.isArray(e)?[]:{};for(const t in e)n[t]=mn(e[t]);return n}var pn=e=>({isOnSubmit:!e||e===_t.onSubmit,isOnBlur:e===_t.onBlur,isOnChange:e===_t.onChange,isOnAll:e===_t.all,isOnTouch:e===_t.onTouched}),vn=e=>Mt(e)||kt(e);const gn="undefined"==typeof window,hn=fn?"Proxy"in window:"undefined"!=typeof Proxy,En=t.createContext(null);En.displayName="RHFContext";const yn=e=>{const{as:n,render:r}=e,i=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["rules","as","render","defaultValue","control","onFocus"]),{field:o,meta:l}=function(e){let{name:n,rules:r,defaultValue:i,control:o,onFocus:l}=e;const a=t.useContext(En);if("production"!==process.env.NODE_ENV&&!o&&!a)throw new Error("📋 Controller is missing `control` prop. https://react-hook-form.com/api#Controller");const{defaultValuesRef:u,setValue:s,register:c,unregister:d,trigger:f,mode:m,reValidateMode:{isReValidateOnBlur:p,isReValidateOnChange:v},formState:g,formStateRef:{current:{isSubmitted:h,touched:E,errors:y}},updateFormState:_,readFormStateRef:b,fieldsRef:C,fieldArrayNamesRef:S,shallowFieldsStateRef:w}=o||a.control,O=!dn(S.current,n),N=()=>!Tt(xt(w.current,n))&&O?xt(w.current,n):Tt(i)?xt(u.current,n):i,[I,D]=t.useState(N()),T=t.useRef(I),x=t.useRef({focus:()=>null}),A=t.useRef(l||(()=>{tn(x.current.focus)&&x.current.focus(),"production"!==process.env.NODE_ENV&&(tn(x.current.focus)||console.warn("📋 'ref' from Controller render prop must be attached to a React component or a DOM Element whose ref provides a 'focus()' method"))})),L=t.useCallback(e=>!sn(Object.assign({isBlurEvent:e,isReValidateOnBlur:p,isReValidateOnChange:v,isSubmitted:h,isTouched:!!xt(E,n)},m)),[p,v,h,E,n,m]),R=t.useCallback(e=>{let[t]=e;const n=(e=>Zt(e)||!St(e.target)||St(e.target)&&!e.type?e:Tt(e.target.value)?e.target.checked:e.target.value)(t);return D(n),T.current=n,n},[]),M=t.useCallback(e=>{if("production"!==process.env.NODE_ENV&&!n)return console.warn("📋 Field is missing `name` prop. https://react-hook-form.com/api#Controller");C.current[n]?C.current[n]=Object.assign({ref:C.current[n].ref},r):(c(Object.defineProperties({name:n,focus:A.current},{value:{set(e){D(e),T.current=e},get:()=>T.current}}),r),e=Tt(xt(u.current,n))),e&&O&&D(N())},[r,n,c]);t.useEffect(()=>()=>d(n),[n]),t.useEffect(()=>{"production"!==process.env.NODE_ENV&&(Tt(I)&&console.warn("📋 "+n+" is missing in the 'defaultValue' prop of either its Controller (https://react-hook-form.com/api#Controller) or useForm (https://react-hook-form.com/api#useForm)"),!O&&Tt(i)&&console.warn("📋 Controller is missing `defaultValue` prop when using `useFieldArray`. https://react-hook-form.com/api#Controller")),M()},[M]),t.useEffect(()=>{!C.current[n]&&M(!0)});const P=t.useCallback(()=>{b.current.touched&&!xt(E,n)&&(It(E,n,!0),_({touched:E})),L(!0)&&f(n)},[n,_,L,f,b]);return{field:{onChange:t.useCallback(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return s(n,R(t),{shouldValidate:L(),shouldDirty:!0})},[s,n,L]),onBlur:P,name:n,value:I,ref:x},meta:Object.defineProperties({invalid:!!xt(y,n)},{isDirty:{get:()=>!!xt(g.dirtyFields,n)},isTouched:{get:()=>!!xt(g.touched,n)}})}}(e),a=Object.assign(Object.assign({},i),o);return n?t.isValidElement(n)?t.cloneElement(n,a):t.createElement(n,a):r?r(o,l):null},_n=e=>{var r,i,u,s;let{popup:c=!1,onClose:d,setShowToast:f,data:m}=e;const{t:p}=l.useTranslation(),v=o.useHistory(),g=Digit.UserService.getUser();let{redirectedFrom:h,propertyId:E,acknowldgementNumber:y,creationReason:_,tenantId:b,locality:C}=Digit.Hooks.useQueryParams();const S=window.Digit.Utils.browser.isMobile();b=b||Digit.ULBService.getCurrentTenantId();const w=Digit.ULBService.getStateId(),{data:O,isLoading:N}=Digit.Hooks.pt.useRatingAndFeedbackMDMS.RatingAndFeedBack(w),[I,D]=t.useState(""),[T,x]=t.useState(0);if(N)return n.createElement(a.Loader,null);const A=e=>{var t,n;let r=null==O||null===(t=O.enabledScreensList)||void 0===t||null===(n=t.filter(e=>{var t,n,r;return"PT"===(null==e?void 0:e.module)&&((null==h?void 0:h.includes(null==e?void 0:e.screenfrom))||(null==e||null===(t=e.bussinessService)||void 0===t?void 0:t.includes(null==m||null===(n=m.Properties)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.creationReason)))}))||void 0===n?void 0:n[0];return"Header"===e?null==r?void 0:r.cardHeader:"Text"===e?null==r?void 0:r.cardText:void 0};return n.createElement(n.Fragment,null,n.createElement("form",null,n.createElement(a.Card,null,n.createElement("div",{style:c?{display:"flex",justifyContent:"space-between"}:{}},n.createElement(a.CardHeader,null,p(A("Header"))||p("PT_RATE_HELP_TEXT")),c&&n.createElement("span",{style:{marginTop:"8px"},onClick:()=>d(!1)},n.createElement(a.CloseSvg,null))),n.createElement(a.CardText,null,p(A("Text"),{acknowldgementNumber:y||(null==m||null===(r=m.Properties)||void 0===r||null===(i=r[0])||void 0===i?void 0:i.acknowldgementNumber),propertyId:E||(null==m||null===(u=m.Properties)||void 0===u||null===(s=u[0])||void 0===s?void 0:s.propertyId)})||p("PT_RATE_TEXT")),n.createElement(a.Rating,{styles:{justifyContent:"center"},currentRating:T,maxRating:5,onFeedback:(e,t,n)=>{x(n)}}),0!==T&&n.createElement("div",null,n.createElement(a.CardLabel,null,p((null==O||null===(L=O.headerByRating)||void 0===L||null===(R=L.filter(e=>T>=(null==e?void 0:e.minvalue)&&T<=(null==e?void 0:e.maxvalue)))||void 0===R||null===(M=R[0])||void 0===M?void 0:M.code)||p("CS_WHAT_WENT_WRONG"))),n.createElement(a.TextArea,{name:"",minLength:"64",onChange:e=>{D(e.target.value)}}),I&&(null==I?void 0:I.length)<64&&n.createElement(a.CardLabelError,{style:{marginTop:"-20px",marginBottom:"25px"}},p("CS_MIN_LENGTH_64"))),n.createElement(a.SubmitBar,{label:p("PT_SUBMIT"),onSubmit:()=>{var e,t,n,r;let i={},o={tenantId:(null==m||null===(e=m.Properties)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.tenantId)||b,code:["PT_"+(null!=h&&h.includes("payment")?"PAYMENT":_||(null==m||null===(n=m.Properties)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.creationReason))],module:["PT"]};Digit.PTService.cfdefinitionsearch({filters:{ServiceDefinitionCriteria:o}}).then((e,t)=>{var n,r,o,l,a,u,s,p,h,_,S,w,O,N;(null==e||null===(n=e.ServiceDefinition)||void 0===n?void 0:n.length)>0&&(i={tenantId:(null==m||null===(r=m.Properties)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.tenantId)||b,serviceDefId:null==e||null===(l=e.ServiceDefinition)||void 0===l||null===(a=l[0])||void 0===a?void 0:a.id,isActive:!0,attributes:[{attributeCode:"consumerCode",value:E||(null==m||null===(u=m.Properties)||void 0===u||null===(s=u[0])||void 0===s?void 0:s.propertyId),additionalDetails:{}},{attributeCode:"rating",value:T,additionalDetails:{}},{attributeCode:"comments",value:I,additionalDetails:{}},{attributeCode:"channel",value:"Online",additionalDetails:{}}],additionalDetails:{locality:C||(null==m||null===(p=m.Properties)||void 0===p||null===(h=p[0])||void 0===h||null===(_=h.address)||void 0===_||null===(S=_.locality)||void 0===S?void 0:S.code)||""},accountId:null==g||null===(w=g.info)||void 0===w?void 0:w.uuid},i={...i,referenceId:y||(null==m||null===(O=m.Properties)||void 0===O||null===(N=O[0])||void 0===N?void 0:N.acknowldgementNumber)},Digit.PTService.cfcreate({Service:{...i}},b).then((e,t)=>{var n;(null==e||null===(n=e.Service)||void 0===n?void 0:n.length)>0&&(c?(d(!1),f({key:!1,label:"PT_FEEDBACK_SUBMITTED_SUCCESSFULLY"})):v.push({pathname:"/digit-ui/citizen/feedback-acknowledgement",state:{rating:T,comment:I,result:e}}))}).catch(e=>{var t,n,r;f({key:"error",label:""+(null==e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.Errors[0])||void 0===r?void 0:r.message)})}))})},disabled:!!(I&&(null==I?void 0:I.length)<64)||!T}),!c&&n.createElement("div",{className:"link",style:S?{marginTop:"8px",width:"100%",textAlign:"center"}:{marginTop:"8px"}},n.createElement(o.Link,{to:"/digit-ui/citizen"},p("CS_GO_BACK_HOME"))))));var L,R,M},bn=e=>{let{control:r,t:i}=e;const o=window.Digit.Utils.browser.isMobile();return n.createElement(t.Fragment,null,n.createElement(a.SearchField,{className:"pt-form-field"},n.createElement("label",null,i("AUDIT_FROM_DATE_LABEL")),n.createElement(yn,{render:e=>n.createElement(a.DatePicker,{date:e.value,onChange:e.onChange}),name:"fromDate",control:r})),n.createElement(a.SearchField,{className:"pt-form-field"},n.createElement("label",null,i("AUDIT_TO_DATE_LABEL")),n.createElement(yn,{render:e=>n.createElement(a.DatePicker,{date:e.value,onChange:e.onChange}),name:"toDate",control:r})),n.createElement(a.SearchField,{className:"pt-search-action-submit"},n.createElement(a.SubmitBar,{style:{marginTop:o?"510px":"25px",marginLeft:o?"0":"-30px",maxWidth:o?"100%":"240px"},label:i("ES_COMMON_APPLY"),submit:!0})))},Cn=e=>{var r;let{Controller:i,register:o,control:l,t:u,reset:s,previousPage:c,handleSubmit:d,tenantId:f,data:m,onSubmit:p,isLoading:v}=e;const[g,h]=t.useState([]),E=e=>n.createElement("div",{onClick:e.onClick},n.createElement(a.DownloadBtnCommon,null));t.useEffect(()=>{(null==m?void 0:m.length)>0&&h([null==m?void 0:m.map(e=>{var t,n;let r={};return r[u("AUDIT_DATE_LABEL")]=y(null==e?void 0:e.timestamp)||"-",r[u("AUDIT_TIME_LABEL")]=_(null==e?void 0:e.timestamp)||"-",r[u("AUDIT_DATAVIEWED_LABEL")]=(null==e||null===(t=e.dataView)||void 0===t?void 0:t.join(", "))||"-",r[u("AUDIT_DATAVIEWED_BY_LABEL")]=(null==e?void 0:e.dataViewedBy)||"-",r[u("AUDIT_ROLE_LABEL")]=(null==e||null===(n=e.roles)||void 0===n?void 0:n.map(e=>e.name).join(", "))||"-",{...r}})])},[m]);const y=e=>{if(null==e||null==e||""==e)return"NA";const t=new Date(e);let n=t.getMonth()+1,r=t.getDate();return n=(n>9?"":"0")+n,r=(r>9?"":"0")+r,r+"/"+n+"/"+t.getFullYear()},_=e=>{if(null==e||null==e||""==e)return"NA";const t=new Date(e);let n=t.getHours(),r=t.getMinutes(),i=n>12?"PM":"AM";return n=n>12?n-12:n,n=(n>9?"":"0")+n,r=(r>9?"":"0")+r,n+":"+r+" "+i},[b,C]=t.useReducer(function(e,t){switch(t.type){case"set":return t.payload;case"remove":return!1}},!1),S=()=>{C({type:"remove"})},w=()=>n.createElement("div",{className:"InboxMobilePopupCloseButtonWrapper",onClick:S},n.createElement(a.CloseSvg,null)),O={Controller:i,register:o,control:l,t:u,reset:s,previousPage:c},N=t.useCallback(e=>{let{currentlyActiveMobileModal:t,searchFormFieldsComponentProps:r,tenantId:i,...o}=e;return(e=>{let{currentlyActiveMobileModal:t,searchFormFieldsComponentProps:r,tenantId:i,...o}=e;const{closeMobilePopupModal:l}=o;switch(t){case"SearchFormComponent":return n.createElement(a.SearchForm,o,n.createElement(w,null),n.createElement("div",{className:"MobilePopupHeadingWrapper"},n.createElement("h2",null,u("PRIVACY_AUDIT_REPORT"),":")),n.createElement(bn,x({},r,{closeMobilePopupModal:l,tenantId:i,t:u})));default:return n.createElement("span",null)}})({currentlyActiveMobileModal:t,searchFormFieldsComponentProps:r,tenantId:i,...o})},[b]);null==m||null===(r=m.roles)||void 0===r||r.forEach(e=>{});const I=t.useMemo(()=>null!=m&&m.display||""===m?[]:null==m?void 0:m.map(e=>{var t,n,r;return{[u("AUDIT_DATE_LABEL")]:y(e.timestamp)||"-",[u("AUDIT_TIME_LABEL")]:_(e.timestamp)||"-",[u("AUDIT_DATAVIEWED_LABEL")]:(null===(t=e.dataView)||void 0===t?void 0:t.join(", "))||"-",[u("AUDIT_DATAVIEWED_BY_LABEL")]:e.dataViewedBy||"-",[u("AUDIT_ROLE_LABEL")]:(null===(n=e.roles)||void 0===n||null===(r=n.slice(0,3))||void 0===r?void 0:r.map(e=>e.name).join(", "))||"-"}}),[m]);return n.createElement(n.Fragment,null,n.createElement(a.BackButton,null),n.createElement("div",{className:"sideContent",style:{marginLeft:"65%",marginTop:"-12%"}},n.createElement(E,{className:"mrlg cursorPointer",onClick:()=>(e=>{if(void 0!==(null==e?void 0:e[0]))return Digit.Download.Excel(null==e?void 0:e[0],"AuditReport")})(g)})),n.createElement(a.Header,null,u("PRIVACY_AUDIT_REPORT"),":"),n.createElement("div",{className:"searchBox"},n.createElement(a.SearchAction,{text:u("ES_COMMON_SEARCH"),handleActionClick:()=>C({type:"set",payload:"SearchFormComponent"}),tenantId:f,t:u})),b?n.createElement(a.PopUp,null,n.createElement(N,{onSubmit:e=>{C({type:"remove"}),p(e)},handleSubmit:d,id:"search-form",className:"rm-mb form-field-flex-one inboxPopupMobileWrapper",searchFormFieldsComponentProps:O,currentlyActiveMobileModal:b,closeMobilePopupModal:S,tenantId:f})):null,v&&n.createElement(a.Loader,null),n.createElement(a.DetailsCard,{data:I}))},Sn=e=>{let{showLoader:r,isLoading:i,tenantId:o,t:l,onSubmit:u,data:s,count:c}=e;const d=Digit.SessionStorage.get("AUDIT_APPLICATION_DETAIL")||{offset:0,limit:10,sortOrder:"ASC"},{register:f,control:m,handleSubmit:p,setValue:v,getValues:g,reset:h}=function(e){let{mode:n=_t.onSubmit,reValidateMode:r=_t.onChange,resolver:i,context:o,defaultValues:l={},shouldFocusError:a=!0,shouldUnregister:u=!0,criteriaMode:s}=void 0===e?{}:e;const c=t.useRef({}),d=t.useRef({}),f=t.useRef({}),m=t.useRef(new Set),p=t.useRef({}),v=t.useRef({}),g=t.useRef({}),h=t.useRef({}),E=t.useRef(l),_=t.useRef(!1),b=t.useRef(!1),C=t.useRef(),S=t.useRef({}),w=t.useRef({}),O=t.useRef(o),N=t.useRef(i),I=t.useRef(new Set),D=t.useRef(pn(n)),{isOnSubmit:T,isOnTouch:x}=D.current,A=s===_t.all,[L,R]=t.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touched:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!T,errors:{}}),M=t.useRef({isDirty:!hn,dirtyFields:!hn,touched:!hn||x,isValidating:!hn,isSubmitting:!hn,isValid:!hn}),P=t.useRef(L),k=t.useRef(),{isOnBlur:U,isOnChange:B}=t.useRef(pn(r)).current;O.current=o,N.current=i,P.current=L,S.current=u?{}:Vt(S.current)?mn(l):S.current;const j=t.useCallback(function(e){void 0===e&&(e={}),_.current||(P.current=Object.assign(Object.assign({},P.current),e),R(P.current))},[]),F=()=>M.current.isValidating&&j({isValidating:!0}),z=t.useCallback(function(e,t,n,r,i){void 0===n&&(n=!1),void 0===r&&(r={});let o=n||(e=>{let{errors:t,name:n,error:r,validFields:i,fieldsWithValidation:o}=e;const l=Tt(r),a=xt(t,n);return l&&!!a||!l&&!Yt(a,r,!0)||l&&xt(o,n)&&!xt(i,n)})({errors:P.current.errors,error:t,name:e,validFields:h.current,fieldsWithValidation:g.current});const l=xt(P.current.errors,e);t?(Gt(h.current,e),o=o||!l||!Yt(l,t,!0),It(P.current.errors,e,t)):((xt(g.current,e)||N.current)&&(It(h.current,e,!0),o=o||l),Gt(P.current.errors,e)),(o&&!bt(n)||!Vt(r)||M.current.isValidating)&&j(Object.assign(Object.assign(Object.assign({},r),N.current?{isValid:!!i}:{}),{isValidating:!1}))},[]),W=t.useCallback((e,t)=>{const{ref:n,options:r}=c.current[e],i=fn&&yt(n)&&bt(t)?"":t;Mt(n)?(r||[]).forEach(e=>{let{ref:t}=e;return t.checked=t.value===i}):Pt(n)&&!Jt(i)?n.files=i:Ut(n)?[...n.options].forEach(e=>e.selected=i.includes(e.value)):kt(n)&&r?r.length>1?r.forEach(e=>{let{ref:t}=e;return t.checked=Array.isArray(i)?!!i.find(e=>e===t.value):i===t.value}):r[0].ref.checked=!!i:n.value=i},[]),V=t.useCallback((e,t)=>{if(M.current.isDirty){const n=Q();return e&&t&&It(n,e,t),!Yt(n,E.current)}return!1},[]),H=t.useCallback(function(e,t){if(void 0===t&&(t=!0),M.current.isDirty||M.current.dirtyFields){const n=!Yt(xt(E.current,e),zt(c,e,S)),r=xt(P.current.dirtyFields,e),i=P.current.isDirty;n?It(P.current.dirtyFields,e,!0):Gt(P.current.dirtyFields,e);const o={isDirty:V(),dirtyFields:P.current.dirtyFields},l=M.current.isDirty&&i!==o.isDirty||M.current.dirtyFields&&r!==xt(P.current.dirtyFields,e);return l&&t&&j(o),l?o:{}}return{}},[]),G=t.useCallback(function(e,t){try{return"production"===process.env.NODE_ENV||c.current[e]?Promise.resolve(ln(c,A,c.current[e],S)).then(function(n){const r=n[e];return z(e,r,t),Tt(r)}):(console.warn("📋 Field is missing with `name` attribute: ",e),Promise.resolve(!1))}catch(e){return Promise.reject(e)}},[z,A]),q=t.useCallback(function(e){try{return Promise.resolve(N.current(Q(),O.current,A)).then(function(t){let{errors:n}=t;const r=P.current.isValid;if(Array.isArray(e)){const t=e.map(e=>{const t=xt(n,e);return t?It(P.current.errors,e,t):Gt(P.current.errors,e),!t}).every(Boolean);return j({isValid:Vt(n),isValidating:!1}),t}{const t=xt(n,e);return z(e,t,r!==Vt(n),{},Vt(n)),!t}})}catch(e){return Promise.reject(e)}},[z,A]),Z=t.useCallback(function(e){try{let n=!1;function t(e){return n?e:Promise.resolve(G(r))}const r=e||Object.keys(c.current);if(F(),N.current)return Promise.resolve(q(r));const i=function(){if(Array.isArray(r))return!e&&(P.current.errors={}),Promise.resolve(Promise.all(r.map(function(e){try{return Promise.resolve(G(e,null))}catch(e){return Promise.reject(e)}}))).then(function(e){j({isValidating:!1});const t=e.every(Boolean);return n=!0,t})}();return Promise.resolve(i&&i.then?i.then(t):t(i))}catch(e){return Promise.reject(e)}},[q,G]),X=t.useCallback((e,t,n)=>{let{shouldDirty:r,shouldValidate:i}=n;const o={};It(o,e,t);for(const n of an(e,t))c.current[n]&&(W(n,xt(o,n)),r&&H(n),i&&Z(n))},[Z,W,H]),Y=t.useCallback((e,t,n)=>{if(!u&&!Zt(t)&&It(S.current,e,Array.isArray(t)?[...t]:Object.assign({},t)),c.current[e])W(e,t),n.shouldDirty&&H(e),n.shouldValidate&&Z(e);else if(!Zt(t)&&(X(e,t,n),I.current.has(e))){const r=cn(e)||e;It(d.current,e,t),w.current[r]({[r]:xt(d.current,r)}),(M.current.isDirty||M.current.dirtyFields)&&n.shouldDirty&&(It(P.current.dirtyFields,e,((e,t,n)=>Xt(Kt(e,t,n.slice(0,e.length)),Kt(t,e,n.slice(0,e.length))))(t,xt(E.current,e,[]),xt(P.current.dirtyFields,e,[]))),j({isDirty:!Yt(Object.assign(Object.assign({},Q()),{[e]:t}),E.current)}))}!u&&It(S.current,e,t)},[H,W,X]),K=e=>b.current||m.current.has(e)||m.current.has((e.match(/\w+/)||[])[0]),J=e=>{let t=!0;if(!Vt(p.current))for(const n in p.current)e&&p.current[n].size&&!p.current[n].has(e)&&!p.current[n].has(cn(e))||(v.current[n](),t=!1);return t};function $(e){if(!u){let t=mn(e);for(const e of I.current)wt(e)&&!t[e]&&(t=Object.assign(Object.assign({},t),{[e]:[]}));return t}return e}function Q(e){if(Jt(e))return zt(c,e,S);if(Array.isArray(e)){const t={};for(const n of e)It(t,n,zt(c,n,S));return t}return $($t(c,mn(S.current),u))}C.current=C.current?C.current:function(e){let{type:t,target:n}=e;try{let e=n.name;const r=c.current[e];let i,o;return Promise.resolve(function(){if(r){function l(){!a&&J(e),z(e,i,f,d,o)}const a="blur"===t,s=sn(Object.assign({isBlurEvent:a,isReValidateOnChange:B,isReValidateOnBlur:U,isTouched:!!xt(P.current.touched,e),isSubmitted:P.current.isSubmitted},D.current));let d=H(e,!1),f=!Vt(d)||!a&&K(e);if(a&&!xt(P.current.touched,e)&&M.current.touched&&(It(P.current.touched,e,!0),d=Object.assign(Object.assign({},d),{touched:P.current.touched})),!u&&kt(n)&&It(S.current,e,zt(c,e)),s)return!a&&J(e),(!Vt(d)||f&&Vt(d))&&j(d);F();const m=N.current?Promise.resolve(N.current(Q(),O.current,A)).then(function(t){let{errors:r}=t;const l=P.current.isValid;if(i=xt(r,e),kt(n)&&!i&&N.current){const t=cn(e),n=xt(r,t,{});n.type&&n.message&&(i=n),t&&(n||xt(P.current.errors,t))&&(e=t)}o=Vt(r),l!==o&&(f=!0)}):Promise.resolve(ln(c,A,r,S)).then(function(t){i=t[e]});return m&&m.then?m.then(l):l()}}())}catch(e){return Promise.reject(e)}};const ee=t.useCallback(function(e){void 0===e&&(e={});try{const t=Vt(c.current)?E.current:{};return Promise.resolve(N.current(Object.assign(Object.assign(Object.assign({},t),Q()),e),O.current,A)).then(function(e){let{errors:t}=e;const n=Vt(t);P.current.isValid!==n&&j({isValid:n})})}catch(e){return Promise.reject(e)}},[A]),te=t.useCallback((e,t)=>{!function(e,t,n,r,i,o){const{ref:l,ref:{name:a}}=n,u=e.current[a];if(!i){const t=zt(e,a,r);!Tt(t)&&It(r.current,a,t)}l.type&&u?Mt(l)||kt(l)?Array.isArray(u.options)&&u.options.length?(Ot(u.options).forEach(function(e,n){void 0===e&&(e={}),(Wt(e.ref)&&qt(e,e.ref)||o)&&(At(e.ref,t),Gt(u.options,"["+n+"]"))}),u.options&&!Ot(u.options).length&&delete e.current[a]):delete e.current[a]:(Wt(l)&&qt(u,l)||o)&&(At(l,t),delete e.current[a]):delete e.current[a]}(c,C.current,e,S,u,t),u&&(Gt(h.current,e.ref.name),Gt(g.current,e.ref.name))},[u]),ne=t.useCallback(e=>{if(b.current)j();else{for(const t of m.current)if(t.startsWith(e)){j();break}J(e)}},[]),re=t.useCallback((e,t)=>{e&&(te(e,t),u&&!Ot(e.options||[]).length&&(Gt(P.current.errors,e.ref.name),It(P.current.dirtyFields,e.ref.name,!0),j({isDirty:V()}),M.current.isValid&&N.current&&ee(),ne(e.ref.name)))},[ee,te]),ie=t.useCallback((e,t,n)=>{const r=n?p.current[n]:m.current;let i=$t(c,mn(S.current),u,!1,e);if(Jt(e)){const n=cn(e)||e;return I.current.has(n)&&(i=Object.assign(Object.assign({},f.current),i)),un(i,e,r,Tt(xt(E.current,e))?t:xt(E.current,e),!0)}const o=Tt(t)?E.current:t;return Array.isArray(e)?e.reduce((e,t)=>Object.assign(Object.assign({},e),{[t]:un(i,t,r,o)}),{}):(b.current=Tt(n),Dt(!Vt(i)&&i||o))},[]);function oe(e,t){if(void 0===t&&(t={}),"production"!==process.env.NODE_ENV){if(!e.name)return console.warn("📋 Field is missing `name` attribute",e,"https://react-hook-form.com/api#useForm");if(I.current.has(e.name.split(/\[\d+\]$/)[0])&&!RegExp(("^"+e.name.split(/\[\d+\]$/)[0]+"[\\d+].\\w+").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e.name))return console.warn('📋 `name` prop should be in object shape: name="test[index].name"',e,"https://react-hook-form.com/api#useFieldArray")}const{name:n,type:r,value:i}=e,o=Object.assign({ref:e},t),l=c.current,a=vn(e),s=dn(I.current,n),d=t=>fn&&(!yt(e)||t===e);let f,m=l[n],p=!0;if(m&&(a?Array.isArray(m.options)&&Ot(m.options).find(e=>i===e.ref.value&&d(e.ref)):d(m.ref)))return void(l[n]=Object.assign(Object.assign({},m),t));m=r?a?Object.assign({options:[...Ot(m&&m.options||[]),{ref:e}],ref:{type:r,name:n}},t):Object.assign({},o):o,l[n]=m;const v=Tt(xt(S.current,n));Vt(E.current)&&v||(f=xt(v?E.current:S.current,n),p=Tt(f),p||s||W(n,f)),Vt(t)||(It(g.current,n,!0),!T&&M.current.isValid&&ln(c,A,m,S).then(e=>{const t=P.current.isValid;Vt(e)?It(h.current,n,!0):Gt(h.current,n),t!==Vt(e)&&j()})),!u||s&&p||!s&&Gt(P.current.dirtyFields,n),r&&function(e,t,n){let{ref:r}=e;yt(r)&&n&&(r.addEventListener(t?"change":"input",n),r.addEventListener("blur",n))}(a&&m.options?m.options[m.options.length-1]:m,a||"select-one"===e.type,C.current)}const le=t.useCallback((e,t)=>function(n){try{n&&n.preventDefault&&(n.preventDefault(),n.persist());let r={},i=$($t(c,mn(S.current),u,!0));return M.current.isSubmitting&&j({isSubmitting:!0}),Promise.resolve(function(o,l){try{var u=function(){function o(){const o=function(){if(Vt(r)&&Object.keys(P.current.errors).every(e=>e in c.current))return j({errors:{},isSubmitting:!0}),Promise.resolve(e(i,n)).then(function(){});{function o(e){a&&((e,t)=>{for(const n in e)if(xt(t,n)){const t=e[n];if(t){if(t.ref.focus&&Tt(t.ref.focus()))break;if(t.options){t.options[0].ref.focus();break}}}})(c.current,P.current.errors)}return P.current.errors=Object.assign(Object.assign({},P.current.errors),r),t?Promise.resolve(t(P.current.errors,n)).then(o):o()}}();if(o&&o.then)return o.then(function(){})}const l=N.current?Promise.resolve(N.current(i,O.current,A)).then(function(e){let{errors:t,values:n}=e;P.current.errors=r=t,i=n}):y(Object.values(c.current),function(e){const t=function(){if(e){const{name:t}=e.ref;return Promise.resolve(ln(c,A,e,S)).then(function(e){e[t]?(It(r,t,e[t]),Gt(h.current,t)):xt(g.current,t)&&(Gt(P.current.errors,t),It(h.current,t,!0))})}}();if(t&&t.then)return t.then(function(){})});return l&&l.then?l.then(o):o()}()}catch(e){return l(!0,e)}return u&&u.then?u.then(l.bind(null,!1),l.bind(null,!0)):l(!1,u)}(0,function(e,t){if(P.current.isSubmitting=!1,j({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Vt(P.current.errors),submitCount:P.current.submitCount+1}),e)throw t;return t}))}catch(n){return Promise.reject(n)}},[a,A]);t.useEffect(()=>{i&&M.current.isValid&&ee(),k.current=k.current||!fn?k.current:function(e,t){const n=new MutationObserver(()=>{for(const n of Object.values(e.current))if(n&&n.options)for(const e of n.options)e&&e.ref&&Wt(e.ref)&&t(n);else n&&Wt(n.ref)&&t(n)});return n.observe(window.document,{childList:!0,subtree:!0}),n}(c,re)},[re,E.current]),t.useEffect(()=>()=>{k.current&&k.current.disconnect(),_.current=!0,"production"===process.env.NODE_ENV&&Object.values(c.current).forEach(e=>re(e,!0))},[]),!i&&M.current.isValid&&(L.isValid=Yt(h.current,g.current)&&Vt(P.current.errors));const ae={trigger:Z,setValue:t.useCallback(function(e,t,n){Y(e,t,n||{}),K(e)&&j(),J(e)},[Y,Z]),getValues:t.useCallback(Q,[]),register:t.useCallback(function(e,t){if(!gn)if(Jt(e))oe({name:e},t);else{if(!St(e)||!("name"in e))return t=>t&&oe(t,e);oe(e,t)}},[E.current]),unregister:t.useCallback(function(e){for(const t of Array.isArray(e)?e:[e])re(c.current[t],!0)},[]),formState:hn?new Proxy(L,{get:(e,t)=>{if("production"!==process.env.NODE_ENV&&"isValid"===t&&T&&console.warn("📋 `formState.isValid` is applicable with `onTouched`, `onChange` or `onBlur` mode. https://react-hook-form.com/api#formState"),t in e)return M.current[t]=!0,e[t]}}):L},ue=t.useMemo(()=>Object.assign({isFormDirty:V,updateWatchedValue:ne,shouldUnregister:u,updateFormState:j,removeFieldEventListener:te,watchInternal:ie,mode:D.current,reValidateMode:{isReValidateOnBlur:U,isReValidateOnChange:B},validateResolver:i?ee:void 0,fieldsRef:c,resetFieldArrayFunctionRef:w,useWatchFieldsRef:p,useWatchRenderFunctionsRef:v,fieldArrayDefaultValuesRef:d,validFieldsRef:h,fieldsWithValidationRef:g,fieldArrayNamesRef:I,readFormStateRef:M,formStateRef:P,defaultValuesRef:E,shallowFieldsStateRef:S,fieldArrayValuesRef:f},ae),[E.current,ne,u,te,ie]);return Object.assign({watch:function(e,t){return ie(e,t)},control:ue,handleSubmit:le,reset:t.useCallback(function(e,t){if(void 0===t&&(t={}),fn)for(const e of Object.values(c.current))if(e){const{ref:t,options:n}=e,r=vn(t)&&Array.isArray(n)?n[0].ref:t;if(yt(r))try{r.closest("form").reset();break}catch(e){}}c.current={},E.current=Object.assign({},e||E.current),e&&J(""),Object.values(w.current).forEach(e=>tn(e)&&e()),S.current=u?{}:mn(e||E.current),(e=>{let{errors:t,isDirty:n,isSubmitted:r,touched:i,isValid:o,submitCount:l,dirtyFields:a}=e;o||(h.current={},g.current={}),d.current={},m.current=new Set,b.current=!1,j({submitCount:l?P.current.submitCount:0,isDirty:!!n&&P.current.isDirty,isSubmitted:!!r&&P.current.isSubmitted,isValid:!!o&&P.current.isValid,dirtyFields:a?P.current.dirtyFields:{},touched:i?P.current.touched:{},errors:t?P.current.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})})(t)},[]),clearErrors:t.useCallback(function(e){e&&(Array.isArray(e)?e:[e]).forEach(e=>c.current[e]&&wt(e)?delete P.current.errors[e]:Gt(P.current.errors,e)),j({errors:e?P.current.errors:{}})},[]),setError:t.useCallback(function(e,t){const n=(c.current[e]||{}).ref;It(P.current.errors,e,Object.assign(Object.assign({},t),{ref:n})),j({isValid:!1}),t.shouldFocus&&n&&n.focus&&n.focus()},[]),errors:L.errors},ae)}({defaultValues:d}),E=e=>{if(null==e||null==e||""==e)return"NA";const t=new Date(e);let n=t.getMonth()+1,r=t.getDate();return n=(n>9?"":"0")+n,r=(r>9?"":"0")+r,r+"/"+n+"/"+t.getFullYear()},_=e=>{if(null==e||null==e||""==e)return"NA";const t=new Date(e);let n=t.getHours(),r=t.getMinutes(),i=n>12?"PM":"AM";return n=n>12?n-12:n,n=(n>9?"":"0")+n,r=(r>9?"":"0")+r,n+":"+r+" "+i},[b,C]=t.useState([]),S=e=>n.createElement("div",{onClick:e.onClick},n.createElement(a.DownloadBtnCommon,null));t.useEffect(()=>{f("offset",0),f("limit",10)},[f]),t.useEffect(()=>{(null==s?void 0:s.length)>0&&C([null==s?void 0:s.map(e=>{var t,n;let r={};return r[l("AUDIT_DATE_LABEL")]=E(null==e?void 0:e.timestamp)||"-",r[l("AUDIT_TIME_LABEL")]=_(null==e?void 0:e.timestamp)||"-",r[l("AUDIT_DATAVIEWED_LABEL")]=(null==e||null===(t=e.dataView)||void 0===t?void 0:t.join(", "))||"-",r[l("AUDIT_DATAVIEWED_BY_LABEL")]=null==e?void 0:e.dataViewedBy,r[l("AUDIT_ROLE_LABEL")]=(null==e||null===(n=e.roles)||void 0===n?void 0:n.map(e=>e.name).join(", "))||"-",{...r}})])},[s]);const w=t.useCallback(e=>{0!==e.length&&(v("sortBy",e.id),v("sortOrder",e.desc?"DESC":"ASC"))},[]);function O(){v("offset",g("offset")-g("limit")),p(u)()}const N=window.Digit.Utils.browser.isMobile();if(N)return n.createElement(Cn,{Controller:yn,isLoading:i,showLoader:r,register:f,control:m,t:l,reset:h,previousPage:O,handleSubmit:p,tenantId:o,data:s,onSubmit:u});const I=e=>n.createElement("span",{className:"cell-text"},e),D=t.useMemo(()=>[{Header:l("AUDIT_DATE_LABEL"),disableSortBy:!0,accessor:e=>{const t="NA"===e.timestamp?l("WS_NA"):E(e.timestamp);return I(""+(t||"-"))}},{Header:l("AUDIT_TIME_LABEL"),disableSortBy:!0,accessor:e=>{const t="NA"===e.timestamp?l("WS_NA"):_(e.timestamp);return I(""+(t||"-"))}},{Header:l(N?"AUDIT_DATAVIEWED_LABEL":"AUDIT_DATAVIEWED_PRIVACY"),disableSortBy:!0,accessor:e=>{var t;return I(""+((null==e||null===(t=e.dataView)||void 0===t?void 0:t.join(", "))||"-"))}},{Header:l(N?"AUDIT_DATAVIEWED_BY_LABEL":"AUDIT_DATAVIEWED_BY_PRIVACY"),disableSortBy:!0,accessor:e=>I(""+((null==e?void 0:e.dataViewedBy)||"-"))},{Header:l("AUDIT_ROLE_LABEL"),disableSortBy:!0,accessor:e=>{var t,n,r;return I(""+((null==e||null===(t=e.roles)||void 0===t||null===(n=t.slice(0,3))||void 0===n||null===(r=n.map(e=>e.name))||void 0===r?void 0:r.join(", "))||"-"))}}],[]);return n.createElement(n.Fragment,null,n.createElement("div",{style:{marginRight:"-70px"}}," ",n.createElement(a.BackButton,null)," "),n.createElement("div",{style:{marginTop:"30px",marginLeft:"30px"}},"  ",n.createElement(a.Header,null,l("PRIVACY_AUDIT_REPORT"))," "),n.createElement(a.SearchForm,{className:"audit-card",onSubmit:u,handleSubmit:p},n.createElement(bn,{register:f,control:m,reset:h,tenantId:o,t:l,previousPage:O})),n.createElement("div",{style:{marginTop:"240px",marginLeft:"-55%",width:"80%"}},null!=s&&s.display?n.createElement("div",{style:{marginTop:"20x",maxWidth:"680%",marginLeft:"60px",backgroundColor:"white",height:"60px"}},l(s.display).split("\\n").map((e,t)=>n.createElement("p",{key:t,style:{textAlign:"center",paddingTop:"12px"}},e))):""!==s?n.createElement("div",{style:{backgroundColor:"white",marginRight:"200px",marginLeft:"2.5%",width:"100%"}},n.createElement("div",{className:"sideContent",style:{float:"right",padding:"10px 30px"}},n.createElement(S,{className:"mrlg cursorPointer",onClick:()=>(e=>{if(void 0!==(null==e?void 0:e[0]))return Digit.Download.Excel(null==e?void 0:e[0],"AuditReport")})(b)})),n.createElement(a.Table,{t:l,data:s.sort((e,t)=>e.timestamp-t.timestamp),totalRecords:c,columns:D,getCellProps:e=>({style:{minWidth:e.column.Header===l("ES_INBOX_APPLICATION_NO")?"240px":"",padding:"20px 18px",fontSize:"16px"}}),onPageSizeChange:function(e){v("limit",Number(e.target.value)),p(u)()},currentPage:g("offset")/g("limit"),onNextPage:function(){v("offset",g("offset")+g("limit")),p(u)()},onPrevPage:O,pageSizeLimit:g("limit"),onSort:w,disableSort:!1,sortParams:[{id:g("sortBy"),desc:"DESC"===g("sortOrder")}]})):n.createElement(a.Loader,null)))},wn=e=>{var r,i,a,u,s,c,d,f,m,p;const{t:v}=l.useTranslation(),g=Digit.ULBService.getCitizenCurrentTenant(),[h,E]=t.useState({}),y=window.Digit.Utils.browser.isMobile(),_=function(e,t){void 0===t&&(t="dayend");try{const n=e.match(/(\d{4})-(\d{1,2})-(\d{1,2})/),r=new Date(Date.UTC(n[1],n[2]-1,n[3]));return r.setMinutes(r.getMinutes()+r.getTimezoneOffset()),"dayend"===t&&(r.setHours(r.getHours()+24),r.setSeconds(r.getSeconds()-1)),"daystart"===t&&(r.setHours(r.getHours()),r.setSeconds(r.getSeconds()+1)),r.getTime()}catch(t){return e}};t.useEffect(()=>{const e=Digit.SessionStorage.get("AUDIT_APPLICATION_DETAIL")||{};if(e){const t={...e};E(Object.keys(t).filter(e=>t[e]).reduce((e,n)=>({...e,[n]:"object"==typeof t[n]?t[n].code:t[n]}),{}))}},[]);const b={enabled:!!(h&&Object.keys(h).length>0)};let C,S,w=window.location.href.split("/").pop();isNaN(parseInt(w))?C=10:(S=w,C=parseInt(w)+10);const O=y?{...h,offset:isNaN(parseInt(w))?0:parseInt(S)}:{...h},{isLoading:N,data:I}=Digit.Hooks.useAudit({tenantId:g,filters:{...O},config:b});return n.createElement(n.Fragment,null,n.createElement(Sn,{t:v,tenantId:g,onSubmit:function(e){Digit.SessionStorage.set("AUDIT_APPLICATION_DETAIL",{offset:0,limit:10});let t={...e,fromDate:_(null==e?void 0:e.fromDate,(null==e?void 0:e.fromDate)==(null==e?void 0:e.toDate)?"daystart":""),toDate:_(null==e?void 0:e.toDate,(null==e?void 0:e.fromDate)==(null==e?void 0:e.toDate)?"dayend":"")};E(Object.keys(t).filter(e=>t[e]).reduce((e,n)=>({...e,[n]:t[n]}),{}))},data:N?"":(null==I||null===(r=I.ElasticSearchData)||void 0===r||null===(i=r.filter(e=>!e.total))||void 0===i?void 0:i.length)>0?null==I||null===(a=I.ElasticSearchData)||void 0===a?void 0:a.filter(e=>!e.total):{display:"ES_COMMON_NO_DATA"},count:null==I||null===(u=I.ElasticSearchData)||void 0===u||null===(s=u.filter(e=>e.total))||void 0===s||null===(c=s[0])||void 0===c?void 0:c.total,isLoading:N}),y&&(null==I||null===(d=I.ElasticSearchData)||void 0===d||null===(f=d.filter(e=>!e.total))||void 0===f?void 0:f.length)&&0!==(null==I||null===(m=I.ElasticSearchData)||void 0===m||null===(p=m.filter(e=>!e.total))||void 0===p?void 0:p.length)&&n.createElement("div",null,n.createElement("p",{style:{marginLeft:"16px",marginBottom:"40px"}},n.createElement("span",{className:"link"},n.createElement(o.Link,{to:"/digit-ui/citizen/Audit/"+C},v("PT_LOAD_MORE_MSG"))))))},On=["digit-ui/citizen/register/name","/digit-ui/citizen/select-language","/digit-ui/citizen/select-location","/digit-ui/citizen/login","/digit-ui/citizen/register/otp"],Nn=(e,t)=>t.filter(t=>e.map(e=>e.code).includes(t.code)),In=e=>{let{stateInfo:t,userDetails:r,CITIZEN:i,cityDetails:u,mobileView:s,handleUserDropdownSelection:c,logoUrl:f,stateCode:m,modules:v,appTenants:g,sourceUrl:h,pathname:E,initData:y}=e;const{isLoading:_,data:b,isFetched:C}=Digit.Hooks.useCustomMDMS(Digit.ULBService.getStateId(),"ACCESSCONTROL-ACTIONS-TEST",[{name:"actions-test",filter:"[?(@.url == 'digit-ui-card')]"}],{select:e=>{var t,n;return null==e||null===(t=e["ACCESSCONTROL-ACTIONS-TEST"])||void 0===t||null===(n=t["actions-test"])||void 0===n?void 0:n.filter(e=>!0===e.enabled).reduce((e,t)=>{var n;return e[t.parentModule]=(null===(n=e[t.parentModule])||void 0===n?void 0:n.length)>0?[t,...e[t.parentModule]]:[t],e},{})}}),S=Digit.Hooks.fsm.useRouteSubscription(E),{t:w}=l.useTranslation(),{path:O}=o.useRouteMatch();h="https://s3.ap-south-1.amazonaws.com/egov-qa-assets";const N=o.useHistory(),I=On.some(e=>window.location.href.includes(e)),T=v.map((e,t)=>{let{code:r,tenants:i}=e;const l=Digit.ComponentRegistryService.getComponent(r+"Module");return l?n.createElement(o.Route,{key:t,path:O+"/"+r.toLowerCase()},n.createElement(l,{stateCode:m,moduleCode:r,userType:"citizen",tenants:Nn(i,g)})):null}),x=v.map((e,t)=>{let{code:r}=e,i=(Digit.ComponentRegistryService.getComponent(r+"Links"),C?d(b,r,w):void 0);return(null==i?void 0:i.links)&&(null==i||i.links.sort((e,t)=>e.orderNumber-t.orderNumber)),n.createElement(n.Fragment,null,n.createElement(o.Route,{key:t,path:O+"/"+r.toLowerCase()+"-home"},n.createElement("div",{className:"moduleLinkHomePage"},n.createElement("img",{src:"https://nugp-assets.s3.ap-south-1.amazonaws.com/nugp+asset/Banner+UPYOG+%281920x500%29B+%282%29.jpg",alt:"noimagefound"}),n.createElement(a.BackButton,{className:"moduleLinkHomePageBackButton"}),n.createElement("h1",null,w("MODULE_"+r.toUpperCase())),n.createElement("div",{className:"moduleLinkHomePageModuleLinks"},i&&n.createElement(a.CitizenHomeCard,{header:w(null==i?void 0:i.header),links:null==i?void 0:i.links,Icon:()=>n.createElement("span",null),Info:"OBPS"===r?()=>n.createElement(a.CitizenInfoLabel,{style:{margin:"0px",padding:"10px"},info:w("CS_FILE_APPLICATION_INFO_LABEL"),text:w("BPA_CITIZEN_HOME_STAKEHOLDER_INCLUDES_INFO_LABEL")}):null,isInfo:"OBPS"===r})),n.createElement(vt,{moduleCode:null==r?void 0:r.toUpperCase()}))),n.createElement(o.Route,{key:"faq"+t,path:O+"/"+r.toLowerCase()+"-faq"},n.createElement(mt,{module:null==r?void 0:r.toUpperCase()})),n.createElement(o.Route,{key:"hiw"+t,path:O+"/"+r.toLowerCase()+"-how-it-works"},n.createElement(pt,{module:null==r?void 0:r.toUpperCase()})))});return n.createElement("div",{className:S},n.createElement(it,{t:w,stateInfo:t,userDetails:r,CITIZEN:i,cityDetails:u,mobileView:s,handleUserDropdownSelection:c,logoUrl:f,showSidebar:!0,linkData:b,islinkDataLoading:_}),n.createElement("div",{className:"main center-container citizen-home-container mb-25"},I?null:n.createElement("div",{className:"SideBarStatic"},n.createElement(Ke,{linkData:b,islinkDataLoading:_})),n.createElement(o.Switch,null,n.createElement(o.Route,{exact:!0,path:O},n.createElement(st,null)),n.createElement(a.PrivateRoute,{path:O+"/feedback",component:_n}),n.createElement(a.PrivateRoute,{path:O+"/feedback-acknowledgement",component:Et}),n.createElement(o.Route,{exact:!0,path:O+"/select-language"},n.createElement(ct,null)),n.createElement(o.Route,{exact:!0,path:O+"/select-location"},n.createElement(dt,null)),n.createElement(o.Route,{path:O+"/error"},n.createElement(Pe,{initData:y,goToHome:()=>{N.push("/digit-ui/citizen")}})),n.createElement(o.Route,{path:O+"/all-services"},n.createElement(p,{userType:"citizen",modules:v,getCitizenMenu:b,fetchedCitizen:C,isLoading:_})),n.createElement(o.Route,{path:O+"/login"},n.createElement(D,{stateCode:m})),n.createElement(o.Route,{path:O+"/register"},n.createElement(D,{stateCode:m,isUserRegistered:!1})),n.createElement(a.PrivateRoute,{path:O+"/user/profile"},n.createElement(lt,{stateCode:m,userType:"citizen",cityDetails:u})),n.createElement(o.Route,{path:O+"/Audit"},n.createElement(wn,null)),n.createElement(Ue,{initData:y},T,x))),n.createElement("div",{style:{width:"100%",position:"fixed",bottom:0,backgroundColor:"white",textAlign:"center"}},n.createElement("div",{style:{display:"flex",justifyContent:"center",color:"black"}},n.createElement("span",{style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px",fontWeight:"400"},onClick:()=>{window.open("https://www.digit.org/","_blank").focus()}},"Powered by DIGIT"),n.createElement("span",{style:{margin:"0 10px",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px"}},"|"),n.createElement("a",{style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px",fontWeight:"400"},href:"#",target:"_blank"},"UPYOG License"),n.createElement("span",{className:"upyog-copyright-footer",style:{margin:"0 10px",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px"}},"|"),n.createElement("span",{className:"upyog-copyright-footer",style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px",fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs")),n.createElement("div",{className:"upyog-copyright-footer-web"},n.createElement("span",{className:"",style:{cursor:"pointer",fontSize:window.Digit.Utils.browser.isMobile()?"12px":"14px",fontWeight:"400"},onClick:()=>{window.open("https://niua.in/","_blank").focus()}},"Copyright © 2022 National Institute of Urban Affairs"))))},Dn=e=>{var r;let{stateCode:i,modules:l,appTenants:a,logoUrl:u,initData:s}=e;const c=o.useHistory(),{pathname:d}=o.useLocation(),f=window.innerWidth,m=Digit.ULBService.getCurrentUlb(),p=Digit.UserService.getUser(),{data:v}=Digit.Hooks.useStore.getInitData(),{stateInfo:g}=v||{},h=Digit.UserService.hasAccess(["FSM_DSO"]);let E="CITIZEN"===(null==p||null===(r=p.info)||void 0===r?void 0:r.type)||!window.location.pathname.split("/").includes("employee");window.location.pathname.split("/").includes("employee")&&(E=!1),t.useEffect(()=>{null!=d&&d.includes("application-details")||(null!=d&&d.includes("inbox")||Digit.SessionStorage.del("fsm/inbox/searchParams"),null!=d&&d.includes("search")&&Digit.SessionStorage.del("fsm/search/searchParams")),null!=d&&d.includes("dss")||Digit.SessionStorage.del("DSS_FILTERS"),"/digit-ui/employee"===(null==d?void 0:d.toString())&&(Digit.SessionStorage.del("SEARCH_APPLICATION_DETAIL"),Digit.SessionStorage.del("WS_EDIT_APPLICATION_DETAILS")),"/digit-ui/citizen"!==(null==d?void 0:d.toString())&&"/digit-ui/employee"!==(null==d?void 0:d.toString())||Digit.SessionStorage.del("WS_DISCONNECTION")},[d]),c.listen(()=>{var e;null===(e=window)||void 0===e||e.scrollTo({top:0,left:0,behavior:"smooth"})});const y={stateInfo:g,userDetails:p,CITIZEN:E,cityDetails:m,mobileView:f<=640,handleUserDropdownSelection:e=>{e.func()},logoUrl:u,DSO:h,stateCode:i,modules:l,appTenants:a,sourceUrl:window.location.origin+"/citizen",pathname:d,initData:s};return n.createElement(o.Switch,null,n.createElement(o.Route,{path:"/digit-ui/employee"},n.createElement(ut,y)),n.createElement(o.Route,{path:"/digit-ui/citizen"},n.createElement(In,y)),n.createElement(o.Route,null,n.createElement(o.Redirect,{to:"/digit-ui/citizen"})))},Tn=[c],xn=("object"==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):s.compose)(s.applyMiddleware(...Tn)),An=function(e,t){return void 0===t&&(t={}),s.createStore(((e,t)=>{return s.combineReducers({common:(n=e,function(e,t){switch(void 0===e&&(e=n),t.type){case"LANGUAGE_SELECT":return{...e,selectedLanguage:t.payload};default:return e}}),...t});var n})(e,t),xn)},Ln=e=>{var t;let{stateCode:r,enabledModules:u,moduleReducers:s}=e;const{isLoading:c,data:d}=Digit.Hooks.useInitStore(r,u);return c?n.createElement(a.Loader,{page:!0}):(l.getI18n(),n.createElement(i.Provider,{store:An(d,s(d))},n.createElement(o.BrowserRouter,null,n.createElement(a.Body,null,n.createElement(Dn,{initData:d,stateCode:r,modules:null==d?void 0:d.modules,appTenants:d.tenants,logoUrl:null==d||null===(t=d.stateInfo)||void 0===t?void 0:t.logoUrl})))))},Rn={SelectOtp:S,AcknowledgementCF:Et,CitizenFeedback:_n};exports.DigitUI=e=>{let{stateCode:i,registry:o,enabledModules:l,moduleReducers:a}=e;const[u,s]=t.useState(Digit.Utils.getPrivacyObject()||{}),c=(Digit.UserService.getType(),new r.QueryClient({defaultOptions:{queries:{staleTime:9e5,cacheTime:3e6,retryDelay:e=>Infinity,retry:!1}}})),d=Digit.Contexts.ComponentProvider,f=Digit.Contexts.PrivacyProvider;return Digit.UserService.hasAccess(["FSM_DSO"]),n.createElement("div",null,n.createElement(Ue,null,n.createElement(r.QueryClientProvider,{client:c},n.createElement(d.Provider,{value:o},n.createElement(f.Provider,{value:{privacy:null==u?void 0:u[window.location.pathname],resetPrivacy:e=>{Digit.Utils.setPrivacyObject({}),s({})},getPrivacy:()=>{const e=Digit.Utils.getPrivacyObject();return s(e),e},updatePrivacyDescoped:e=>{const t=Digit.Utils.getAllPrivacyObject(),n={...t,[window.location.pathname]:e};Digit.Utils.setPrivacyObject({...n}),s((null==t?void 0:t[window.location.pathname])||{})},updatePrivacy:(e,t)=>{s(Digit.Utils.updatePrivacy(e,t)||{})}}},n.createElement(Ln,{stateCode:i,enabledModules:l,moduleReducers:a}))))))},exports.initCoreComponents=()=>{Object.entries(Rn).forEach(e=>{let[t,n]=e;Digit.ComponentRegistryService.setComponent(t,n)})};
