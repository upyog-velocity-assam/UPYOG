{"ast":null,"code":"import React, { useState, useEffect, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory, useLocation, Switch, Link, useParams, useRouteMatch } from 'react-router-dom';\nimport { LabelFieldPair, CardLabel, Dropdown, Loader, Modal, FormComposer, CloseSvg, CheckBox, SubmitBar, ActionBar, ApplyFilterBar, PrivateRoute, Card, CardText, LinkButton, Banner as Banner$1, Header, StatusTable, Row, AnnouncementIcon, Table, Label, TextInput, LinkLabel, DatePicker, MobileNumber, DetailsCard, SearchAction, FilterAction, PopUp, ReceiptIcon, EmployeeModuleCard } from '@egovernments/digit-ui-react-components';\nimport { useTranslation } from 'react-i18next';\nimport { useForm, Controller } from 'react-hook-form';\nconst Banner = ({\n  t,\n  config\n}) => {\n  var _config$texts;\n  return /*#__PURE__*/React.createElement(LabelFieldPair, null, /*#__PURE__*/React.createElement(CardLabel, {\n    className: \"card-label-smaller\",\n    style: {\n      color: \"white\"\n    }\n  }, \".\"), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"form-field\",\n    style: {\n      color: \"gray\"\n    }\n  }, t(config === null || config === void 0 ? void 0 : (_config$texts = config.texts) === null || _config$texts === void 0 ? void 0 : _config$texts.header)));\n};\nconst configCancelConfig = ({\n  t,\n  selectedReason,\n  Reasons,\n  selectReason\n}) => {\n  return {\n    label: {\n      heading: `CR_COMMON_HEADER`,\n      submit: `CR_CANCEL_RECEIPT_BUTTON`\n    },\n    form: [{\n      body: [{\n        label: t(\"CR_RECEIPT_CANCELLATION_REASON_LABEL\"),\n        type: \"dropdown\",\n        isMandatory: true,\n        name: \"reason\",\n        populators: /*#__PURE__*/React.createElement(Dropdown, {\n          isMandatory: true,\n          selected: selectedReason,\n          optionKey: \"name\",\n          option: Reasons,\n          select: selectReason,\n          t: t\n        })\n      }, {\n        label: t(\"CR_MORE_DETAILS_LABEL\"),\n        type: \"text\",\n        populators: {\n          name: \"otherDetails\"\n        },\n        disable: (selectedReason === null || selectedReason === void 0 ? void 0 : selectedReason.code) == \"OTHER\" ? false : true\n      }, {\n        label: t(\"CR_ADDITIONAL_PENALTY\"),\n        type: \"text\",\n        populators: {\n          name: \"penalty\",\n          disable: true\n        },\n        disable: true\n      }]\n    }]\n  };\n};\nconst ReceiptCancelModal = ({\n  t,\n  action,\n  tenantId,\n  closeModal,\n  submitAction,\n  applicationData,\n  billData\n}) => {\n  var _config$label, _config$label2;\n  const history = useHistory();\n  const [config, setConfig] = useState({});\n  const [Reasons, setReasons] = useState([]);\n  const [selectedReason, selecteReason] = useState(\"\");\n  const tenantIds = Digit.ULBService.getCurrentTenantId() || '';\n  const tenant = Digit.ULBService.getStateId();\n  const {\n    isLoading,\n    isError,\n    errors,\n    data,\n    ...rest\n  } = Digit.Hooks.receipts.useReceiptsMDMS(tenant, \"CancelReceiptReason\");\n  useEffect(() => {\n    return setConfig(configCancelConfig({\n      t,\n      selectedReason,\n      Reasons,\n      selectReason\n    }));\n  }, [Reasons, selectedReason]);\n  const Heading = props => {\n    return /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"heading-m\"\n    }, props.label);\n  };\n  function selectReason(e) {\n    selecteReason(e);\n  }\n  const Close = () => /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    fill: \"#FFFFFF\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0V0z\",\n    fill: \"none\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  }));\n  const CloseBtn = props => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icon-bg-secondary\",\n      onClick: props.onClick\n    }, /*#__PURE__*/React.createElement(Close, null));\n  };\n  useEffect(() => {\n    setReasons(data === null || data === void 0 ? void 0 : data.dropdownData);\n  }, [data]);\n  function submit(data) {\n    var _applicationData$Paym, _applicationData$Paym2, _applicationData$Paym3, _applicationData$Paym4;\n    history.replace(\"/digit-ui/employee/receipts/response\", {\n      paymentWorkflow: {\n        action: \"CANCEL\",\n        additionalDetails: {\n          ...data.otherDetails,\n          selectedReasonMessage: t(`CR_REASON_${selectedReason.code}`)\n        },\n        paymentId: applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$Paym = applicationData.Payments[0]) === null || _applicationData$Paym === void 0 ? void 0 : _applicationData$Paym.id,\n        reason: selectedReason.code,\n        tenantId: applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$Paym2 = applicationData.Payments[0]) === null || _applicationData$Paym2 === void 0 ? void 0 : _applicationData$Paym2.tenantId\n      },\n      key: \"UPDATE\",\n      action: \"CANCELLATION\",\n      businessService: applicationData === null || applicationData === void 0 ? void 0 : (_applicationData$Paym3 = applicationData.Payments[0]) === null || _applicationData$Paym3 === void 0 ? void 0 : (_applicationData$Paym4 = _applicationData$Paym3.paymentDetails[0]) === null || _applicationData$Paym4 === void 0 ? void 0 : _applicationData$Paym4.businessService\n    });\n  }\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return config !== null && config !== void 0 && config.form ? /*#__PURE__*/React.createElement(Modal, {\n    headerBarMain: /*#__PURE__*/React.createElement(Heading, {\n      label: t(config === null || config === void 0 ? void 0 : (_config$label = config.label) === null || _config$label === void 0 ? void 0 : _config$label.heading)\n    }),\n    headerBarEnd: /*#__PURE__*/React.createElement(CloseBtn, {\n      onClick: closeModal\n    }),\n    actionCancelOnSubmit: closeModal,\n    actionSaveLabel: t(config === null || config === void 0 ? void 0 : (_config$label2 = config.label) === null || _config$label2 === void 0 ? void 0 : _config$label2.submit),\n    actionSaveOnSubmit: () => {},\n    formId: \"modal-action\",\n    isDisabled: !selectedReason\n  }, /*#__PURE__*/React.createElement(FormComposer, {\n    config: config === null || config === void 0 ? void 0 : config.form,\n    noBoxShadow: true,\n    inline: true,\n    disabled: true,\n    childrenAtTheBottom: true,\n    onSubmit: submit,\n    formId: \"modal-action\"\n  })) : /*#__PURE__*/React.createElement(Loader, null);\n};\nconst ActionModal = props => {\n  return /*#__PURE__*/React.createElement(ReceiptCancelModal, props);\n};\nconst convertEpochToDate = dateEpoch => {\n  if (dateEpoch) {\n    const dateFromApi = new Date(dateEpoch);\n    let month = dateFromApi.getMonth() + 1;\n    let day = dateFromApi.getDate();\n    let year = dateFromApi.getFullYear();\n    month = (month > 9 ? \"\" : \"0\") + month;\n    day = (day > 9 ? \"\" : \"0\") + day;\n    return `${day}/${month}/${year}`;\n  } else {\n    return 'NA';\n  }\n};\nconst stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\n  if (searcher == \"\") return str;\n  while (str.includes(searcher)) {\n    str = str.replace(searcher, replaceWith);\n  }\n  return str;\n};\nconst checkForNotNull = (value = \"\") => {\n  return value && value != null && value != undefined && value != \"\" ? true : false;\n};\nconst convertDotValues = (value = \"\") => {\n  return checkForNotNull(value) && (value.replaceAll && value.replaceAll(\".\", \"_\") || value.replace && stringReplaceAll(value, \".\", \"_\")) || \"NA\";\n};\nconst convertToLocale = (value = \"\", key = \"\") => {\n  let convertedValue = convertDotValues(value);\n  if (convertedValue == \"NA\") {\n    return \"PT_NA\";\n  }\n  return `${key}_${convertedValue}`;\n};\nconst RECEIPTS_DEFAULT_SERVICE = \"PT\";\nconst getDefaultReceiptService = () => {\n  return RECEIPTS_DEFAULT_SERVICE;\n};\nconst getFinancialYears = (from, to) => {\n  const fromDate = new Date(from);\n  const toDate = new Date(to);\n  if (toDate.getYear() - fromDate.getYear() != 0) {\n    return `FY${fromDate.getYear() + 1900}-${toDate.getYear() - 100}`;\n  }\n  return `${fromDate.toLocaleDateString()}-${toDate.toLocaleDateString()}`;\n};\nconst ReceiptsFilter = ({\n  searchParams,\n  onFilterChange,\n  onSearch,\n  removeParam,\n  ...props\n}) => {\n  const tenantId = Digit.ULBService.getCurrentTenantId() || '';\n  const tenant = Digit.ULBService.getStateId();\n  const [_searchParams, setSearchParams] = useState(() => searchParams);\n  const {\n    t\n  } = useTranslation();\n  const defaultService = getDefaultReceiptService();\n  const [status, setStatus] = useState([]);\n  const [service, setService] = useState({\n    name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`,\n    code: defaultService\n  });\n  const {\n    data,\n    isLoading,\n    ...rest\n  } = Digit.Hooks.receipts.useReceiptsMDMS(tenant, \"CancelReceiptReasonAndStatus\");\n  const mdmsStatus = (data === null || data === void 0 ? void 0 : data.dropdownDataStatus) || [];\n  useEffect(() => {\n    if ((service === null || service === void 0 ? void 0 : service.code) != _searchParams.businessServices) {\n      setSearchParams({\n        businessServices: service === null || service === void 0 ? void 0 : service.code\n      });\n    }\n  }, [service]);\n  useEffect(() => {\n    if (status) {\n      setSearchParams({\n        status: status.join(',')\n      });\n    }\n  }, [status]);\n  const onCheckBoxClick = value => {\n    if (status.includes(value)) {\n      status.splice(status.findIndex(x => x == value), 1);\n    } else {\n      status.push(value);\n    }\n    setStatus([...status]);\n  };\n  const clearAll = () => {\n    var _props$onClose;\n    onFilterChange({\n      delete: Object.keys(searchParams)\n    }, true);\n    setStatus([]);\n    setService({\n      name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`,\n      code: defaultService\n    });\n    props === null || props === void 0 ? void 0 : (_props$onClose = props.onClose) === null || _props$onClose === void 0 ? void 0 : _props$onClose.call(props);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-card\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"heading\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"COMMON_TABLE_FILTERS\"), \":\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"clearAll\",\n    onClick: clearAll\n  }, t(\"CR_COMMON_CLEAR_ALL\")), props.type === \"desktop\" && /*#__PURE__*/React.createElement(\"span\", {\n    className: \"clear-search\",\n    onClick: clearAll,\n    style: {\n      border: \"1px solid #e0e0e0\",\n      padding: \"6px\"\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"17\",\n    height: \"17\",\n    viewBox: \"0 0 16 22\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z\",\n    fill: \"#505A5F\"\n  }))), props.type === \"mobile\" && /*#__PURE__*/React.createElement(\"span\", {\n    onClick: props.onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"CR_COMMON_TABLE_COL_STATUS\")), mdmsStatus.map((sta, index) => /*#__PURE__*/React.createElement(CheckBox, {\n    key: index + \"service\",\n    label: t(sta === null || sta === void 0 ? void 0 : sta.name),\n    value: sta === null || sta === void 0 ? void 0 : sta.code,\n    checked: status.includes(sta === null || sta === void 0 ? void 0 : sta.code),\n    onChange: event => onCheckBoxClick(event.target.value)\n  })), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filter-label\"\n  }, t(\"CR_SERVICE_CATEGORY_LABEL\")), /*#__PURE__*/React.createElement(Dropdown, {\n    t: t,\n    option: (data === null || data === void 0 ? void 0 : data.dropdownData) || null,\n    value: service,\n    selected: service,\n    select: setService,\n    optionKey: \"name\"\n  })), props.type !== \"mobile\" && /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(SubmitBar, {\n    onSubmit: () => {\n      var _props$onClose2;\n      onFilterChange(_searchParams);\n      props === null || props === void 0 ? void 0 : (_props$onClose2 = props.onClose) === null || _props$onClose2 === void 0 ? void 0 : _props$onClose2.call(props);\n    },\n    label: t(\"ACTION_TEST_APPLY\")\n  })), props.type === \"mobile\" && /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(ApplyFilterBar, {\n    submit: false,\n    labelLink: t(\"ES_COMMON_CLEAR_ALL\"),\n    buttonLink: t(\"ACTION_TEST_APPLY\"),\n    onSubmit: () => {\n      var _props$onClose3;\n      onFilterChange(_searchParams);\n      props === null || props === void 0 ? void 0 : (_props$onClose3 = props.onClose) === null || _props$onClose3 === void 0 ? void 0 : _props$onClose3.call(props);\n    },\n    onClear: () => {\n      var _props$onClose4;\n      clearAll();\n      props === null || props === void 0 ? void 0 : (_props$onClose4 = props.onClose) === null || _props$onClose4 === void 0 ? void 0 : _props$onClose4.call(props);\n    },\n    style: {\n      flex: 1\n    }\n  })))))));\n};\nconst EmployeeApp = ({\n  path,\n  url,\n  userType\n}) => {\n  const {\n    t\n  } = useTranslation();\n  const location = useLocation();\n  const mobileView = innerWidth <= 640;\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const inboxInitialState = {\n    searchParams: {\n      tenantId: tenantId,\n      businessServices: getDefaultReceiptService()\n    }\n  };\n  const ReceiptInbox = Digit.ComponentRegistryService.getComponent(\"ReceiptInbox\");\n  const ReceiptAcknowledgement = Digit.ComponentRegistryService.getComponent(\"ReceiptAcknowledgement\");\n  const ReceiptDetails = Digit.ComponentRegistryService.getComponent(\"ReceiptDetails\");\n  return /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ground-container\"\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"breadcrumb\",\n    style: {\n      marginLeft: mobileView ? \"2vw\" : \"revert\"\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/digit-ui/employee\",\n    style: {\n      cursor: \"pointer\",\n      color: \"#666\"\n    }\n  }, t(\"ES_COMMON_HOME\")), \" \", \"/ \", /*#__PURE__*/React.createElement(\"span\", null, location.pathname === \"/digit-ui/employee/receipts/inbox\" ? t(\"CR_COMMON_HEADER\") : t(\"CR_COMMON_HEADER\"))), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: `${path}/inbox`,\n    component: () => /*#__PURE__*/React.createElement(ReceiptInbox, {\n      parentRoute: path,\n      businessService: \"receipts\",\n      filterComponent: \"RECEIPTS_INBOX_FILTER\",\n      initialStates: inboxInitialState,\n      isInbox: true\n    })\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: `${path}/inprogress`,\n    component: props => /*#__PURE__*/React.createElement(\"h2\", null, t(\"CR_RECEIPTS_SCREENS_UNDER_CONSTRUCTION\"))\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: `${path}/response`,\n    component: props => /*#__PURE__*/React.createElement(ReceiptAcknowledgement, Object.assign({}, props, {\n      parentRoute: path\n    }))\n  }), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: `${path}/details/:service/:id`,\n    component: () => /*#__PURE__*/React.createElement(ReceiptDetails, null)\n  }))));\n};\nconst printReciept = async (businessService, consumerCode) => {\n  await Digit.Utils.downloadReceipt(consumerCode, businessService, 'consolidatedreceipt');\n};\nconst GetMessage = (type, action, isSuccess, isEmployee, t) => {\n  return t(`CR_APPLY_${isSuccess ? \"SUCCESS\" : \"FAILURE\"}_MESSAGE_MAIN`);\n};\nconst GetActionMessage = (action, isSuccess, isEmployee, t) => {\n  return GetMessage(\"ACTION\", action, isSuccess, isEmployee, t);\n};\nconst BannerPicker = props => {\n  var _props$data, _props$data$Payments, _props$data$Payments$;\n  return /*#__PURE__*/React.createElement(Banner$1, {\n    message: GetActionMessage(props.action, props.isSuccess, props.isEmployee, props.t),\n    applicationNumber: props === null || props === void 0 ? void 0 : (_props$data = props.data) === null || _props$data === void 0 ? void 0 : (_props$data$Payments = _props$data.Payments) === null || _props$data$Payments === void 0 ? void 0 : (_props$data$Payments$ = _props$data$Payments[0]) === null || _props$data$Payments$ === void 0 ? void 0 : _props$data$Payments$.paymentDetails[0].receiptNumber,\n    info: props.isSuccess ? props.t(\"CR_RECEIPT_NUMBER\") : \"\",\n    successful: props.isSuccess\n  });\n};\nconst ReceiptAcknowledgement = props => {\n  var _mutation$data, _successData$Payments;\n  const {\n    t\n  } = useTranslation();\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const {\n    state\n  } = props.location;\n  const mutation = Digit.Hooks.receipts.useReceiptsUpdate(tenantId, state === null || state === void 0 ? void 0 : state.businessService);\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\n  useEffect(() => {\n    if (mutation.data) setsuccessData(mutation.data);\n  }, [mutation.data]);\n  const onError = (error, variables) => {\n    var _error$response, _error$response$data, _error$response$data$;\n    setErrorInfo((error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : (_error$response$data$ = _error$response$data.Errors[0]) === null || _error$response$data$ === void 0 ? void 0 : _error$response$data$.code) || 'ERROR');\n    setMutationHappened(true);\n  };\n  useEffect(() => {\n    const onSuccess = () => {\n      setMutationHappened(true);\n    };\n    if (state.key === \"UPDATE\" && !mutationHappened && !errorInfo) {\n      mutation.mutate({\n        paymentWorkflows: [state.paymentWorkflow]\n      }, {\n        onError,\n        onSuccess\n      });\n    }\n  }, []);\n  const DisplayText = (action, isSuccess, isEmployee, t) => {\n    if (!isSuccess) {\n      var _mutation$error, _mutation$error$respo, _mutation$error$respo2;\n      return (mutation === null || mutation === void 0 ? void 0 : (_mutation$error = mutation.error) === null || _mutation$error === void 0 ? void 0 : (_mutation$error$respo = _mutation$error.response) === null || _mutation$error$respo === void 0 ? void 0 : (_mutation$error$respo2 = _mutation$error$respo.data) === null || _mutation$error$respo2 === void 0 ? void 0 : _mutation$error$respo2.Errors[0].code) || errorInfo;\n    } else {\n      Digit.SessionStorage.set(\"isupdate\", Math.floor(100000 + Math.random() * 900000));\n      return t('CR_APPLY_FORWARD_SUCCESS');\n    }\n  };\n  if (mutation.isLoading || mutation.isIdle && !mutationHappened) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  const Payment = (mutation === null || mutation === void 0 ? void 0 : (_mutation$data = mutation.data) === null || _mutation$data === void 0 ? void 0 : _mutation$data.Payments[0]) || (successData === null || successData === void 0 ? void 0 : (_successData$Payments = successData.Payments) === null || _successData$Payments === void 0 ? void 0 : _successData$Payments[0]);\n  const isSuccess = !successData ? mutation === null || mutation === void 0 ? void 0 : mutation.isSuccess : true;\n  return /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(BannerPicker, {\n    t: t,\n    data: (mutation === null || mutation === void 0 ? void 0 : mutation.data) || successData,\n    action: state.action,\n    isSuccess: isSuccess,\n    isLoading: mutation.isIdle && !mutationHappened || (mutation === null || mutation === void 0 ? void 0 : mutation.isLoading),\n    isEmployee: props.parentRoute.includes(\"employee\")\n  }), /*#__PURE__*/React.createElement(CardText, null, t(DisplayText(state.action, isSuccess, props.parentRoute.includes(\"employee\"), t), t)), isSuccess && /*#__PURE__*/React.createElement(CardText, null, /*#__PURE__*/React.createElement(LinkButton, {\n    label: /*#__PURE__*/React.createElement(\"div\", {\n      className: \"response-download-button\"\n    }, /*#__PURE__*/React.createElement(\"span\", null, /*#__PURE__*/React.createElement(\"svg\", {\n      width: \"20\",\n      height: \"18\",\n      viewBox: \"0 0 20 18\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M17 5H3C1.34 5 0 6.34 0 8V14H4V18H16V14H20V8C20 6.34 18.66 5 17 5ZM14 16H6V11H14V16ZM17 9C16.45 9 16 8.55 16 8C16 7.45 16.45 7 17 7C17.55 7 18 7.45 18 8C18 8.55 17.55 9 17 9ZM16 0H4V4H16V0Z\",\n      fill: \"#a82227\"\n    }))), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"download-button\"\n    }, t(\"COMMON_TABLE_PRINT\"))),\n    style: {\n      width: \"100px\"\n    },\n    onClick: () => {\n      var _Payment$paymentDetai, _Payment$paymentDetai2, _Payment$paymentDetai3;\n      printReciept(Payment === null || Payment === void 0 ? void 0 : (_Payment$paymentDetai = Payment.paymentDetails[0]) === null || _Payment$paymentDetai === void 0 ? void 0 : _Payment$paymentDetai.businessService, Payment === null || Payment === void 0 ? void 0 : (_Payment$paymentDetai2 = Payment.paymentDetails[0]) === null || _Payment$paymentDetai2 === void 0 ? void 0 : (_Payment$paymentDetai3 = _Payment$paymentDetai2.bill) === null || _Payment$paymentDetai3 === void 0 ? void 0 : _Payment$paymentDetai3.consumerCode);\n    }\n  })), /*#__PURE__*/React.createElement(ActionBar, null, /*#__PURE__*/React.createElement(Link, {\n    to: `${props.parentRoute.includes(\"employee\") ? \"/digit-ui/employee\" : \"/digit-ui/citizen\"}`\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CORE_COMMON_GO_TO_HOME\")\n  }))));\n};\nconst canCancelReceipt = (Receipt = {}) => {\n  return (Receipt === null || Receipt === void 0 ? void 0 : Receipt.paymentStatus) !== \"CANCELLED\" && (Receipt === null || Receipt === void 0 ? void 0 : Receipt.paymentStatus) !== \"DEPOSITED\" && ((Receipt === null || Receipt === void 0 ? void 0 : Receipt.instrumentStatus) == \"APPROVED\" || (Receipt === null || Receipt === void 0 ? void 0 : Receipt.instrumentStatus) == \"REMITTED\");\n};\nconst ReceiptDetails = () => {\n  var _data$Payments, _data$Payments2, _PaymentReceipt$payme, _PaymentReceipt$payme2, _PaymentReceipt$payme3, _PaymentReceipt$payme4, _PaymentReceipt$payme5, _PaymentReceipt$payme6, _PaymentReceipt$payme7, _PaymentReceipt$payme8, _PaymentReceipt$payme9, _PaymentReceipt$payme10, _PaymentReceipt$payme11, _PaymentReceipt$payme12, _PaymentReceipt$payme13;\n  const [showModal, setShowModal] = useState(false);\n  const {\n    t\n  } = useTranslation();\n  const {\n    id: receiptId,\n    service: businessService\n  } = useParams();\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const isupdate = Digit.SessionStorage.get(\"isupdate\");\n  const {\n    isLoading,\n    isError,\n    error,\n    data,\n    ...rest\n  } = Digit.Hooks.receipts.useReceiptsSearch({\n    receiptNumbers: decodeURIComponent(receiptId),\n    businessServices: businessService\n  }, tenantId, {}, isupdate);\n  const cancelReceipt = () => {\n    setShowModal(true);\n  };\n  const closeModal = () => {\n    setShowModal(false);\n  };\n  const submitAction = data => {};\n  useEffect(() => {\n    return () => {\n      rest === null || rest === void 0 ? void 0 : rest.revalidate();\n    };\n  }, []);\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\n  useEffect(() => {\n    setMutationHappened(false);\n    clearSuccessData();\n    clearError();\n  }, []);\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  const PaymentReceipt = !isLoading && (data === null || data === void 0 ? void 0 : (_data$Payments = data.Payments) === null || _data$Payments === void 0 ? void 0 : _data$Payments.length) > 0 ? data.Payments[0] : {};\n  const pendingDue = (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.totalDue) - (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.totalAmountPaid);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"30%\",\n      fontFamily: \"calibri\",\n      color: \"#FF0000\"\n    }\n  }, /*#__PURE__*/React.createElement(Header, null, t(\"CR_RECEIPT_SUMMARY\"))), !isLoading && (data === null || data === void 0 ? void 0 : (_data$Payments2 = data.Payments) === null || _data$Payments2 === void 0 ? void 0 : _data$Payments2.length) > 0 ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Card, null, /*#__PURE__*/React.createElement(StatusTable, null, /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_NUMBER\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme === void 0 ? void 0 : _PaymentReceipt$payme.receiptNumber) || \"NA\",\n    textStyle: {\n      whiteSpace: \"pre\"\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_CONSUMER_NUMBER\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme2 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme2 === void 0 ? void 0 : (_PaymentReceipt$payme3 = _PaymentReceipt$payme2.bill) === null || _PaymentReceipt$payme3 === void 0 ? void 0 : _PaymentReceipt$payme3.consumerCode) || \"NA\",\n    textStyle: {\n      whiteSpace: \"pre\"\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PAYMENT_DATE\"),\n    text: convertEpochToDate(PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme4 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme4 === void 0 ? void 0 : _PaymentReceipt$payme4.receiptDate) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PAYER_NAME\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.payerName) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PAYER_NUMBER\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.mobileNumber) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_SERVICE_TYPE\"),\n    text: t(convertToLocale(PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme5 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme5 === void 0 ? void 0 : _PaymentReceipt$payme5.businessService, 'BILLINGSERVICE_BUSINESSSERVICE')) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_BILL_PERIOD\"),\n    text: getFinancialYears(PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme6 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme6 === void 0 ? void 0 : (_PaymentReceipt$payme7 = _PaymentReceipt$payme6.bill) === null || _PaymentReceipt$payme7 === void 0 ? void 0 : (_PaymentReceipt$payme8 = _PaymentReceipt$payme7.billDetails[0]) === null || _PaymentReceipt$payme8 === void 0 ? void 0 : _PaymentReceipt$payme8.fromPeriod, PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme9 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme9 === void 0 ? void 0 : (_PaymentReceipt$payme10 = _PaymentReceipt$payme9.bill) === null || _PaymentReceipt$payme10 === void 0 ? void 0 : (_PaymentReceipt$payme11 = _PaymentReceipt$payme10.billDetails[0]) === null || _PaymentReceipt$payme11 === void 0 ? void 0 : _PaymentReceipt$payme11.toPeriod) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_AMOUNT\"),\n    text: '₹' + (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.totalAmountPaid) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PENDING_AMOUNT\"),\n    text: '₹' + pendingDue || \"₹0\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_PAYMENT_MODE\"),\n    text: PaymentReceipt !== null && PaymentReceipt !== void 0 && PaymentReceipt.paymentMode ? t(`COMMON_MASTERS_PAYMENTMODE_${PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.paymentMode}`) || \"NA\" : \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_TXN_ID\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : PaymentReceipt.transactionNumber) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_G8_RECEIPT_NO\"),\n    text: (PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme12 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme12 === void 0 ? void 0 : _PaymentReceipt$payme12.manualReceiptNumber) || \"NA\"\n  }), /*#__PURE__*/React.createElement(Row, {\n    label: t(\"CR_RECEIPT_G8_RECEIPT_DATE\"),\n    text: convertEpochToDate(PaymentReceipt === null || PaymentReceipt === void 0 ? void 0 : (_PaymentReceipt$payme13 = PaymentReceipt.paymentDetails[0]) === null || _PaymentReceipt$payme13 === void 0 ? void 0 : _PaymentReceipt$payme13.manualReceiptDate) || \"NA\"\n  })))) : null, showModal ? /*#__PURE__*/React.createElement(ActionModal, {\n    t: t,\n    tenantId: tenantId,\n    applicationData: data,\n    closeModal: closeModal,\n    submitAction: submitAction\n  }) : null, /*#__PURE__*/React.createElement(ActionBar, null, canCancelReceipt(PaymentReceipt) && /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CR_CANCEL_RECEIPT_BUTTON\"),\n    onSubmit: () => cancelReceipt()\n  })));\n};\nconst InboxLinks = ({\n  parentRoute,\n  businessService,\n  allLinks,\n  headerText\n}) => {\n  const {\n    t\n  } = useTranslation();\n  const [links, setLinks] = useState([]);\n  const {\n    roles: userRoles\n  } = Digit.UserService.getUser().info;\n  useEffect(() => {\n    let linksToShow = allLinks.filter(e => e.businessService === businessService).filter(({\n      roles\n    }) => roles.some(e => userRoles.map(({\n      code\n    }) => code).includes(e)) || !roles.length);\n    setLinks(linksToShow);\n  }, []);\n  const GetLogo = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"header\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"logo\"\n  }, /*#__PURE__*/React.createElement(AnnouncementIcon, null)), \" \", /*#__PURE__*/React.createElement(\"span\", {\n    className: \"text\"\n  }, t(headerText)));\n  return /*#__PURE__*/React.createElement(Card, {\n    className: \"employeeCard filter inboxLinks\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-links-container\"\n  }, GetLogo(), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"body\"\n  }, links.map(({\n    link,\n    text,\n    hyperlink: _hyperlink = false,\n    accessTo: _accessTo = []\n  }, index) => {\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"link\",\n      key: index\n    }, _hyperlink ? /*#__PURE__*/React.createElement(\"a\", {\n      href: link\n    }, t(text)) : /*#__PURE__*/React.createElement(Link, {\n      to: link\n    }, t(text)));\n  }))));\n};\nconst ApplicationTable = ({\n  t,\n  columns,\n  data,\n  getCellProps,\n  onNextPage,\n  onPrevPage,\n  currentPage,\n  totalRecords,\n  pageSizeLimit,\n  onPageSizeChange,\n  onLastPage,\n  onFirstPage\n}) => /*#__PURE__*/React.createElement(Table, {\n  t: t,\n  data: data,\n  manualPagination: true,\n  columns: columns,\n  getCellProps: getCellProps,\n  onNextPage: onNextPage,\n  onPrevPage: onPrevPage,\n  currentPage: currentPage,\n  totalRecords: totalRecords,\n  onLastPage: onLastPage,\n  onFirstPage: onFirstPage,\n  onPageSizeChange: onPageSizeChange,\n  pageSizeLimit: pageSizeLimit\n});\nconst fieldComponents = {\n  date: DatePicker,\n  mobileNumber: MobileNumber\n};\nconst SearchApplication = ({\n  onSearch,\n  type,\n  onClose,\n  searchFields,\n  searchParams,\n  isInboxPage,\n  defaultSearchParams,\n  clearSearch: _clearSearch\n}) => {\n  var _searchFields$filter;\n  const {\n    t\n  } = useTranslation();\n  const {\n    register,\n    handleSubmit,\n    reset,\n    watch,\n    control,\n    setError,\n    clearErrors,\n    formState\n  } = useForm({\n    defaultValues: searchParams\n  });\n  const form = watch();\n  const mobileView = innerWidth <= 640;\n  useEffect(() => {\n    searchFields.forEach(({\n      pattern,\n      name,\n      maxLength,\n      minLength,\n      errorMessages,\n      ...el\n    }) => {\n      const value = form[name];\n      const error = formState.errors[name];\n      if (pattern) {\n        if (!new RegExp(pattern).test(value) && !error) setError(name, {\n          type: \"pattern\",\n          message: t(errorMessages === null || errorMessages === void 0 ? void 0 : errorMessages.pattern) || t(`PATTERN_${name.toUpperCase()}_FAILED`)\n        });else if (new RegExp(pattern).test(value) && (error === null || error === void 0 ? void 0 : error.type) === \"pattern\") clearErrors([name]);\n      }\n      if (minLength) {\n        if ((value === null || value === void 0 ? void 0 : value.length) < minLength && !error) setError(name, {\n          type: \"minLength\",\n          message: t((errorMessages === null || errorMessages === void 0 ? void 0 : errorMessages.minLength) || `MINLENGTH_${name.toUpperCase()}_FAILED`)\n        });else if ((value === null || value === void 0 ? void 0 : value.length) >= minLength && (error === null || error === void 0 ? void 0 : error.type) === \"minLength\") clearErrors([name]);\n      }\n      if (maxLength) {\n        if ((value === null || value === void 0 ? void 0 : value.length) > maxLength && !error) setError(name, {\n          type: \"maxLength\",\n          message: t((errorMessages === null || errorMessages === void 0 ? void 0 : errorMessages.maxLength) || `MAXLENGTH_${name.toUpperCase()}_FAILED`)\n        });else if ((value === null || value === void 0 ? void 0 : value.length) <= maxLength && (error === null || error === void 0 ? void 0 : error.type) === \"maxLength\") clearErrors([name]);\n      }\n    });\n  }, [form, formState, setError, clearErrors]);\n  const onSubmitInput = data => {\n    {\n      if (!data.mobileNumber) {\n        delete data.mobileNumber;\n      }\n      data.delete = [];\n      searchFields.forEach(field => {\n        if (!data[field.name]) data.delete.push(field.name);\n      });\n      onSearch(data);\n      if (type === \"mobile\") {\n        onClose();\n      }\n    }\n  };\n  function clearSearch() {\n    const resetValues = searchFields.reduce((acc, field) => ({\n      ...acc,\n      [field === null || field === void 0 ? void 0 : field.name]: \"\"\n    }), {});\n    reset(resetValues);\n    const _newParams = {\n      ...searchParams\n    };\n    _newParams.delete = [];\n    searchFields.forEach(e => {\n      _newParams.delete.push(e === null || e === void 0 ? void 0 : e.name);\n    });\n    onSearch({\n      ..._newParams\n    }, true);\n    if (type === \"mobile\") {\n      onClose();\n    }\n  }\n  const clearAll = mobileView => {\n    const mobileViewStyles = mobileView ? {\n      margin: 0\n    } : {};\n    return /*#__PURE__*/React.createElement(LinkLabel, {\n      style: {\n        display: \"inline\",\n        ...mobileViewStyles\n      },\n      onClick: clearSearch\n    }, t(\"CR_RESET_BUTTON\"));\n  };\n  return /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmitInput)\n  }, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-container\",\n    style: {\n      width: \"auto\",\n      marginLeft: isInboxPage ? \"24px\" : \"revert\"\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-complaint-container\"\n  }, (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-header\",\n    style: {\n      display: 'flex',\n      justifyContent: \"space-between\"\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", null, t(\"ES_COMMON_SEARCH_BY\")), /*#__PURE__*/React.createElement(\"span\", {\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(CloseSvg, null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"complaint-input-container\",\n    style: {\n      width: \"100%\"\n    }\n  }, searchFields === null || searchFields === void 0 ? void 0 : (_searchFields$filter = searchFields.filter(e => true)) === null || _searchFields$filter === void 0 ? void 0 : _searchFields$filter.map((input, index) => {\n    var _formState$dirtyField, _formState$errors, _formState$errors$inp;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: input.name,\n      className: \"input-fields\"\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"mobile-input\"\n    }, /*#__PURE__*/React.createElement(Label, null, t(input.label)), !input.type ? /*#__PURE__*/React.createElement(Controller, {\n      render: props => {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          className: \"field-container\"\n        }, input !== null && input !== void 0 && input.componentInFront ? /*#__PURE__*/React.createElement(\"span\", {\n          className: \"employee-card-input employee-card-input--front\",\n          style: {\n            flex: \"none\"\n          }\n        }, input === null || input === void 0 ? void 0 : input.componentInFront) : null, /*#__PURE__*/React.createElement(TextInput, Object.assign({}, input, {\n          inputRef: register,\n          watch: watch,\n          shouldUpdate: true\n        })));\n      },\n      name: input.name,\n      control: control,\n      defaultValue: \"\"\n    }) : /*#__PURE__*/React.createElement(Controller, {\n      render: props => {\n        const Comp = fieldComponents === null || fieldComponents === void 0 ? void 0 : fieldComponents[input.type];\n        return /*#__PURE__*/React.createElement(Comp, {\n          onChange: props.onChange,\n          value: props.value\n        });\n      },\n      name: input.name,\n      control: control,\n      defaultValue: \"\"\n    })), formState !== null && formState !== void 0 && (_formState$dirtyField = formState.dirtyFields) !== null && _formState$dirtyField !== void 0 && _formState$dirtyField[input.name] ? /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        fontWeight: \"700\",\n        color: \"rgba(212, 53, 28)\",\n        paddingLeft: \"8px\",\n        marginTop: \"-20px\",\n        fontSize: \"12px\"\n      },\n      className: \"inbox-search-form-error\"\n    }, formState === null || formState === void 0 ? void 0 : (_formState$errors = formState.errors) === null || _formState$errors === void 0 ? void 0 : (_formState$errors$inp = _formState$errors[input.name]) === null || _formState$errors$inp === void 0 ? void 0 : _formState$errors$inp.message) : null);\n  }), type === \"desktop\" && !mobileView && !isInboxPage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-action-wrapper\"\n  }, /*#__PURE__*/React.createElement(SubmitBar, {\n    className: \"submit-bar-search\",\n    label: t(\"CR_SEARCH_BUTTON\"),\n    submit: true\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"100%\",\n      textAlign: \"right\",\n      width: \"240px\",\n      textAlign: \"right\",\n      marginLeft: \"96px\",\n      marginTop: \"8px\"\n    }\n  }, clearAll()))), isInboxPage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-action-container\"\n  }, type === \"desktop\" && !mobileView && /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      paddingTop: \"9px\"\n    },\n    className: \"clear-search\"\n  }, clearAll()), type === \"desktop\" && !mobileView && /*#__PURE__*/React.createElement(SubmitBar, {\n    style: {\n      marginTop: \"unset\"\n    },\n    className: \"submit-bar-search\",\n    label: t(\"CR_SEARCH_BUTTON\"),\n    submit: true\n  })))), (type === \"mobile\" || mobileView) && /*#__PURE__*/React.createElement(ActionBar, {\n    className: \"clear-search-container\"\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"clear-search\",\n    style: {\n      flex: 1\n    }\n  }, clearAll(mobileView)), /*#__PURE__*/React.createElement(SubmitBar, {\n    label: t(\"CR_SEARCH_BUTTON\"),\n    style: {\n      flex: 1\n    },\n    submit: true\n  }))));\n};\nconst ReceiptsDesktopInbox = ({\n  tableConfig,\n  filterComponent,\n  ...props\n}) => {\n  var _props$data;\n  const {\n    t\n  } = useTranslation();\n  const tenantIds = Digit.SessionStorage.get(\"HRMS_TENANTS\");\n  const GetCell = value => /*#__PURE__*/React.createElement(\"span\", {\n    className: \"cell-text\"\n  }, t(value));\n  const GetDateCell = value => {\n    const date = new Date(value);\n    return /*#__PURE__*/React.createElement(\"span\", {\n      className: \"cell-text\"\n    }, date === null || date === void 0 ? void 0 : date.toLocaleDateString());\n  };\n  const GetSlaCell = (value, t, prefix = '') => {\n    return value == \"CANCELLED\" ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sla-cell-error\"\n    }, t(`${prefix}${value}`) || \"\") : /*#__PURE__*/React.createElement(\"span\", {\n      className: \"sla-cell-success\"\n    }, t(`${prefix}${value}`) || \"\");\n  };\n  const data = props === null || props === void 0 ? void 0 : (_props$data = props.data) === null || _props$data === void 0 ? void 0 : _props$data.Payments;\n  const [FilterComponent, setComp] = useState(() => {\n    var _Digit$ComponentRegis;\n    return (_Digit$ComponentRegis = Digit.ComponentRegistryService) === null || _Digit$ComponentRegis === void 0 ? void 0 : _Digit$ComponentRegis.getComponent(filterComponent);\n  });\n  const columns = React.useMemo(() => {\n    return [{\n      Header: t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\"),\n      disableSortBy: true,\n      Cell: ({\n        row\n      }) => {\n        var _row$original, _row$original$payment, _row$original2, _row$original2$paymen, _row$original3, _row$original3$paymen;\n        return /*#__PURE__*/React.createElement(\"span\", {\n          className: \"link\"\n        }, /*#__PURE__*/React.createElement(Link, {\n          to: `/digit-ui/employee/receipts/details/${(_row$original = row.original) === null || _row$original === void 0 ? void 0 : (_row$original$payment = _row$original.paymentDetails[0]) === null || _row$original$payment === void 0 ? void 0 : _row$original$payment.businessService}/${encodeURIComponent((_row$original2 = row.original) === null || _row$original2 === void 0 ? void 0 : (_row$original2$paymen = _row$original2.paymentDetails[0]) === null || _row$original2$paymen === void 0 ? void 0 : _row$original2$paymen.receiptNumber)}`\n        }, (_row$original3 = row.original) === null || _row$original3 === void 0 ? void 0 : (_row$original3$paymen = _row$original3.paymentDetails[0]) === null || _row$original3$paymen === void 0 ? void 0 : _row$original3$paymen.receiptNumber));\n      }\n    }, {\n      Header: t(\"CR_COMMON_TABLE_COL_DATE\"),\n      disableSortBy: true,\n      Cell: ({\n        row\n      }) => {\n        var _row$original4;\n        return GetDateCell((_row$original4 = row.original) === null || _row$original4 === void 0 ? void 0 : _row$original4.transactionDate);\n      }\n    }, {\n      Header: t(\"CR_COMMON_TABLE_CONSUMERCODE\"),\n      disableSortBy: true,\n      Cell: ({\n        row\n      }) => {\n        var _row$original5, _row$original5$paymen, _row$original5$paymen2;\n        return GetCell(`${(_row$original5 = row.original) === null || _row$original5 === void 0 ? void 0 : (_row$original5$paymen = _row$original5.paymentDetails[0]) === null || _row$original5$paymen === void 0 ? void 0 : (_row$original5$paymen2 = _row$original5$paymen.bill) === null || _row$original5$paymen2 === void 0 ? void 0 : _row$original5$paymen2.consumerCode}`);\n      }\n    }, {\n      Header: t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\"),\n      disableSortBy: true,\n      Cell: ({\n        row\n      }) => {\n        var _row$original6;\n        return GetCell(`${(_row$original6 = row.original) === null || _row$original6 === void 0 ? void 0 : _row$original6.payerName}`);\n      }\n    }, {\n      Header: t(\"CR_SERVICE_TYPE_LABEL\"),\n      disableSortBy: true,\n      Cell: ({\n        row\n      }) => {\n        var _row$original7, _row$original7$paymen;\n        return GetCell(`${t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + ((_row$original7 = row.original) === null || _row$original7 === void 0 ? void 0 : (_row$original7$paymen = _row$original7.paymentDetails[0]) === null || _row$original7$paymen === void 0 ? void 0 : _row$original7$paymen.businessService))}`);\n      }\n    }, {\n      Header: t(\"CR_COMMON_TABLE_COL_STATUS\"),\n      disableSortBy: true,\n      Cell: ({\n        row\n      }) => {\n        var _row$original8;\n        return GetSlaCell(`${(_row$original8 = row.original) === null || _row$original8 === void 0 ? void 0 : _row$original8.paymentStatus}`, t, 'RC_');\n      }\n    }];\n  }, []);\n  let result;\n  if (props.isLoading) {\n    result = /*#__PURE__*/React.createElement(Loader, null);\n  } else if ((data === null || data === void 0 ? void 0 : data.length) === 0) {\n    result = /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: 20\n      }\n    }, t(\"CS_MYAPPLICATIONS_NO_APPLICATION\").split(\"\\\\n\").map((text, index) => /*#__PURE__*/React.createElement(\"p\", {\n      key: index,\n      style: {\n        textAlign: \"center\"\n      }\n    }, text)));\n  } else if ((data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(ApplicationTable, {\n      t: t,\n      data: data,\n      columns: columns,\n      getCellProps: cellInfo => {\n        return {\n          style: {\n            maxWidth: cellInfo.column.Header === t(\"HR_EMP_ID_LABEL\") ? \"140px\" : \"\",\n            padding: \"20px 18px\",\n            fontSize: \"16px\"\n          }\n        };\n      },\n      onPageSizeChange: props.onPageSizeChange,\n      currentPage: props.currentPage,\n      onNextPage: props.onNextPage,\n      onPrevPage: props.onPrevPage,\n      onLastPage: props.onLastPage,\n      onFirstPage: props.onFirstPage,\n      pageSizeLimit: props.pageSizeLimit,\n      onSort: props.onSort,\n      disableSort: props.disableSort,\n      onPageSizeChange: props.onPageSizeChange,\n      sortParams: props.sortParams,\n      totalRecords: props.totalRecords\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, !props.isSearch && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(InboxLinks, {\n    parentRoute: props.parentRoute,\n    allLinks: [{\n      text: \"CR_COMMON_DASHBOARD_HEADER\",\n      link: \"/digit-ui/employee/receipts/inprogress\",\n      businessService: \"receipts\",\n      roles: [\"CR_PT\"]\n    }, {\n      text: \"CR_COMMON_REPORTS_HEADER\",\n      link: \"/digit-ui/employee/receipts/inprogress\",\n      businessService: \"receipts\",\n      roles: [\"CR_PT\"]\n    }],\n    headerText: t(\"ACTION_TEST_RECEIPTS\"),\n    businessService: props.businessService\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(FilterComponent, {\n    defaultSearchParams: props.defaultSearchParams,\n    onFilterChange: props.onFilterChange,\n    searchParams: props.searchParams,\n    type: \"desktop\",\n    tenantIds: tenantIds\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      flex: 1\n    }\n  }, /*#__PURE__*/React.createElement(SearchApplication, {\n    defaultSearchParams: props.defaultSearchParams,\n    onSearch: props.onSearch,\n    type: \"desktop\",\n    tenantIds: tenantIds,\n    searchFields: props.searchFields,\n    isInboxPage: !(props !== null && props !== void 0 && props.isSearch),\n    searchParams: props.searchParams\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"result\",\n    style: {\n      marginLeft: !(props !== null && props !== void 0 && props.isSearch) ? \"24px\" : \"\",\n      flex: 1\n    }\n  }, result)));\n};\nconst ApplicationCard = ({\n  t,\n  data,\n  onFilterChange,\n  onSearch,\n  onSort,\n  serviceRequestIdKey,\n  isFstpOperator,\n  isLoading,\n  isSearch,\n  searchParams,\n  searchFields,\n  sortParams,\n  linkPrefix,\n  removeParam,\n  defaultSearchParams\n}) => {\n  const [type, setType] = useState(isSearch ? \"SEARCH\" : \"\");\n  const [popup, setPopup] = useState(isSearch ? true : false);\n  const [params, setParams] = useState(searchParams);\n  const [_sortparams, setSortParams] = useState(sortParams);\n  useEffect(() => {\n    if (type) setPopup(true);\n  }, [type]);\n  const DSO = Digit.UserService.hasAccess([\"FSM_DSO\"]) || false;\n  const handlePopupClose = () => {\n    setPopup(false);\n    setType(\"\");\n    setParams(searchParams);\n    setSortParams(sortParams);\n  };\n  if (isLoading) {\n    return /*#__PURE__*/React.createElement(Loader, null);\n  }\n  let result;\n  if (!data || (data === null || data === void 0 ? void 0 : data.length) === 0) {\n    result = /*#__PURE__*/React.createElement(Card, {\n      style: {\n        marginTop: 20\n      }\n    }, t(\"CS_MYAPPLICATIONS_NO_APPLICATION\").split(\"\\\\n\").map((text, index) => /*#__PURE__*/React.createElement(\"p\", {\n      key: index,\n      style: {\n        textAlign: \"center\"\n      }\n    }, text)));\n  } else if (data && (data === null || data === void 0 ? void 0 : data.length) > 0) {\n    result = /*#__PURE__*/React.createElement(DetailsCard, {\n      data: data,\n      serviceRequestIdKey: serviceRequestIdKey,\n      linkPrefix: linkPrefix ? linkPrefix : DSO ? \"/digit-ui/employee/fsm/application-details/\" : \"/digit-ui/employee/fsm/\"\n    });\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"searchBox\"\n  }, onSearch && /*#__PURE__*/React.createElement(SearchAction, {\n    text: \"SEARCH\",\n    handleActionClick: () => {\n      setType(\"SEARCH\");\n      setPopup(true);\n    }\n  }), !isSearch && onFilterChange && /*#__PURE__*/React.createElement(FilterAction, {\n    text: \"FILTER\",\n    handleActionClick: () => {\n      setType(\"FILTER\");\n      setPopup(true);\n    }\n  })), result, popup && /*#__PURE__*/React.createElement(PopUp, null, type === \"FILTER\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(ReceiptsFilter, {\n    defaultSearchParams: defaultSearchParams,\n    onFilterChange: onFilterChange,\n    searchParams: searchParams,\n    type: \"mobile\",\n    onClose: handlePopupClose\n  })), type === \"SEARCH\" && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"popup-module\"\n  }, /*#__PURE__*/React.createElement(SearchApplication, {\n    type: \"mobile\",\n    onClose: handlePopupClose,\n    onSearch: onSearch,\n    isFstpOperator: isFstpOperator,\n    searchParams: searchParams,\n    searchFields: searchFields\n  }))));\n};\nconst GetDateCell = value => {\n  const date = new Date(value);\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"sla-cell\"\n  }, date === null || date === void 0 ? void 0 : date.toLocaleDateString());\n};\nconst GetCell = value => /*#__PURE__*/React.createElement(\"span\", {\n  className: \"sla-cell\"\n}, value);\nconst ReceiptsMobileInbox = ({\n  data,\n  isLoading,\n  isSearch,\n  searchFields,\n  onFilterChange,\n  onSearch,\n  onSort,\n  parentRoute,\n  searchParams,\n  sortParams,\n  linkPrefix,\n  tableConfig,\n  filterComponent,\n  allLinks,\n  defaultSearchParams\n}) => {\n  const {\n    t\n  } = useTranslation();\n  const getData = () => {\n    var _data$Payments;\n    return data === null || data === void 0 ? void 0 : (_data$Payments = data.Payments) === null || _data$Payments === void 0 ? void 0 : _data$Payments.map(original => {\n      var _original$paymentDeta, _original$paymentDeta2, _original$paymentDeta3, _original$paymentDeta4;\n      return {\n        [t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")]: original === null || original === void 0 ? void 0 : (_original$paymentDeta = original.paymentDetails[0]) === null || _original$paymentDeta === void 0 ? void 0 : _original$paymentDeta.receiptNumber,\n        [t(\"CR_COMMON_TABLE_COL_DATE\")]: GetDateCell((original === null || original === void 0 ? void 0 : original.transactionDate) || \"\"),\n        [t(\"CR_COMMON_TABLE_CONSUMERCODE\")]: GetCell((original === null || original === void 0 ? void 0 : (_original$paymentDeta2 = original.paymentDetails[0]) === null || _original$paymentDeta2 === void 0 ? void 0 : (_original$paymentDeta3 = _original$paymentDeta2.bill) === null || _original$paymentDeta3 === void 0 ? void 0 : _original$paymentDeta3.consumerCode) || \"\"),\n        [t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\")]: GetCell(original === null || original === void 0 ? void 0 : original.payerName),\n        [t(\"CR_SERVICE_TYPE_LABEL\")]: GetCell(t(`BILLINGSERVICE_BUSINESSSERVICE_${original === null || original === void 0 ? void 0 : (_original$paymentDeta4 = original.paymentDetails[0]) === null || _original$paymentDeta4 === void 0 ? void 0 : _original$paymentDeta4.businessService}`)),\n        [t(\"CR_COMMON_TABLE_COL_STATUS\")]: GetCell(t(`RC_${original === null || original === void 0 ? void 0 : original.paymentStatus}`))\n      };\n    });\n  };\n  const serviceRequestIdKey = original => {\n    return `${searchParams === null || searchParams === void 0 ? void 0 : searchParams.businessServices}/${encodeURIComponent(original === null || original === void 0 ? void 0 : original[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")])}`;\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 0\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"inbox-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"filters-container\"\n  }, /*#__PURE__*/React.createElement(ApplicationCard, {\n    t: t,\n    data: getData(),\n    onFilterChange: onFilterChange,\n    isLoading: isLoading,\n    isSearch: isSearch,\n    onSearch: onSearch,\n    onSort: onSort,\n    defaultSearchParams: defaultSearchParams,\n    searchParams: searchParams,\n    searchFields: searchFields,\n    linkPrefix: linkPrefix,\n    sortParams: sortParams,\n    filterComponent: filterComponent,\n    serviceRequestIdKey: serviceRequestIdKey\n  }))));\n};\nconst ReceiptInbox = ({\n  parentRoute,\n  businessService: _businessService = \"receipts\",\n  initialStates: _initialStates = {},\n  filterComponent,\n  isInbox\n}) => {\n  var _sortParams$, _sortParams$2;\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const isupdate = Digit.SessionStorage.get(\"isupdate\");\n  const {\n    t\n  } = useTranslation();\n  const [pageOffset, setPageOffset] = useState(_initialStates.pageOffset || 0);\n  const [pageSize, setPageSize] = useState(_initialStates.pageSize || 10);\n  const [sortParams, setSortParams] = useState(_initialStates.sortParams || [{\n    id: \"createdTime\",\n    desc: false\n  }]);\n  const [totalRecords, setTotalRecords] = useState(0);\n  const [searchParams, setSearchParams] = useState(() => {\n    return _initialStates.searchParams || {};\n  });\n  const {\n    isLoading: countLoading,\n    data: countData,\n    ...rest1\n  } = Digit.Hooks.receipts.useReceiptsSearch({\n    ...searchParams,\n    isCountRequest: true\n  }, tenantId, [], isupdate);\n  let isMobile = window.Digit.Utils.browser.isMobile();\n  let paginationParams = isMobile ? {\n    limit: 100,\n    offset: pageOffset,\n    sortOrder: sortParams !== null && sortParams !== void 0 && (_sortParams$ = sortParams[0]) !== null && _sortParams$ !== void 0 && _sortParams$.desc ? \"DESC\" : \"ASC\"\n  } : {\n    limit: pageSize,\n    offset: pageOffset,\n    sortOrder: sortParams !== null && sortParams !== void 0 && (_sortParams$2 = sortParams[0]) !== null && _sortParams$2 !== void 0 && _sortParams$2.desc ? \"DESC\" : \"ASC\"\n  };\n  const {\n    isLoading: hookLoading,\n    isError,\n    error,\n    data,\n    ...rest\n  } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, paginationParams, isupdate);\n  useEffect(() => {\n    return () => {\n      rest === null || rest === void 0 ? void 0 : rest.revalidate();\n    };\n  }, []);\n  useEffect(() => {\n    setTotalRecords(countData === null || countData === void 0 ? void 0 : countData.Count);\n  }, [countData]);\n  useEffect(() => {\n    setPageOffset(0);\n  }, [searchParams]);\n  const fetchNextPage = () => {\n    setPageOffset(prevState => prevState + pageSize);\n  };\n  const fetchPrevPage = () => {\n    setPageOffset(prevState => prevState - pageSize);\n  };\n  const fetchLastPage = () => {\n    setPageOffset(prevState => (countData === null || countData === void 0 ? void 0 : countData.Count) && Math.ceil((countData === null || countData === void 0 ? void 0 : countData.Count) / 10) * 10 - pageSize);\n  };\n  const fetchFirstPage = () => {\n    setPageOffset(prevState => 0);\n  };\n  const handleFilterChange = (filterParam, reset = false) => {\n    if (!reset) {\n      let keys_to_delete = filterParam.delete;\n      let _new = {\n        ...searchParams,\n        ...filterParam\n      };\n      if (keys_to_delete) keys_to_delete.forEach(key => delete _new[key]);\n      delete _new.delete;\n      setSearchParams({\n        ..._new\n      });\n    } else {\n      setSearchParams({\n        ..._initialStates.searchParams\n      });\n    }\n  };\n  const handleSort = useCallback(args => {\n    if (args.length === 0) return;\n    setSortParams(args);\n  }, []);\n  const handlePageSizeChange = e => {\n    setPageSize(Number(e.target.value));\n  };\n  const getSearchFields = () => {\n    return [{\n      label: t(\"CR_CONSUMER_NO_LABEL\"),\n      name: \"consumerCodes\"\n    }, {\n      label: t(\"CR_RECEPIT_NO_LABEL\"),\n      name: \"receiptNumbers\"\n    }, {\n      label: t(\"CR_MOBILE_NO_LABEL\"),\n      name: \"mobileNumber\",\n      maxlength: 10,\n      pattern: \"[6-9][0-9]{9}\",\n      title: t(\"ES_SEARCH_APPLICATION_MOBILE_INVALID\"),\n      componentInFront: \"+91\"\n    }];\n  };\n  if ((data === null || data === void 0 ? void 0 : data.length) !== null) {\n    if (isMobile) {\n      return /*#__PURE__*/React.createElement(ReceiptsMobileInbox, {\n        businessService: _businessService,\n        data: data,\n        tableConfig: rest === null || rest === void 0 ? void 0 : rest.tableConfig,\n        isLoading: hookLoading,\n        defaultSearchParams: _initialStates.searchParams,\n        isSearch: !isInbox,\n        onFilterChange: handleFilterChange,\n        searchFields: getSearchFields(),\n        onSearch: handleFilterChange,\n        onSort: handleSort,\n        onNextPage: fetchNextPage,\n        onPrevPage: fetchPrevPage,\n        currentPage: Math.floor(pageOffset / pageSize),\n        pageSizeLimit: pageSize,\n        disableSort: false,\n        onPageSizeChange: handlePageSizeChange,\n        parentRoute: parentRoute,\n        searchParams: searchParams,\n        sortParams: sortParams,\n        totalRecords: totalRecords,\n        linkPrefix: '/digit-ui/employee/receipts/details/',\n        filterComponent: filterComponent\n      });\n    } else {\n      return /*#__PURE__*/React.createElement(\"div\", null, isInbox && /*#__PURE__*/React.createElement(Header, null, t(\"CR_SEARCH_COMMON_HEADER\")), /*#__PURE__*/React.createElement(ReceiptsDesktopInbox, {\n        businessService: _businessService,\n        data: data,\n        isLoading: hookLoading,\n        defaultSearchParams: _initialStates.searchParams,\n        isSearch: !isInbox,\n        onFilterChange: handleFilterChange,\n        searchFields: getSearchFields(),\n        onSearch: handleFilterChange,\n        onSort: handleSort,\n        onNextPage: fetchNextPage,\n        onPrevPage: fetchPrevPage,\n        onLastPage: fetchLastPage,\n        onFirstPage: fetchFirstPage,\n        currentPage: Math.floor(pageOffset / pageSize),\n        pageSizeLimit: pageSize,\n        disableSort: false,\n        onPageSizeChange: handlePageSizeChange,\n        parentRoute: parentRoute,\n        searchParams: searchParams,\n        sortParams: sortParams,\n        totalRecords: totalRecords,\n        filterComponent: filterComponent\n      }));\n    }\n  }\n};\nconst ReceiptsCard = () => {\n  if (!Digit.Utils.receiptsAccess()) {\n    return null;\n  }\n  const tenantId = Digit.ULBService.getCurrentTenantId();\n  const {\n    t\n  } = useTranslation();\n  const searchParams = {\n    tenantId: tenantId,\n    businessServices: getDefaultReceiptService(),\n    isCountRequest: true\n  };\n  const {\n    isLoading,\n    isError,\n    error,\n    data,\n    ...rest\n  } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, [], false);\n  const propsForModuleCard = {\n    Icon: /*#__PURE__*/React.createElement(ReceiptIcon, null),\n    moduleName: t(\"ACTION_TEST_RECEIPTS\"),\n    kpis: [{\n      count: isLoading ? \"-\" : data === null || data === void 0 ? void 0 : data.Count,\n      label: t(\"CR_TOTAL_RECEIPTS\"),\n      link: `/digit-ui/employee/receipts/inbox`\n    }],\n    links: [{\n      count: isLoading ? \"-\" : data === null || data === void 0 ? void 0 : data.Count,\n      label: t(\"CR_SEARCH_COMMON_HEADER\"),\n      link: `/digit-ui/employee/receipts/inbox`\n    }]\n  };\n  return /*#__PURE__*/React.createElement(EmployeeModuleCard, propsForModuleCard);\n};\nconst ReceiptsModule = ({\n  stateCode,\n  userType\n}) => {\n  var _state$common;\n  const moduleCode = \"RECEIPTS\";\n  const state = useSelector(state => state);\n  const language = state === null || state === void 0 ? void 0 : (_state$common = state.common) === null || _state$common === void 0 ? void 0 : _state$common.selectedLanguage;\n  const {\n    isLoading,\n    data: store\n  } = Digit.Services.useStore({\n    stateCode,\n    moduleCode,\n    language\n  });\n  const {\n    path,\n    url\n  } = useRouteMatch();\n  if (userType === \"employee\") {\n    return /*#__PURE__*/React.createElement(EmployeeApp, {\n      path: path,\n      url: url,\n      userType: \"employee\"\n    });\n  } else return null;\n};\nconst componentsToRegister = {\n  ReceiptsModule,\n  ReceiptsCard,\n  ReceiptInbox: ReceiptInbox,\n  ReceiptAcknowledgement: ReceiptAcknowledgement,\n  ReceiptDetails: ReceiptDetails,\n  ActionModal,\n  Banner,\n  RECEIPTS_INBOX_FILTER: props => /*#__PURE__*/React.createElement(ReceiptsFilter, props)\n};\nconst initReceiptsComponents = () => {\n  Object.entries(componentsToRegister).forEach(([key, value]) => {\n    Digit.ComponentRegistryService.setComponent(key, value);\n  });\n};\nexport { ReceiptsModule, initReceiptsComponents };","map":{"version":3,"sources":["../src/components/Banner.js","../src/components/Modal/CancelConfig.js","../src/components/ReceiptCancelModal.js","../src/components/Modal/index.js","../src/utils/index.js","../src/components/ReceiptsFilter.js","../src/pages/index.js","../src/pages/ReceiptAcknowledgement.js","../src/pages/ReceiptDetails.js","../src/components/inbox/ApplicationLinks.js","../src/components/inbox/ApplicationTable.js","../src/components/inbox/search.js","../src/components/inbox/ReceiptsDesktopInbox.js","../src/components/inbox/ApplicationCard.js","../src/components/inbox/ReceiptsMobileInbox.js","../src/pages/ReceiptInbox.js","../src/receiptHomeCard.js","../src/Module.js"],"names":["Banner","t","config","React","LabelFieldPair","CardLabel","className","style","color","texts","header","configCancelConfig","selectedReason","Reasons","selectReason","label","heading","submit","form","body","type","isMandatory","name","populators","Dropdown","selected","optionKey","option","select","disable","code","ReceiptCancelModal","action","tenantId","closeModal","submitAction","applicationData","billData","history","useHistory","setConfig","useState","setReasons","selecteReason","tenantIds","Digit","ULBService","getCurrentTenantId","tenant","getStateId","isLoading","isError","errors","data","rest","Hooks","receipts","useReceiptsMDMS","useEffect","Heading","props","e","Close","xmlns","viewBox","fill","d","CloseBtn","onClick","dropdownData","replace","paymentWorkflow","additionalDetails","otherDetails","selectedReasonMessage","paymentId","Payments","id","reason","key","businessService","paymentDetails","Loader","Modal","headerBarMain","headerBarEnd","actionCancelOnSubmit","actionSaveLabel","actionSaveOnSubmit","formId","isDisabled","FormComposer","noBoxShadow","inline","disabled","childrenAtTheBottom","onSubmit","ActionModal","convertEpochToDate","dateEpoch","dateFromApi","Date","month","getMonth","day","getDate","year","getFullYear","stringReplaceAll","str","searcher","replaceWith","includes","checkForNotNull","value","undefined","convertDotValues","replaceAll","convertToLocale","convertedValue","RECEIPTS_DEFAULT_SERVICE","getDefaultReceiptService","getFinancialYears","from","to","fromDate","toDate","getYear","toLocaleDateString","ReceiptsFilter","searchParams","onFilterChange","onSearch","removeParam","_searchParams","setSearchParams","useTranslation","defaultService","status","setStatus","service","setService","mdmsStatus","dropdownDataStatus","businessServices","join","onCheckBoxClick","splice","findIndex","x","push","clearAll","delete","Object","keys","onClose","Fragment","border","padding","width","height","CloseSvg","map","sta","index","CheckBox","checked","onChange","event","target","SubmitBar","ActionBar","ApplyFilterBar","labelLink","buttonLink","onClear","flex","EmployeeApp","path","url","userType","location","useLocation","mobileView","innerWidth","inboxInitialState","ReceiptInbox","ComponentRegistryService","getComponent","ReceiptAcknowledgement","ReceiptDetails","Switch","marginLeft","Link","cursor","pathname","PrivateRoute","component","parentRoute","filterComponent","initialStates","isInbox","printReciept","consumerCode","Utils","downloadReceipt","GetMessage","isSuccess","isEmployee","GetActionMessage","BannerPicker","message","applicationNumber","receiptNumber","info","successful","state","mutation","useReceiptsUpdate","mutationHappened","setMutationHappened","clear","useSessionStorage","errorInfo","setErrorInfo","clearError","successData","setsuccessData","clearSuccessData","onError","error","variables","response","Errors","onSuccess","mutate","paymentWorkflows","DisplayText","SessionStorage","set","Math","floor","random","isIdle","Payment","Card","CardText","LinkButton","bill","canCancelReceipt","Receipt","paymentStatus","instrumentStatus","showModal","setShowModal","receiptId","useParams","isupdate","get","useReceiptsSearch","receiptNumbers","decodeURIComponent","cancelReceipt","revalidate","PaymentReceipt","length","pendingDue","totalDue","totalAmountPaid","fontFamily","Header","StatusTable","Row","text","textStyle","whiteSpace","receiptDate","payerName","mobileNumber","billDetails","fromPeriod","toPeriod","paymentMode","transactionNumber","manualReceiptNumber","manualReceiptDate","InboxLinks","allLinks","headerText","links","setLinks","roles","userRoles","UserService","getUser","linksToShow","filter","some","GetLogo","AnnouncementIcon","link","hyperlink","accessTo","href","ApplicationTable","columns","getCellProps","onNextPage","onPrevPage","currentPage","totalRecords","pageSizeLimit","onPageSizeChange","onLastPage","onFirstPage","Table","manualPagination","fieldComponents","date","DatePicker","MobileNumber","SearchApplication","searchFields","isInboxPage","defaultSearchParams","clearSearch","_clearSearch","register","handleSubmit","reset","watch","control","setError","clearErrors","formState","useForm","defaultValues","forEach","pattern","maxLength","minLength","errorMessages","el","RegExp","test","toUpperCase","onSubmitInput","field","resetValues","reduce","acc","_newParams","mobileViewStyles","margin","LinkLabel","display","justifyContent","input","Label","Controller","render","componentInFront","TextInput","inputRef","shouldUpdate","defaultValue","Comp","dirtyFields","fontWeight","paddingLeft","marginTop","fontSize","textAlign","paddingTop","ReceiptsDesktopInbox","tableConfig","GetCell","GetDateCell","GetSlaCell","prefix","FilterComponent","setComp","useMemo","disableSortBy","Cell","row","original","encodeURIComponent","_row$original3","transactionDate","result","split","cellInfo","maxWidth","column","onSort","disableSort","sortParams","isSearch","ApplicationCard","serviceRequestIdKey","isFstpOperator","linkPrefix","setType","popup","setPopup","params","setParams","_sortparams","setSortParams","DSO","hasAccess","handlePopupClose","DetailsCard","SearchAction","handleActionClick","FilterAction","PopUp","ReceiptsMobileInbox","getData","pageOffset","setPageOffset","pageSize","setPageSize","desc","setTotalRecords","countLoading","countData","rest1","isCountRequest","isMobile","window","browser","paginationParams","limit","offset","sortOrder","hookLoading","Count","fetchNextPage","prevState","fetchPrevPage","fetchLastPage","ceil","fetchFirstPage","handleFilterChange","filterParam","keys_to_delete","_new","handleSort","useCallback","args","handlePageSizeChange","Number","getSearchFields","maxlength","title","ReceiptsCard","receiptsAccess","propsForModuleCard","Icon","ReceiptIcon","moduleName","kpis","count","EmployeeModuleCard","ReceiptsModule","stateCode","moduleCode","useSelector","language","common","selectedLanguage","store","Services","useStore","useRouteMatch","componentsToRegister","RECEIPTS_INBOX_FILTER","initReceiptsComponents","entries","setComponent"],"mappings":";;;;;;AAGA,MAAMA,MAAM,GAAGA,CAAC;EAAEC,CAAC;EAAEC;AAAO,CAAC,KAAK;EAAA,IAAA,aAAA;EAC9B,OAAA,aACIC,KAAAA,CAAAA,aAAAA,CAACC,cAAc,EAAA,IAAA,EAAA,aACXD,KAAAA,CAAAA,aAAAA,CAACE,SAAS,EAAA;IAACC,SAAS,EAAC,oBAAoB;IAACC,KAAK,EAAE;MAAEC,KAAK,EAAE;;KAAW,GAAY,CAAC,EAAA,aAClFL,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMG,SAAS,EAAC,YAAY;IAACC,KAAK,EAAE;MAAEC,KAAK,EAAE;;KAAWP,CAAC,CAACC,MAAM,KAAA,IAAA,IAANA,MAAM,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,aAAA,GAANA,MAAM,CAAEO,KAAK,MAAA,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAbP,aAAAA,CAAeQ,MAAM,CAAQ,CAC3E,CAAC;AACzB,CAAC;ACNM,MAAMC,kBAAkB,GAAGA,CAAC;EAAEV,CAAC;EAAEW,cAAc;EAAEC,OAAO;EAAEC;AAAa,CAAC,KAAK;EAChF,OAAO;IACHC,KAAK,EAAE;MACHC,OAAO,EAAG,kBAAiB;MAC3BC,MAAM,EAAG;KACZ;IACDC,IAAI,EAAE,CACF;MACIC,IAAI,EAAE,CACF;QACIJ,KAAK,EAAEd,CAAC,CAAC,sCAAsC,CAAC;QAChDmB,IAAI,EAAE,UAAU;QAChBC,WAAW,EAAE,IAAI;QACjBC,IAAI,EAAE,QAAQ;QACdC,UAAU,EAAA,aACNpB,KAAAA,CAAAA,aAAAA,CAACqB,QAAQ,EAAA;UAACH,WAAW,EAAA,IAAA;UAACI,QAAQ,EAAEb,cAAe;UAACc,SAAS,EAAC,MAAM;UAACC,MAAM,EAAEd,OAAQ;UAACe,MAAM,EAAEd,YAAa;UAACb,CAAC,EAAEA;SAAI;OAEtH,EACD;QACIc,KAAK,EAAEd,CAAC,CAAC,uBAAuB,CAAC;QACjCmB,IAAI,EAAE,MAAM;QACZG,UAAU,EAAE;UACRD,IAAI,EAAE;SACT;QAEDO,OAAO,EAAE,CAAA,cAAc,KAAA,IAAA,IAAd,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,cAAc,CAAEC,IAAI,KAAI,OAAO,GAAG,KAAK,GAAG;OACtD,EACD;QACIf,KAAK,EAAEd,CAAC,CAAC,uBAAuB,CAAC;QACjCmB,IAAI,EAAE,MAAM;QACZG,UAAU,EAAE;UACRD,IAAI,EAAE,SAAS;UACfO,OAAO,EAAE;SACZ;QACDA,OAAO,EAAE;OACZ;KAER;GAER;AACL,CAAC;ACtCD,MAAME,kBAAkB,GAAGA,CAAC;EAAE9B,CAAC;EAAE+B,MAAM;EAAEC,QAAQ;EAAEC,UAAU;EAAEC,YAAY;EAAEC,eAAe;EAAEC;AAAS,CAAC,KAAK;EAAA,IAAA,aAAA,EAAA,cAAA;EAC3G,MAAMC,OAAO,GAAGC,UAAU,CAAA,CAAE;EAC5B,MAAM,CAACrC,MAAM,EAAEsC,SAAS,CAAC,GAAGC,QAAQ,CAAC,CAAA,CAAE,CAAC;EACxC,MAAM,CAAC5B,OAAO,EAAE6B,UAAU,CAAC,GAAGD,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAAC7B,cAAc,EAAE+B,aAAa,CAAC,GAAGF,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAMG,SAAS,GAAGC,KAAK,CAACC,UAAU,CAACC,kBAAkB,CAAA,CAAE,IAAI,EAAE;EAC7D,MAAMC,MAAM,GAAGH,KAAK,CAACC,UAAU,CAACG,UAAU,CAAA,CAAE;EAC5C,MAAM;IAAEC,SAAS;IAAEC,OAAO;IAAEC,MAAM;IAAEC,IAAI;IAAE,GAAGC;GAAM,GAAGT,KAAK,CAACU,KAAK,CAACC,QAAQ,CAACC,eAAe,CACxFT,MAAM,EACN,qBACF,CAAC;EAEDU,SAAS,CAAC,MAAM;IACd,OAAOlB,SAAS,CACd7B,kBAAkB,CAAC;MACjBV,CAAC;MACDW,cAAc;MACdC,OAAO;MACPC;KACD,CACH,CAAC;GACF,EAAE,CAACD,OAAO,EAAED,cAAc,CAAC,CAAC;EAE7B,MAAM+C,OAAO,GAAIC,KAAK,IAAK;IACzB,OAAA,aAAOzD,KAAAA,CAAAA,aAAAA,CAAAA,IAAAA,EAAAA;MAAIG,SAAS,EAAC;OAAasD,KAAK,CAAC7C,KAAU,CAAC;GACpD;EAED,SAASD,YAAYA,CAAC+C,CAAC,EAAE;IACvBlB,aAAa,CAACkB,CAAC,CAAC;;EAElB,MAAMC,KAAK,GAAGA,CAAAA,KAAAA,aACZ3D,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAK4D,KAAK,EAAC,4BAA4B;IAACC,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC;kBAC/D9D,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAM+D,CAAC,EAAC,iBAAiB;IAACD,IAAI,EAAC;GAAQ,CAAC,EAAA,aACxC9D,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAM+D,CAAC,EAAC;GAAiH,CACtH,CACN;EAED,MAAMC,QAAQ,GAAIP,KAAK,IAAK;IAC1B,OAAA,aACEzD,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;MAAKG,SAAS,EAAC,mBAAmB;MAAC8D,OAAO,EAAER,KAAK,CAACQ;oBAChDjE,KAAAA,CAAAA,aAAAA,CAAC2D,KAAK,EAAA,IAAE,CACL,CAAC;GAET;EAEDJ,SAAS,CAAC,MAAM;IACdhB,UAAU,CAACW,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAEgB,YAAY,CAAC;GAC/B,EAAE,CAAChB,IAAI,CAAC,CAAC;EAGV,SAASpC,MAAMA,CAACoC,IAAI,EAAE;IAAA,IAAA,qBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA;IACpBf,OAAO,CAACgC,OAAO,CAAC,sCAAsC,EAAE;MACtDC,eAAe,EAAE;QACfvC,MAAM,EAAE,QAAQ;QAChBwC,iBAAiB,EAAE;UAAC,GAAGnB,IAAI,CAACoB,YAAY;UAACC,qBAAqB,EAACzE,CAAC,CAAE,aAAYW,cAAc,CAACkB,IAAK,EAAC;SAAE;QACrG6C,SAAS,EAAEvC,eAAe,KAAA,IAAA,IAAfA,eAAe,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAfA,eAAe,CAAEwC,QAAQ,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA5BxC,qBAAAA,CAA8ByC,EAAE;QAC3CC,MAAM,EAAElE,cAAc,CAACkB,IAAI;QAC3BG,QAAQ,EAAEG,eAAe,KAAA,IAAA,IAAfA,eAAe,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAfA,eAAe,CAAEwC,QAAQ,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA5BxC,sBAAAA,CAA8BH;OACzC;MAAE8C,GAAG,EAAE,QAAQ;MAAE/C,MAAM,EAAE,cAAc;MAAEgD,eAAe,EAAE5C,eAAe,KAAA,IAAA,IAAfA,eAAe,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAfA,eAAe,CAAEwC,QAAQ,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAA5BxC,sBAAAA,CAA8B6C,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA/C7C,sBAAAA,CAAiD4C;KAC7G,CAAC;;EAGJ,IAAI9B,SAAS,EAAE;IACb,OAAA,aAAO/C,KAAAA,CAAAA,aAAAA,CAAC+E,MAAM,EAAA,IAAS,CAAC;;EAE1B,OAAOhF,MAAM,KAAA,IAAA,IAANA,MAAM,KAAA,KAAA,CAAA,IAANA,MAAM,CAAEgB,IAAI,GAAA,aACjBf,KAAAA,CAAAA,aAAAA,CAACgF,KAAK,EAAA;IACJC,aAAa,EAAA,aAAEjF,KAAAA,CAAAA,aAAAA,CAACwD,OAAO,EAAA;MAAC5C,KAAK,EAAEd,CAAC,CAACC,MAAM,KAAA,IAAA,IAANA,MAAM,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,aAAA,GAANA,MAAM,CAAEa,KAAK,MAAA,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAbb,aAAAA,CAAec,OAAO;KAAI,CAAE;IAC7DqE,YAAY,EAAA,aAAElF,KAAAA,CAAAA,aAAAA,CAACgE,QAAQ,EAAA;MAACC,OAAO,EAAElC;KAAa,CAAE;IAChDoD,oBAAoB,EAAEpD,UAAW;IACjCqD,eAAe,EAAEtF,CAAC,CAACC,MAAM,KAAA,IAAA,IAANA,MAAM,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,cAAA,GAANA,MAAM,CAAEa,KAAK,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAbb,cAAAA,CAAee,MAAM,CAAE;IAC1CuE,kBAAkB,EAAEA,CAAAA,KAAM,CAAA,CAAI;IAC9BC,MAAM,EAAC,cAAc;IACrBC,UAAU,EAAE,CAAC9E;kBAEbT,KAAAA,CAAAA,aAAAA,CAACwF,YAAY,EAAA;IAACzF,MAAM,EAAEA,MAAM,KAAA,IAAA,IAANA,MAAM,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAANA,MAAM,CAAEgB,IAAK;IAAC0E,WAAW,EAAA,IAAA;IAACC,MAAM,EAAA,IAAA;IAACC,QAAQ,EAAE,IAAK;IAACC,mBAAmB,EAAA,IAAA;IAACC,QAAQ,EAAE/E,MAAO;IAACwE,MAAM,EAAC;GAAgB,CAC/H,CAAC,GAAA,aAERtF,KAAAA,CAAAA,aAAAA,CAAC+E,MAAM,EAAA,IAAE,CACV;AACH,CAAC;AClFD,MAAMe,WAAW,GAAIrC,KAAK,IAAK;EAC7B,OAAA,aAAOzD,KAAAA,CAAAA,aAAAA,CAAC4B,kBAAkB,EAAK6B,KAAQ,CAAC;AAC1C,CAAC;ACJM,MAAMsC,kBAAkB,GAAIC,SAAS,IAAK;EAE7C,IAAIA,SAAS,EAAE;IACX,MAAMC,WAAW,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;IACvC,IAAIG,KAAK,GAAGF,WAAW,CAACG,QAAQ,CAAA,CAAE,GAAG,CAAC;IACtC,IAAIC,GAAG,GAAGJ,WAAW,CAACK,OAAO,CAAA,CAAE;IAC/B,IAAIC,IAAI,GAAGN,WAAW,CAACO,WAAW,CAAA,CAAE;IACpCL,KAAK,GAAG,CAACA,KAAK,GAAG,CAAC,GAAG,EAAE,GAAG,GAAG,IAAIA,KAAK;IACtCE,GAAG,GAAG,CAACA,GAAG,GAAG,CAAC,GAAG,EAAE,GAAG,GAAG,IAAIA,GAAG;IAChC,OAAQ,GAAEA,GAAI,IAAGF,KAAM,IAAGI,IAAK,EAAC;GACnC,MAAM;IACH,OAAO,IAAI;;AAEnB,CAAC;AACM,MAAME,gBAAgB,GAAGA,CAACC,GAAG,GAAG,EAAE,EAAEC,QAAQ,GAAG,EAAE,EAAEC,WAAW,GAAG,EAAE,KAAK;EAC3E,IAAID,QAAQ,IAAI,EAAE,EAAE,OAAOD,GAAG;EAC9B,OAAOA,GAAG,CAACG,QAAQ,CAACF,QAAQ,CAAC,EAAE;IAC3BD,GAAG,GAAGA,GAAG,CAACvC,OAAO,CAACwC,QAAQ,EAAEC,WAAW,CAAC;;EAE5C,OAAOF,GAAG;AACd,CAAC;AAGM,MAAMI,eAAe,GAAGA,CAACC,KAAK,GAAG,EAAE,KAAK;EAC3C,OAAOA,KAAK,IAAIA,KAAK,IAAI,IAAI,IAAIA,KAAK,IAAIC,SAAS,IAAID,KAAK,IAAI,EAAE,GAAG,IAAI,GAAG,KAAK;AACrF,CAAC;AAEM,MAAME,gBAAgB,GAAGA,CAACF,KAAK,GAAG,EAAE,KAAK;EAC5C,OACKD,eAAe,CAACC,KAAK,CAAC,KAAMA,KAAK,CAACG,UAAU,IAAIH,KAAK,CAACG,UAAU,CAAC,GAAG,EAAE,GAAG,CAAC,IAAMH,KAAK,CAAC5C,OAAO,IAAIsC,gBAAgB,CAACM,KAAK,EAAE,GAAG,EAAE,GAAG,CAAE,CAAC,IAAK,IAAI;AAEtJ,CAAC;AAEM,MAAMI,eAAe,GAAGA,CAACJ,KAAK,GAAG,EAAE,EAAEnC,GAAG,GAAG,EAAE,KAAK;EACrD,IAAIwC,cAAc,GAAGH,gBAAgB,CAACF,KAAK,CAAC;EAC5C,IAAIK,cAAc,IAAI,IAAI,EAAE;IACxB,OAAO,OAAO;;EAElB,OAAQ,GAAExC,GAAI,IAAGwC,cAAe,EAAC;AACrC,CAAC;AAED,MAAMC,wBAAwB,GAAG,IAAI;AAE9B,MAAMC,wBAAwB,GAAGA,CAAAA,KAAM;EAC1C,OAAOD,wBAAwB;AACnC,CAAC;AAEM,MAAME,iBAAiB,GAAGA,CAACC,IAAI,EAAEC,EAAE,KAAK;EAC3C,MAAMC,QAAQ,GAAG,IAAIxB,IAAI,CAACsB,IAAI,CAAC;EAC/B,MAAMG,MAAM,GAAG,IAAIzB,IAAI,CAACuB,EAAE,CAAC;EAC3B,IAAIE,MAAM,CAACC,OAAO,CAAA,CAAE,GAAGF,QAAQ,CAACE,OAAO,CAAA,CAAE,IAAI,CAAC,EAAE;IAC9C,OAAQ,KAAIF,QAAQ,CAACE,OAAO,CAAA,CAAE,GAAG,IAAK,IAAGD,MAAM,CAACC,OAAO,CAAA,CAAE,GAAG,GAAI,EAAC;;EAEnE,OAAQ,GAAEF,QAAQ,CAACG,kBAAkB,CAAA,CAAG,IAAGF,MAAM,CAACE,kBAAkB,CAAA,CAAG,EAAC;AAC1E,CAAC;AClDH,MAAMC,cAAc,GAAGA,CAAC;EAAEC,YAAY;EAAEC,cAAc;EAAEC,QAAQ;EAAEC,WAAW;EAAE,GAAGzE;AAAM,CAAC,KAAK;EAE5F,MAAM3B,QAAQ,GAAGY,KAAK,CAACC,UAAU,CAACC,kBAAkB,CAAA,CAAE,IAAI,EAAE;EAC5D,MAAMC,MAAM,GAAEH,KAAK,CAACC,UAAU,CAACG,UAAU,CAAA,CAAE;EAC3C,MAAM,CAACqF,aAAa,EAAEC,eAAe,CAAC,GAAG9F,QAAQ,CAAC,MAAMyF,YAAY,CAAC;EACrE,MAAM;IAAEjI;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAMC,cAAc,GAAGhB,wBAAwB,CAAA,CAAE;EACjD,MAAM,CAACiB,MAAM,EAAEC,SAAS,CAAC,GAAGlG,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACmG,OAAO,EAAEC,UAAU,CAAC,GAAGpG,QAAQ,CAAC;IAAEnB,IAAI,EAAG,kCAAiCmH,cAAe,EAAC;IAAE3G,IAAI,EAAE2G;GAAgB,CAAC;EAE1H,MAAM;IAAEpF,IAAI;IAAEH,SAAS;IAAE,GAAGI;GAAM,GAAGT,KAAK,CAACU,KAAK,CAACC,QAAQ,CAACC,eAAe,CACvET,MAAM,EACN,8BACF,CAAC;EAED,MAAM8F,UAAU,GAAG,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJ,IAAI,CAAEC,kBAAkB,KAAI,EAAE;EAEjDrF,SAAS,CAAC,MAAM;IACd,IAAI,CAAA,OAAO,KAAA,IAAA,IAAP,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAP,OAAO,CAAE5B,IAAI,KAAIwG,aAAa,CAACU,gBAAgB,EAAE;MACnDT,eAAe,CAAC;QAAES,gBAAgB,EAAEJ,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAPA,OAAO,CAAE9G;OAAM,CAAC;;GAEvD,EAAE,CAAC8G,OAAO,CAAC,CAAC;EAEblF,SAAS,CAAC,MAAM;IACd,IAAIgF,MAAM,EAAE;MACVH,eAAe,CAAC;QAAEG,MAAM,EAAEA,MAAM,CAACO,IAAI,CAAC,GAAG;OAAG,CAAC;;GAEhD,EAAE,CAACP,MAAM,CAAC,CAAC;EAEZ,MAAMQ,eAAe,GAAIhC,KAAK,IAAK;IACjC,IAAIwB,MAAM,CAAC1B,QAAQ,CAACE,KAAK,CAAC,EAAE;MAC1BwB,MAAM,CAACS,MAAM,CAACT,MAAM,CAACU,SAAS,CAAEC,CAAC,IAAKA,CAAC,IAAInC,KAAK,CAAC,EAAE,CAAC,CAAC;KACtD,MAAM;MACLwB,MAAM,CAACY,IAAI,CAACpC,KAAK,CAAC;;IAEpByB,SAAS,CAAC,CAAC,GAAGD,MAAM,CAAC,CAAC;GACvB;EAED,MAAMa,QAAQ,GAAGA,CAAAA,KAAM;IAAA,IAAA,cAAA;IACrBpB,cAAc,CAAC;MAAEqB,MAAM,EAAEC,MAAM,CAACC,IAAI,CAACxB,YAAY;KAAG,EAAE,IAAI,CAAC;IAC3DS,SAAS,CAAC,EAAE,CAAC;IACbE,UAAU,CAAC;MAAEvH,IAAI,EAAG,kCAAiCmH,cAAe,EAAC;MAAE3G,IAAI,EAAE2G;KAAgB,CAAC;IAC9F7E,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,cAAA,GAALA,KAAK,CAAE+F,OAAO,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd/F,cAAAA,CAAAA,IAAAA,CAAAA,KAAiB,CAAC;GACnB;EACD,IAAIV,SAAS,EAAE;IACb,OAAA,aAAO/C,KAAAA,CAAAA,aAAAA,CAAC+E,MAAM,EAAA,IAAE,CAAC;;EAEnB,OAAA,aACE/E,KAAAA,CAAAA,aAAAA,CAACA,KAAK,CAACyJ,QAAQ,EAAA,IAAA,EAAA,aACbzJ,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KAAgBL,CAAC,CAAC,sBAAsB,CAAC,EAAC,GAAM,CAAC,EAAA,aAChEE,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC,UAAU;IAAC8D,OAAO,EAAEmF;KAChCtJ,CAAC,CAAC,qBAAqB,CACrB,CAAC,EACL2D,KAAK,CAACxC,IAAI,KAAK,SAAS,IAAA,aACvBjB,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMG,SAAS,EAAC,cAAc;IAAC8D,OAAO,EAAEmF,QAAS;IAAChJ,KAAK,EAAE;MAAEsJ,MAAM,EAAE,mBAAmB;MAAEC,OAAO,EAAE;;kBAC/F3J,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAK4J,KAAK,EAAC,IAAI;IAACC,MAAM,EAAC,IAAI;IAAChG,OAAO,EAAC,WAAW;IAACC,IAAI,EAAC,MAAM;IAACF,KAAK,EAAC;kBAChE5D,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IACE+D,CAAC,EAAC,mQAAmQ;IACrQD,IAAI,EAAC;GACN,CACE,CACD,CACP,EACAL,KAAK,CAACxC,IAAI,KAAK,QAAQ,IAAA,aACtBjB,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMiE,OAAO,EAAER,KAAK,CAAC+F;kBACnBxJ,KAAAA,CAAAA,aAAAA,CAAC8J,QAAQ,EAAA,IAAE,CACP,CAEL,CAAC,EAAA,aACN9J,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,aACEA,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,aACEA,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KAAgBL,CAAC,CAAC,4BAA4B,CAAO,CAAC,EACpE6I,UAAU,CAACoB,GAAG,CAAC,CAACC,GAAG,EAAEC,KAAK,KAAA,aACzBjK,KAAAA,CAAAA,aAAAA,CAACkK,QAAQ,EAAA;IACPtF,GAAG,EAAEqF,KAAK,GAAG,SAAU;IACvBrJ,KAAK,EAAEd,CAAC,CAACkK,GAAG,KAAA,IAAA,IAAHA,GAAG,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAHA,GAAG,CAAE7I,IAAI,CAAE;IACpB4F,KAAK,EAAEiD,GAAG,KAAA,IAAA,IAAHA,GAAG,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAHA,GAAG,CAAErI,IAAK;IACjBwI,OAAO,EAAE5B,MAAM,CAAC1B,QAAQ,CAACmD,GAAG,KAAA,IAAA,IAAHA,GAAG,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAHA,GAAG,CAAErI,IAAI,CAAE;IACpCyI,QAAQ,EAAGC,KAAK,IACdtB,eAAe,CAACsB,KAAK,CAACC,MAAM,CAACvD,KAAK;GACrC,CACH,CAAC,EAAA,aACD/G,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,aACEA,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KAAgBL,CAAC,CAAC,2BAA2B,CAAO,CAAC,EAAA,aACpEE,KAAAA,CAAAA,aAAAA,CAACqB,QAAQ,EAAA;IAACvB,CAAC,EAAEA,CAAE;IAAC0B,MAAM,EAAE,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJ,IAAI,CAAE0C,YAAY,KAAI,IAAK;IAAC6C,KAAK,EAAE0B,OAAQ;IAACnH,QAAQ,EAAEmH,OAAQ;IAAChH,MAAM,EAAEiH,UAAW;IAACnH,SAAS,EAAE;GAAS,CAC5H,CAAC,EACLkC,KAAK,CAACxC,IAAI,KAAK,QAAQ,IAAA,aAAGjB,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,aACzBA,KAAAA,CAAAA,aAAAA,CAACuK,SAAS,EAAA;IAER1E,QAAQ,EAAEA,CAAAA,KAAM;MAAA,IAAA,eAAA;MAACmC,cAAc,CAACG,aAAa,CAAC;MAC5C1E,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,eAAA,GAALA,KAAK,CAAE+F,OAAO,MAAA,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd/F,eAAAA,CAAAA,IAAAA,CAAAA,KAAiB,CAAC;KAAE;IACtB7C,KAAK,EAAEd,CAAC,CAAC,mBAAmB;GAC7B,CACE,CAAC,EACL2D,KAAK,CAACxC,IAAI,KAAK,QAAQ,IAAA,aAAMjB,KAAAA,CAAAA,aAAAA,CAACwK,SAAS,EAAA,IAAA,EAAA,aACtCxK,KAAAA,CAAAA,aAAAA,CAACyK,cAAc,EAAA;IACb3J,MAAM,EAAE,KAAM;IACd4J,SAAS,EAAE5K,CAAC,CAAC,qBAAqB,CAAE;IACpC6K,UAAU,EAAE7K,CAAC,CAAC,mBAAmB,CAAE;IACnC+F,QAAQ,EAAEA,CAAAA,KAAM;MAAA,IAAA,eAAA;MAACmC,cAAc,CAACG,aAAa,CAAC;MAC5C1E,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,eAAA,GAALA,KAAK,CAAE+F,OAAO,MAAA,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd/F,eAAAA,CAAAA,IAAAA,CAAAA,KAAiB,CAAC;KAAE;IACtBmH,OAAO,EAAEA,CAAAA,KAAM;MAAA,IAAA,eAAA;MAACxB,QAAQ,CAAA,CAAE;MACxB3F,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,eAAA,GAALA,KAAK,CAAE+F,OAAO,MAAA,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd/F,eAAAA,CAAAA,IAAAA,CAAAA,KAAiB,CAAC;KAAE;IACtBrD,KAAK,EAAE;MAAEyK,IAAI,EAAE;;GAChB,CACQ,CACR,CACF,CACF,CACF,CACS,CAAC;AAErB,CAAC;AClHD,MAAMC,WAAW,GAAGA,CAAC;EAAEC,IAAI;EAAEC,GAAG;EAAEC;AAAS,CAAC,KAAK;EAC/C,MAAM;IAAEnL;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAM6C,QAAQ,GAAGC,WAAW,CAAA,CAAE;EAC9B,MAAMC,UAAU,GAAGC,UAAU,IAAI,GAAG;EACpC,MAAMvJ,QAAQ,GAAGY,KAAK,CAACC,UAAU,CAACC,kBAAkB,CAAA,CAAE;EAEtD,MAAM0I,iBAAiB,GAAG;IACxBvD,YAAY,EAAE;MACZjG,QAAQ,EAAEA,QAAQ;MAClB+G,gBAAgB,EAAEvB,wBAAwB,CAAA;;GAE7C;EAED,MAAMiE,YAAY,GAAG7I,KAAK,CAAC8I,wBAAwB,CAACC,YAAY,CAAC,cAAc,CAAC;EAChF,MAAMC,sBAAsB,GAAGhJ,KAAK,CAAC8I,wBAAwB,CAACC,YAAY,CAAC,wBAAwB,CAAC;EACpG,MAAME,cAAc,GAAGjJ,KAAK,CAAC8I,wBAAwB,CAACC,YAAY,CAAC,gBAAgB,CAAC;EAEpF,OAAA,aACEzL,KAAAA,CAAAA,aAAAA,CAAC4L,MAAM,EAAA,IAAA,EAAA,aACL5L,KAAAA,CAAAA,aAAAA,CAACA,KAAK,CAACyJ,QAAQ,EAAA,IAAA,EAAA,aACbzJ,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAAAA,GAAAA,EAAAA;IAAGG,SAAS,EAAC,YAAY;IAACC,KAAK,EAAE;MAAEyL,UAAU,EAAET,UAAU,GAAG,KAAK,GAAG;;kBAClEpL,KAAAA,CAAAA,aAAAA,CAAC8L,IAAI,EAAA;IAACrE,EAAE,EAAC,oBAAoB;IAACrH,KAAK,EAAE;MAAE2L,MAAM,EAAE,SAAS;MAAE1L,KAAK,EAAE;;KAC9DP,CAAC,CAAC,gBAAgB,CACf,CAAC,EAAC,GAAG,EAAC,IACV,EAAA,aAAA,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA,IAAA,EAAOoL,QAAQ,CAACc,QAAQ,KAAK,mCAAmC,GAAGlM,CAAC,CAAC,kBAAkB,CAAC,GAAGA,CAAC,CAAC,kBAAkB,CAAQ,CACxH,CAAC,EAAA,aACJE,KAAAA,CAAAA,aAAAA,CAACiM,YAAY,EAAA;IACXlB,IAAI,EAAG,GAAEA,IAAK,QAAQ;IACtBmB,SAAS,EAAEA,CAAAA,KAAAA,aACTlM,KAAAA,CAAAA,aAAAA,CAACuL,YAAY,EAAA;MACXY,WAAW,EAAEpB,IAAK;MAClBlG,eAAe,EAAC,UAAU;MAC1BuH,eAAe,EAAC,uBAAuB;MACvCC,aAAa,EAAEf,iBAAkB;MACjCgB,OAAO,EAAE;KACV;GAEJ,CAAC,EAAA,aACFtM,KAAAA,CAAAA,aAAAA,CAACiM,YAAY,EAAA;IAAClB,IAAI,EAAG,GAAEA,IAAK,aAAa;IAACmB,SAAS,EAAGzI,KAAK,IAAA,aAAKzD,KAAAA,CAAAA,aAAAA,CAAAA,IAAAA,EAAAA,IAAAA,EAAKF,CAAC,CAAC,wCAAwC,CAAM;GAAI,CAAC,EAAA,aAC1HE,KAAAA,CAAAA,aAAAA,CAACiM,YAAY,EAAA;IAAClB,IAAI,EAAG,GAAEA,IAAK,WAAW;IAACmB,SAAS,EAAGzI,KAAK,IAAA,aAAKzD,KAAAA,CAAAA,aAAAA,CAAC0L,sBAAsB,EAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,EAAKjI,KAAK0I,EAAAA;MAAAA,WAAAA,EAAepB;MAAO;GAAI,CAAC,EAAA,aAC1H/K,KAAAA,CAAAA,aAAAA,CAACiM,YAAY,EAAA;IAAClB,IAAI,EAAG,GAAEA,IAAK,uBAAuB;IAACmB,SAAS,EAAEA,CAAAA,KAAAA,aAAMlM,KAAAA,CAAAA,aAAAA,CAAC2L,cAAc,EAAA,IAAE;GAAI,CACvF,CACS,CACV,CAAC;AAEb,CAAC;AC9CM,MAAMY,YAAY,GAAG,MAAA,CAAO1H,eAAe,EAAE2H,YAAY,KAAK;EACnE,MAAM9J,KAAK,CAAC+J,KAAK,CAACC,eAAe,CAACF,YAAY,EAAE3H,eAAe,EAAE,qBAAqB,CAAC;AACzF,CAAC;AAED,MAAM8H,UAAU,GAAGA,CAAC1L,IAAI,EAAEY,MAAM,EAAE+K,SAAS,EAAEC,UAAU,EAAE/M,CAAC,KAAK;EAC7D,OAAOA,CAAC,CAAE,YAAW8M,SAAS,GAAG,SAAS,GAAG,SAAU,eAAc,CAAC;AACxE,CAAC;AAED,MAAME,gBAAgB,GAAGA,CAACjL,MAAM,EAAE+K,SAAS,EAAEC,UAAU,EAAE/M,CAAC,KAAK;EAC7D,OAAO6M,UAAU,CAAC,QAAQ,EAAE9K,MAAM,EAAE+K,SAAS,EAAEC,UAAU,EAAE/M,CAAC,CAAC;AAC/D,CAAC;AAQD,MAAMiN,YAAY,GAAItJ,KAAK,IAAK;EAAA,IAAA,WAAA,EAAA,oBAAA,EAAA,qBAAA;EAC9B,OAAA,aACEzD,KAAAA,CAAAA,aAAAA,CAACH,QAAM,EAAA;IACLmN,OAAO,EAAGF,gBAAgB,CAACrJ,KAAK,CAAC5B,MAAM,EAAE4B,KAAK,CAACmJ,SAAS,EAAEnJ,KAAK,CAACoJ,UAAU,EAAEpJ,KAAK,CAAC3D,CAAC,CAAG;IACtFmN,iBAAiB,EAAExJ,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,WAAA,GAALA,KAAK,CAAEP,IAAI,MAAA,IAAA,IAAA,WAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,oBAAA,GAAXO,WAAAA,CAAagB,QAAQ,MAAA,IAAA,IAAA,oBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAArBhB,oBAAAA,CAAwB,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA1BA,qBAAAA,CAA4BqB,cAAc,CAAC,CAAC,CAAC,CAACoI,aAAc;IAC/EC,IAAI,EAAE1J,KAAK,CAACmJ,SAAS,GAAGnJ,KAAK,CAAC3D,CAAC,CAAC,mBAAmB,CAAC,GAAG,EAAG;IAC1DsN,UAAU,EAAE3J,KAAK,CAACmJ;GACnB,CAAC;AAEN,CAAC;AAED,MAAMlB,sBAAsB,GAAIjI,KAAK,IAAK;EAAA,IAAA,cAAA,EAAA,qBAAA;EACxC,MAAM;IAAE3D;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAMvG,QAAQ,GAAGY,KAAK,CAACC,UAAU,CAACC,kBAAkB,CAAA,CAAE;EACtD,MAAM;IAAEyK;GAAO,GAAG5J,KAAK,CAACyH,QAAQ;EAChC,MAAMoC,QAAQ,GAAG5K,KAAK,CAACU,KAAK,CAACC,QAAQ,CAACkK,iBAAiB,CAACzL,QAAQ,EAAEuL,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAALA,KAAK,CAAExI,eAAe,CAAC;EACzF,MAAM,CAAC2I,gBAAgB,EAAEC,mBAAmB,EAAEC,KAAK,CAAC,GAAGhL,KAAK,CAACU,KAAK,CAACuK,iBAAiB,CAAC,oCAAoC,EAAE,KAAK,CAAC;EACjI,MAAM,CAACC,SAAS,EAAEC,YAAY,EAAEC,UAAU,CAAC,GAAGpL,KAAK,CAACU,KAAK,CAACuK,iBAAiB,CAAC,6BAA6B,EAAE,KAAK,CAAC;EACjH,MAAM,CAACI,WAAW,EAAEC,cAAc,EAAEC,gBAAgB,CAAC,GAAGvL,KAAK,CAACU,KAAK,CAACuK,iBAAiB,CAAC,wCAAwC,EAAE,KAAK,CAAC;EAEtIpK,SAAS,CAAC,MAAM;IACd,IAAI+J,QAAQ,CAACpK,IAAI,EAAE8K,cAAc,CAACV,QAAQ,CAACpK,IAAI,CAAC;GACjD,EAAE,CAACoK,QAAQ,CAACpK,IAAI,CAAC,CAAC;EAEnB,MAAMgL,OAAO,GAAGA,CAACC,KAAK,EAAEC,SAAS,KAAK;IAAA,IAAA,eAAA,EAAA,oBAAA,EAAA,qBAAA;IACpCP,YAAY,CAAC,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,eAAA,GAAL,KAAK,CAAEQ,QAAQ,MAAA,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,oBAAA,GAAf,eAAA,CAAiBnL,IAAI,MAAA,IAAA,IAAA,oBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAArB,oBAAA,CAAuBoL,MAAM,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAhC,qBAAA,CAAkC3M,IAAI,KAAI,OAAO,CAAC;IAC/D8L,mBAAmB,CAAC,IAAI,CAAC;GAC1B;EAEDlK,SAAS,CAAC,MAAM;IACd,MAAMgL,SAAS,GAAGA,CAAAA,KAAM;MACtBd,mBAAmB,CAAC,IAAI,CAAC;KAC1B;IACD,IAAIJ,KAAK,CAACzI,GAAG,KAAK,QAAQ,IAAI,CAAC4I,gBAAgB,IAAI,CAACI,SAAS,EAAE;MAC7DN,QAAQ,CAACkB,MAAM,CACb;QACEC,gBAAgB,EAAE,CAACpB,KAAK,CAACjJ,eAAe;OACzC,EACD;QACE8J,OAAO;QACPK;OAEJ,CAAC;;GAEJ,EAAE,EAAE,CAAC;EAEN,MAAMG,WAAW,GAAGA,CAAC7M,MAAM,EAAE+K,SAAS,EAAEC,UAAU,EAAE/M,CAAC,KAAK;IACxD,IAAI,CAAC8M,SAAS,EAAE;MAAA,IAAA,eAAA,EAAA,qBAAA,EAAA,sBAAA;MACd,OAAO,CAAA,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,eAAA,GAAR,QAAQ,CAAEuB,KAAK,MAAA,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAf,eAAA,CAAiBE,QAAQ,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAzB,qBAAA,CAA2BnL,IAAI,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA/B,sBAAA,CAAiCoL,MAAM,CAAC,CAAC,CAAC,CAAC3M,IAAI,KAAIiM,SAAS;KACpE,MAAM;MACLlL,KAAK,CAACiM,cAAc,CAACC,GAAG,CAAC,UAAU,EAAEC,IAAI,CAACC,KAAK,CAAC,MAAM,GAAGD,IAAI,CAACE,MAAM,CAAA,CAAE,GAAG,MAAM,CAAC,CAAC;MACjF,OAAOjP,CAAC,CAAC,0BAA0B,CAAC;;GAEvC;EAED,IAAIwN,QAAQ,CAACvK,SAAS,IAAKuK,QAAQ,CAAC0B,MAAM,IAAI,CAACxB,gBAAiB,EAAE;IAChE,OAAA,aAAOxN,KAAAA,CAAAA,aAAAA,CAAC+E,MAAM,EAAA,IAAE,CAAC;;EAEnB,MAAMkK,OAAO,GAAG,CAAA,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,cAAA,GAAR,QAAQ,CAAE/L,IAAI,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,cAAA,CAAgBuB,QAAQ,CAAC,CAAC,CAAC,MAAIsJ,WAAW,KAAA,IAAA,IAAXA,WAAW,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAXA,WAAW,CAAEtJ,QAAQ,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAArBsJ,qBAAAA,CAAwB,CAAC,CAAC,CAAA;EACzE,MAAMnB,SAAS,GAAG,CAACmB,WAAW,GAAGT,QAAQ,KAAA,IAAA,IAARA,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAARA,QAAQ,CAAEV,SAAS,GAAG,IAAI;EAC3D,OAAA,aACE5M,KAAAA,CAAAA,aAAAA,CAACkP,IAAI,EAAA,IAAA,EAAA,aACHlP,KAAAA,CAAAA,aAAAA,CAAC+M,YAAY,EAAA;IACXjN,CAAC,EAAEA,CAAE;IACLoD,IAAI,EAAE,CAAA,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAR,QAAQ,CAAEA,IAAI,KAAI6K,WAAY;IACpClM,MAAM,EAAEwL,KAAK,CAACxL,MAAO;IACrB+K,SAAS,EAAEA,SAAU;IACrB7J,SAAS,EAAGuK,QAAQ,CAAC0B,MAAM,IAAI,CAACxB,gBAAgB,KAAKF,QAAQ,KAAA,IAAA,IAARA,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAARA,QAAQ,CAAEvK,SAAS,CAAC;IACzE8J,UAAU,EAAEpJ,KAAK,CAAC0I,WAAW,CAACtF,QAAQ,CAAC,UAAU;GAClD,CAAC,EAAA,aACF7G,KAAAA,CAAAA,aAAAA,CAACmP,QAAQ,EAAA,IAAA,EAAErP,CAAC,CAAC4O,WAAW,CAACrB,KAAK,CAACxL,MAAM,EAAE+K,SAAS,EAAEnJ,KAAK,CAAC0I,WAAW,CAACtF,QAAQ,CAAC,UAAU,CAAC,EAAE/G,CAAC,CAAC,EAAEA,CAAC,CAAY,CAAC,EAC3G8M,SAAS,IAAA,aACR5M,KAAAA,CAAAA,aAAAA,CAACmP,QAAQ,EAAA,IAAA,EAAA,aACPnP,KAAAA,CAAAA,aAAAA,CAACoP,UAAU,EAAA;IACTxO,KAAK,EAAA,aACHZ,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;MAAKG,SAAS,EAAC;oBACbH,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA,IAAAA,EAAAA,aACEA,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;MAAK4J,KAAK,EAAC,IAAI;MAACC,MAAM,EAAC,IAAI;MAAChG,OAAO,EAAC,WAAW;MAACC,IAAI,EAAC,MAAM;MAACF,KAAK,EAAC;oBAChE5D,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;MAAM+D,CAAC,EAAC,+LAA+L;MAACD,IAAI,EAAC;KAAW,CACrN,CACD,CAAC,EAAA,aACP9D,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;MAAMG,SAAS,EAAC;OAAmBL,CAAC,CAAC,oBAAoB,CAAQ,CAC9D,CACN;IACDM,KAAK,EAAE;MAAEwJ,KAAK,EAAE;KAAU;IAC1B3F,OAAO,EAAEA,CAAAA,KAAM;MAAA,IAAA,qBAAA,EAAA,sBAAA,EAAA,sBAAA;MAAEsI,YAAY,CAAC0C,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAPA,OAAO,CAAEnK,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA1BmK,qBAAAA,CAA4BpK,eAAe,EAAEoK,OAAO,KAAA,IAAA,IAAPA,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAPA,OAAO,CAAEnK,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAA1BmK,sBAAAA,CAA4BI,IAAI,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAhCJ,sBAAAA,CAAkCzC,YAAY,CAAC;;GAC3H,CACO,CAAE,EAAA,aACdxM,KAAAA,CAAAA,aAAAA,CAACwK,SAAS,EAAA,IAAA,EAAA,aACRxK,KAAAA,CAAAA,aAAAA,CAAC8L,IAAI,EAAA;IAACrE,EAAE,EAAG,GAAEhE,KAAK,CAAC0I,WAAW,CAACtF,QAAQ,CAAC,UAAU,CAAC,GAAG,oBAAoB,GAAG,mBAAoB;kBAC/F7G,KAAAA,CAAAA,aAAAA,CAACuK,SAAS,EAAA;IAAC3J,KAAK,EAAEd,CAAC,CAAC,wBAAwB;GAAI,CAC5C,CACG,CACP,CAAC;AAEX,CAAC;AChHD,MAAMwP,gBAAgB,GAACA,CAACC,OAAO,GAAC,CAAA,CAAE,KAAG;EACnC,OAAO,CAAA,OAAO,KAAA,IAAA,IAAP,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAP,OAAO,CAAEC,aAAa,MAAK,WAAW,IAAI,CAAA,OAAO,KAAA,IAAA,IAAP,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAP,OAAO,CAAEA,aAAa,MAAK,WAAW,KAAK,CAAA,OAAO,KAAA,IAAA,IAAP,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAP,OAAO,CAAEC,gBAAgB,KAAI,UAAU,IAAI,CAAA,OAAO,KAAA,IAAA,IAAP,OAAO,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAP,OAAO,CAAEA,gBAAgB,KAAI,UAAU,CAAC;AACjL,CAAC;AAED,MAAM9D,cAAc,GAAGA,CAAAA,KAAM;EAAA,IAAA,cAAA,EAAA,eAAA,EAAA,qBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,uBAAA,EAAA,uBAAA,EAAA,uBAAA,EAAA,uBAAA;EAE3B,MAAM,CAAC+D,SAAS,EAAEC,YAAY,CAAC,GAAGrN,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM;IAAExC;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAM;IAAE3D,EAAE,EAAEkL,SAAS;IAAEnH,OAAO,EAAE5D;GAAiB,GAAGgL,SAAS,CAAA,CAAE;EAC/D,MAAM/N,QAAQ,GAAGY,KAAK,CAACC,UAAU,CAACC,kBAAkB,CAAA,CAAE;EACtD,MAAMkN,QAAQ,GAAGpN,KAAK,CAACiM,cAAc,CAACoB,GAAG,CAAC,UAAU,CAAC;EACrD,MAAM;IAAEhN,SAAS;IAAEC,OAAO;IAAEmL,KAAK;IAAEjL,IAAI;IAAE,GAAGC;GAAM,GAAGT,KAAK,CAACU,KAAK,CAACC,QAAQ,CAAC2M,iBAAiB,CAAC;IAAEC,cAAc,EAAEC,kBAAkB,CAACN,SAAS,CAAC;IAAE/G,gBAAgB,EAAEhE;GAAiB,EAAE/C,QAAQ,EAAE,CAAA,CAAE,EAAEgO,QAAQ,CAAC;EAEzM,MAAMK,aAAa,GAAGA,CAAAA,KAAM;IAC1BR,YAAY,CAAC,IAAI,CAAC;GACnB;EAED,MAAM5N,UAAU,GAAGA,CAAAA,KAAM;IACvB4N,YAAY,CAAC,KAAK,CAAC;GACpB;EAED,MAAM3N,YAAY,GAAIkB,IAAI,IAAK,CAAA,CAAG;EAClCK,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXJ,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAEiN,UAAU,CAAA,CAAE;KACnB;GACF,EAAE,EAAE,CAAC;EAEN,MAAM,CAAC5C,gBAAgB,EAAEC,mBAAmB,EAAEC,KAAK,CAAC,GAAGhL,KAAK,CAACU,KAAK,CAACuK,iBAAiB,CAAC,oCAAoC,EAAE,KAAK,CAAC;EACjI,MAAM,CAACI,WAAW,EAAEC,cAAc,EAAEC,gBAAgB,CAAC,GAAGvL,KAAK,CAACU,KAAK,CAACuK,iBAAiB,CAAC,wCAAwC,EAAE,KAAK,CAAC;EACtI,MAAM,CAACC,SAAS,EAAEC,YAAY,EAAEC,UAAU,CAAC,GAAGpL,KAAK,CAACU,KAAK,CAACuK,iBAAiB,CAAC,6BAA6B,EAAE,KAAK,CAAC;EACjHpK,SAAS,CAAC,MAAM;IACdkK,mBAAmB,CAAC,KAAK,CAAC;IAC1BQ,gBAAgB,CAAA,CAAE;IAClBH,UAAU,CAAA,CAAE;GACb,EAAE,EAAE,CAAC;EAEN,IAAI/K,SAAS,EAAE;IACb,OAAA,aAAO/C,KAAAA,CAAAA,aAAAA,CAAC+E,MAAM,EAAA,IAAE,CAAC;;EAEnB,MAAMsL,cAAc,GAAG,CAACtN,SAAS,IAAI,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,cAAA,GAAJ,IAAI,CAAE0B,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,cAAA,CAAgB6L,MAAM,IAAG,CAAC,GAAGpN,IAAI,CAACuB,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAA,CAAE;EACvF,MAAM8L,UAAU,GAAE,CAAA,cAAc,KAAA,IAAA,IAAd,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,cAAc,CAAEC,QAAQ,KAAGH,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAdA,cAAc,CAAEI,eAAe,CAAA;EAC5E,OAAA,aACEzQ,KAAAA,CAAAA,aAAAA,CAACA,KAAK,CAACyJ,QAAQ,EAAA,IAAA,EAAA,aACbzJ,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKI,KAAK,EAAE;MAAEwJ,KAAK,EAAE,KAAK;MAAE8G,UAAU,EAAE,SAAS;MAAErQ,KAAK,EAAE;;kBACxDL,KAAAA,CAAAA,aAAAA,CAAC2Q,MAAM,EAAA,IAAA,EAAE7Q,CAAC,CAAC,oBAAoB,CAAU,CACtC,CAAC,EACL,CAACiD,SAAS,IAAI,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,eAAA,GAAJ,IAAI,CAAE0B,QAAQ,MAAA,IAAA,IAAA,eAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,eAAA,CAAgB6L,MAAM,IAAG,CAAC,GAAA,aACvCtQ,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,aACEA,KAAAA,CAAAA,aAAAA,CAACkP,IAAI,EAAA,IAAA,EAAA,aACHlP,KAAAA,CAAAA,aAAAA,CAAC4Q,WAAW,EAAA,IAAA,EAAA,aACV5Q,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,mBAAmB,CAAE;IAACgR,IAAI,EAAE,CAAA,cAAc,KAAA,IAAA,IAAd,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAd,cAAc,CAAEhM,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAjC,qBAAA,CAAmCoI,aAAa,KAAI,IAAK;IAAC6D,SAAS,EAAE;MAAEC,UAAU,EAAE;;GAAU,CAAC,EAAA,aACxIhR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,4BAA4B,CAAE;IAACgR,IAAI,EAAE,CAAA,cAAc,KAAA,IAAA,IAAd,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAd,cAAc,CAAEhM,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAjC,sBAAA,CAAmCuK,IAAI,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAvC,sBAAA,CAAyC7C,YAAY,KAAI,IAAK;IAACuE,SAAS,EAAE;MAAEC,UAAU,EAAE;;GAAU,CAAC,EAAA,aACtJhR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,yBAAyB,CAAE;IAACgR,IAAI,EAAE/K,kBAAkB,CAACsK,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAdA,cAAc,CAAEvL,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAjCuL,sBAAAA,CAAmCY,WAAW,CAAC,IAAI;GAAO,CAAC,EAAA,aAC9HjR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,uBAAuB,CAAE;IAACgR,IAAI,EAAE,CAAA,cAAc,KAAA,IAAA,IAAd,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,cAAc,CAAEI,SAAS,KAAI;GAAO,CAAC,EAAA,aACnFlR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,yBAAyB,CAAE;IAACgR,IAAI,EAAE,CAAA,cAAc,KAAA,IAAA,IAAd,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,cAAc,CAAEK,YAAY,KAAI;GAAO,CAAC,EAAA,aACxFnR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,yBAAyB,CAAE;IAACgR,IAAI,EAAEhR,CAAC,CAACqH,eAAe,CAACkJ,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAdA,cAAc,CAAEvL,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAjCuL,sBAAAA,CAAmCxL,eAAe,EAAE,gCAAgC,CAAC,CAAC,IAAI;GAAO,CAAC,EAAA,aACpK7E,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,wBAAwB,CAAE;IAACgR,IAAI,EAAEvJ,iBAAiB,CAAC8I,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAdA,cAAc,CAAEvL,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAjCuL,sBAAAA,CAAmChB,IAAI,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAvCgB,sBAAAA,CAAyCe,WAAW,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAvDf,sBAAAA,CAAyDgB,UAAU,EAAChB,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAdA,cAAc,CAAEvL,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,uBAAA,GAAjCuL,sBAAAA,CAAmChB,IAAI,MAAA,IAAA,IAAA,uBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,uBAAA,GAAvCgB,uBAAAA,CAAyCe,WAAW,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,uBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAvDf,uBAAAA,CAAyDiB,QAAQ,CAAC,IAAI;GAAO,CAAC,EAAA,aACnNtR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,mBAAmB,CAAE;IAACgR,IAAI,EAAE,GAAG,IAAGT,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAdA,cAAc,CAAEI,eAAe,CAAA,IAAI;GAAO,CAAC,EAAA,aAC3FzQ,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,2BAA2B,CAAE;IAACgR,IAAI,EAAE,GAAG,GAAIP,UAAW,IAAI;GAAO,CAAC,EAAA,aAChFvQ,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,yBAAyB,CAAE;IAACgR,IAAI,EAAET,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,IAAdA,cAAc,CAAEkB,WAAW,GAAGzR,CAAC,CAAE,8BAA6BuQ,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAdA,cAAc,CAAEkB,WAAY,EAAC,CAAC,IAAI,IAAI,GAAG;GAAO,CAAC,EAAA,aAC/JvR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,mBAAmB,CAAE;IAACgR,IAAI,EAAE,CAAA,cAAc,KAAA,IAAA,IAAd,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAd,cAAc,CAAEU,iBAAiB,KAAI;GAAO,CAAC,EAAA,aACvFxR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,0BAA0B,CAAE;IAACgR,IAAI,EAAE,CAAA,cAAc,KAAA,IAAA,IAAd,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,uBAAA,GAAd,cAAc,CAAEhM,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,uBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAjC,uBAAA,CAAmC2M,mBAAmB,KAAI;GAAO,CAAC,EAAA,aACnHzR,KAAAA,CAAAA,aAAAA,CAAC6Q,GAAG,EAAA;IAACjQ,KAAK,EAAEd,CAAC,CAAC,4BAA4B,CAAE;IAACgR,IAAI,EAAE/K,kBAAkB,CAACsK,cAAc,KAAA,IAAA,IAAdA,cAAc,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,uBAAA,GAAdA,cAAc,CAAEvL,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,uBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAjCuL,uBAAAA,CAAmCqB,iBAAiB,CAAC,IAAI;GAAO,CAC3H,CACT,CACH,CAAC,GACJ,IAAI,EACPhC,SAAS,GAAA,aACR1P,KAAAA,CAAAA,aAAAA,CAAC8F,WAAW,EAAA;IAAChG,CAAC,EAAEA,CAAE;IAACgC,QAAQ,EAAEA,QAAS;IAACG,eAAe,EAAEiB,IAAK;IAACnB,UAAU,EAAEA,UAAW;IAACC,YAAY,EAAEA;GAAe,CAAC,GAClH,IAAI,EAAA,aACRhC,KAAAA,CAAAA,aAAAA,CAACwK,SAAS,EAAA,IAAA,EACP8E,gBAAgB,CAACe,cAAc,CAAC,IAAA,aAAIrQ,KAAAA,CAAAA,aAAAA,CAACuK,SAAS,EAAA;IAAC3J,KAAK,EAAEd,CAAC,CAAC,0BAA0B,CAAE;IAAC+F,QAAQ,EAAEA,CAAAA,KAAMsK,aAAa,CAAA;GAAK,CAC/G,CACG,CAAC;AAErB,CAAC;AC9ED,MAAMwB,UAAU,GAAGA,CAAC;EAAExF,WAAW;EAAEtH,eAAe;EAAE+M,QAAQ;EAAEC;AAAW,CAAC,KAAK;EAC7E,MAAM;IAAE/R;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAM,CAACyJ,KAAK,EAAEC,QAAQ,CAAC,GAAGzP,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM;IAAE0P,KAAK,EAAEC;GAAW,GAAGvP,KAAK,CAACwP,WAAW,CAACC,OAAO,CAAA,CAAE,CAAChF,IAAI;EAC7D5J,SAAS,CAAC,MAAM;IACd,IAAI6O,WAAW,GAAGR,QAAQ,CACvBS,MAAM,CAAE3O,CAAC,IAAKA,CAAC,CAACmB,eAAe,KAAKA,eAAe,CAAC,CACpDwN,MAAM,CAAC,CAAC;MAAEL;KAAO,KAAKA,KAAK,CAACM,IAAI,CAAE5O,CAAC,IAAKuO,SAAS,CAAClI,GAAG,CAAC,CAAC;MAAEpI;KAAM,KAAKA,IAAI,CAAC,CAACkF,QAAQ,CAACnD,CAAC,CAAC,CAAC,IAAI,CAACsO,KAAK,CAAC1B,MAAM,CAAC;IAC3GyB,QAAQ,CAACK,WAAW,CAAC;GACtB,EAAE,EAAE,CAAC;EAEN,MAAMG,OAAO,GAAGA,CAAAA,KAAAA,aACdvS,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMG,SAAS,EAAC;kBACdH,KAAAA,CAAAA,aAAAA,CAACwS,gBAAgB,EAAA,IAAE,CACf,CAAC,EAAC,GAAG,EAAA,aACXxS,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMG,SAAS,EAAC;KAAQL,CAAC,CAAC+R,UAAU,CAAQ,CACzC,CACN;EACD,OAAA,aACE7R,KAAAA,CAAAA,aAAAA,CAACkP,IAAI,EAAA;IAAC/O,SAAS,EAAC;kBACdH,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KACZoS,OAAO,CAAA,CAAE,EAAA,aACVvS,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KACZ2R,KAAK,CAAC/H,GAAG,CAAC,CAAC;IAAE0I,IAAI;IAAE3B,IAAI;IAAE4B,SAAS,EAATA,UAAS,GAAG,KAAK;IAAEC,QAAQ,EAARA,SAAQ,GAAG;GAAI,EAAE1I,KAAK,KAAK;IACtE,OAAA,aACEjK,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;MAAMG,SAAS,EAAC,MAAM;MAACyE,GAAG,EAAEqF;OACzByI,UAAS,GAAA,aAAG1S,KAAAA,CAAAA,aAAAA,CAAAA,GAAAA,EAAAA;MAAG4S,IAAI,EAAEH;OAAO3S,CAAC,CAACgR,IAAI,CAAK,CAAC,GAAA,aAAG9Q,KAAAA,CAAAA,aAAAA,CAAC8L,IAAI,EAAA;MAACrE,EAAE,EAAEgL;OAAO3S,CAAC,CAACgR,IAAI,CAAQ,CACvE,CAAC;GAEV,CACE,CACF,CACD,CAAC;AAEX,CAAC;ACrCD,MAAM+B,gBAAgB,GAAGA,CAAC;EAAE/S,CAAC;EAAEgT,OAAO;EAAE5P,IAAI;EAAE6P,YAAY;EAAEC,UAAU;EAAEC,UAAU;EAAEC,WAAW;EAAEC,YAAY;EAAEC,aAAa;EAAEC,gBAAgB;EAAEC,UAAU;EAAEC;AAAY,CAAC,KAAA,aACvKvT,KAAAA,CAAAA,aAAAA,CAACwT,KAAK,EAAA;EACJ1T,CAAC,EAAEA,CAAE;EACLoD,IAAI,EAAEA,IAAK;EACXuQ,gBAAgB,EAAE,IAAK;EACvBX,OAAO,EAAEA,OAAQ;EACjBC,YAAY,EAAEA,YAAa;EAC3BC,UAAU,EAAEA,UAAW;EACvBC,UAAU,EAAEA,UAAW;EACvBC,WAAW,EAAEA,WAAY;EACzBC,YAAY,EAAEA,YAAa;EAC3BG,UAAU,EAAEA,UAAW;EACvBC,WAAW,EAAEA,WAAY;EACzBF,gBAAgB,EAAEA,gBAAiB;EACnCD,aAAa,EAAEA;AAAc,CAC9B,CACF;ACdD,MAAMM,eAAe,GAAG;EACtBC,IAAI,EAAEC,UAAU;EAChBzC,YAAY,EAAE0C;AAChB,CAAC;AAED,MAAMC,iBAAiB,GAAGA,CAAC;EAAE7L,QAAQ;EAAEhH,IAAI;EAAEuI,OAAO;EAAEuK,YAAY;EAAEhM,YAAY;EAAEiM,WAAW;EAAEC,mBAAmB;EAAEC,WAAW,EAAEC;AAAa,CAAC,KAAK;EAAA,IAAA,oBAAA;EAClJ,MAAM;IAAErU;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAM;IAAE+L,QAAQ;IAAEC,YAAY;IAAEC,KAAK;IAAEC,KAAK;IAAEC,OAAO;IAAEC,QAAQ;IAAEC,WAAW;IAAEC;GAAW,GAAGC,OAAO,CAAC;IAClGC,aAAa,EAAE9M;GAChB,CAAC;EAEF,MAAMhH,IAAI,GAAGwT,KAAK,CAAA,CAAE;EACpB,MAAMnJ,UAAU,GAAGC,UAAU,IAAI,GAAG;EAGpC9H,SAAS,CAAC,MAAM;IACdwQ,YAAY,CAACe,OAAO,CAAC,CAAC;MAAEC,OAAO;MAAE5T,IAAI;MAAE6T,SAAS;MAAEC,SAAS;MAAEC,aAAa;MAAE,GAAGC;KAAI,KAAK;MACtF,MAAMpO,KAAK,GAAGhG,IAAI,CAACI,IAAI,CAAC;MACxB,MAAMgN,KAAK,GAAGwG,SAAS,CAAC1R,MAAM,CAAC9B,IAAI,CAAC;MACpC,IAAI4T,OAAO,EAAE;QACX,IAAI,CAAC,IAAIK,MAAM,CAACL,OAAO,CAAC,CAACM,IAAI,CAACtO,KAAK,CAAC,IAAI,CAACoH,KAAK,EAC5CsG,QAAQ,CAACtT,IAAI,EAAE;UAAEF,IAAI,EAAE,SAAS;UAAE+L,OAAO,EAAElN,CAAC,CAACoV,aAAa,KAAA,IAAA,IAAbA,aAAa,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAbA,aAAa,CAAEH,OAAO,CAAC,IAAIjV,CAAC,CAAE,WAAUqB,IAAI,CAACmU,WAAW,CAAA,CAAG,SAAQ;SAAG,CAAC,CAAC,KAClH,IAAI,IAAIF,MAAM,CAACL,OAAO,CAAC,CAACM,IAAI,CAACtO,KAAK,CAAC,IAAI,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAE9F,IAAI,MAAK,SAAS,EAAEyT,WAAW,CAAC,CAACvT,IAAI,CAAC,CAAC;;MAE5F,IAAI8T,SAAS,EAAE;QACb,IAAI,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAE3E,MAAM,IAAG2E,SAAS,IAAI,CAAC9G,KAAK,EACrCsG,QAAQ,CAACtT,IAAI,EAAE;UAAEF,IAAI,EAAE,WAAW;UAAE+L,OAAO,EAAElN,CAAC,CAAC,CAAA,aAAa,KAAA,IAAA,IAAb,aAAa,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAb,aAAa,CAAEmV,SAAS,KAAK,aAAY9T,IAAI,CAACmU,WAAW,CAAA,CAAG,SAAQ;SAAG,CAAC,CAAC,KACrH,IAAI,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAEhF,MAAM,KAAI2E,SAAS,IAAI,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAEhU,IAAI,MAAK,WAAW,EAAEyT,WAAW,CAAC,CAACvT,IAAI,CAAC,CAAC;;MAEzF,IAAI6T,SAAS,EAAE;QACb,IAAI,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAE1E,MAAM,IAAG0E,SAAS,IAAI,CAAC7G,KAAK,EACrCsG,QAAQ,CAACtT,IAAI,EAAE;UAAEF,IAAI,EAAE,WAAW;UAAE+L,OAAO,EAAElN,CAAC,CAAC,CAAA,aAAa,KAAA,IAAA,IAAb,aAAa,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAb,aAAa,CAAEkV,SAAS,KAAK,aAAY7T,IAAI,CAACmU,WAAW,CAAA,CAAG,SAAQ;SAAG,CAAC,CAAC,KACrH,IAAI,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAEhF,MAAM,KAAI0E,SAAS,IAAI,CAAA,KAAK,KAAA,IAAA,IAAL,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAL,KAAK,CAAE/T,IAAI,MAAK,WAAW,EAAEyT,WAAW,CAAC,CAACvT,IAAI,CAAC,CAAC;;KAE1F,CAAC;GACH,EAAE,CAACJ,IAAI,EAAE4T,SAAS,EAAEF,QAAQ,EAAEC,WAAW,CAAC,CAAC;EAE5C,MAAMa,aAAa,GAAIrS,IAAI,IAAK;IACpB;MACR,IAAI,CAACA,IAAI,CAACiO,YAAY,EAAE;QACtB,OAAOjO,IAAI,CAACiO,YAAY;;MAE1BjO,IAAI,CAACmG,MAAM,GAAG,EAAE;MAChB0K,YAAY,CAACe,OAAO,CAAEU,KAAK,IAAK;QAC9B,IAAI,CAACtS,IAAI,CAACsS,KAAK,CAACrU,IAAI,CAAC,EAAE+B,IAAI,CAACmG,MAAM,CAACF,IAAI,CAACqM,KAAK,CAACrU,IAAI,CAAC;OACpD,CAAC;MACF8G,QAAQ,CAAC/E,IAAI,CAAC;MACd,IAAIjC,IAAI,KAAK,QAAQ,EAAE;QACrBuI,OAAO,CAAA,CAAE;;;GAGd;EAED,SAAS0K,WAAWA,CAAAA,EAAG;IACrB,MAAMuB,WAAW,GAAG1B,YAAY,CAAC2B,MAAM,CAAC,CAACC,GAAG,EAAEH,KAAK,MAAM;MAAE,GAAGG,GAAG;MAAE,CAACH,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAALA,KAAK,CAAErU,IAAI,GAAG;KAAI,CAAC,EAAE,CAAA,CAAE,CAAC;IAC5FmT,KAAK,CAACmB,WAAW,CAAC;IAClB,MAAMG,UAAU,GAAG;MAAE,GAAG7N;KAAc;IACtC6N,UAAU,CAACvM,MAAM,GAAG,EAAE;IACtB0K,YAAY,CAACe,OAAO,CAAEpR,CAAC,IAAK;MAC1BkS,UAAU,CAACvM,MAAM,CAACF,IAAI,CAACzF,CAAC,KAAA,IAAA,IAADA,CAAC,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAADA,CAAC,CAAEvC,IAAI,CAAC;KAChC,CAAC;IACF8G,QAAQ,CAAC;MAAE,GAAG2N;KAAY,EAAE,IAAI,CAAC;IACjC,IAAI3U,IAAI,KAAK,QAAQ,EAAE;MACrBuI,OAAO,CAAA,CAAE;;;EAIb,MAAMJ,QAAQ,GAAIgC,UAAU,IAAK;IAC/B,MAAMyK,gBAAgB,GAAGzK,UAAU,GAAG;MAAE0K,MAAM,EAAE;KAAG,GAAG,CAAA,CAAE;IACxD,OAAA,aACE9V,KAAAA,CAAAA,aAAAA,CAAC+V,SAAS,EAAA;MAAC3V,KAAK,EAAE;QAAE4V,OAAO,EAAE,QAAQ;QAAE,GAAGH;OAAmB;MAAC5R,OAAO,EAAEiQ;OACpEpU,CAAC,CAAC,iBAAiB,CACX,CAAC;GAEf;EAED,OAAA,aACEE,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAM6F,QAAQ,EAAEwO,YAAY,CAACkB,aAAa;kBACxCvV,KAAAA,CAAAA,aAAAA,CAACA,KAAK,CAACyJ,QAAQ,EAAA,IAAA,EAAA,aACbzJ,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC,kBAAkB;IAACC,KAAK,EAAE;MAAEwJ,KAAK,EAAE,MAAM;MAAEiC,UAAU,EAAEmI,WAAW,GAAG,MAAM,GAAG;;kBAC3FhU,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KACZ,CAACc,IAAI,KAAK,QAAQ,IAAImK,UAAU,KAAA,aAC/BpL,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC,kBAAkB;IAACC,KAAK,EAAE;MAAE4V,OAAO,EAAE,MAAM;MAAEC,cAAc,EAAE;;kBAC1EjW,KAAAA,CAAAA,aAAAA,CAAAA,IAAAA,EAAAA,IAAAA,EAAKF,CAAC,CAAC,qBAAqB,CAAM,CAAC,EAAA,aACnCE,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMiE,OAAO,EAAEuF;kBACbxJ,KAAAA,CAAAA,aAAAA,CAAC8J,QAAQ,EAAA,IAAE,CACP,CACH,CACN,EAAA,aACD9J,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC,2BAA2B;IAACC,KAAK,EAAE;MAAEwJ,KAAK,EAAE;;KACxDmK,YAAY,KAAA,IAAA,IAAZA,YAAY,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,oBAAA,GAAZA,YAAY,CACT1B,MAAM,CAAE3O,CAAC,IAAK,IAAI,CAAC,MAAA,IAAA,IAAA,oBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GADtBqQ,oBAAAA,CAEGhK,GAAG,CAAC,CAACmM,KAAK,EAAEjM,KAAK,KAAA;IAAA,IAAA,qBAAA,EAAA,iBAAA,EAAA,qBAAA;IAAA,OAAA,aACjBjK,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;MAAK4E,GAAG,EAAEsR,KAAK,CAAC/U,IAAK;MAAChB,SAAS,EAAC;oBAC9BH,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;MAAMG,SAAS,EAAE;oBACfH,KAAAA,CAAAA,aAAAA,CAACmW,KAAK,EAAA,IAAA,EAAErW,CAAC,CAACoW,KAAK,CAACtV,KAAK,CAAS,CAAC,EAC9B,CAACsV,KAAK,CAACjV,IAAI,GAAA,aACVjB,KAAAA,CAAAA,aAAAA,CAACoW,UAAU,EAAA;MACTC,MAAM,EAAG5S,KAAK,IAAK;QACjB,OAAA,aAAOzD,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;UAAKG,SAAS,EAAC;WACnB+V,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,IAALA,KAAK,CAAEI,gBAAgB,GAAA,aACtBtW,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;UAAMG,SAAS,EAAC,gDAAgD;UAACC,KAAK,EAAE;YAAEyK,IAAI,EAAE;;WAC7EqL,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAALA,KAAK,CAAEI,gBACJ,CAAC,GACL,IAAI,EAAA,aACRtW,KAAAA,CAAAA,aAAAA,CAACuW,SAAS,EAAA,MAAA,CAAA,MAAA,CAAA,CAAA,CAAA,EAAKL,KAAKM,EAAAA;UAAAA,QAAAA,EAAYpC,QAAQG;UAAAA,KAAAA,EAASA,KAAKkC;UAAAA,YAAAA,EAAgB;UAAO,CAC1E,CAAC;OACN;MACFtV,IAAI,EAAE+U,KAAK,CAAC/U,IAAK;MACjBqT,OAAO,EAAEA,OAAQ;MACjBkC,YAAY,EAAE;KACf,CAAC,GAAA,aAEF1W,KAAAA,CAAAA,aAAAA,CAACoW,UAAU,EAAA;MACTC,MAAM,EAAG5S,KAAK,IAAK;QACjB,MAAMkT,IAAI,GAAGjD,eAAe,KAAA,IAAA,IAAfA,eAAe,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAfA,eAAe,CAAGwC,KAAK,CAACjV,IAAI,CAAC;QAC1C,OAAA,aAAOjB,KAAAA,CAAAA,aAAAA,CAAC2W,IAAI,EAAA;UAACvM,QAAQ,EAAE3G,KAAK,CAAC2G,QAAS;UAACrD,KAAK,EAAEtD,KAAK,CAACsD;SAAQ,CAAC;OAC7D;MACF5F,IAAI,EAAE+U,KAAK,CAAC/U,IAAK;MACjBqT,OAAO,EAAEA,OAAQ;MACjBkC,YAAY,EAAE;KACf,CAEC,CAAC,EACN/B,SAAS,KAAA,IAAA,IAATA,SAAS,KAAA,KAAA,CAAA,IAAA,CAAA,qBAAA,GAATA,SAAS,CAAEiC,WAAW,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,IAAtBjC,qBAAAA,CAAyBuB,KAAK,CAAC/U,IAAI,CAAC,GAAA,aACnCnB,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;MACEI,KAAK,EAAE;QAAEyW,UAAU,EAAE,KAAK;QAAExW,KAAK,EAAE,mBAAmB;QAAEyW,WAAW,EAAE,KAAK;QAAEC,SAAS,EAAE,OAAO;QAAEC,QAAQ,EAAE;OAAS;MACnH7W,SAAS,EAAC;OAETwU,SAAS,KAAA,IAAA,IAATA,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,iBAAA,GAATA,SAAS,CAAE1R,MAAM,MAAA,IAAA,IAAA,iBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAjB0R,iBAAAA,CAAoBuB,KAAK,CAAC/U,IAAI,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA/BwT,qBAAAA,CAAiC3H,OAC9B,CAAC,GACL,IACD,CAAC;GACP,CAAC,EACH/L,IAAI,KAAK,SAAS,IAAI,CAACmK,UAAU,IAAI,CAAC4I,WAAW,IAAA,aAChDhU,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAACuK,SAAS,EAAA;IACRpK,SAAS,EAAC,mBAAmB;IAC7BS,KAAK,EAAEd,CAAC,CAAC,kBAAkB,CAAE;IAE7BgB,MAAM,EAAA;GACP,CAAC,EAAA,aACFd,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKI,KAAK,EAAE;MAAEwJ,KAAK,EAAE,MAAM;MAAEqN,SAAS,EAAE,OAAO;MAAErN,KAAK,EAAE,OAAO;MAAEqN,SAAS,EAAE,OAAO;MAAEpL,UAAU,EAAE,MAAM;MAAEkL,SAAS,EAAE;;KACjH3N,QAAQ,CAAA,CACN,CACF,CAEJ,CAAC,EACL4K,WAAW,IAAA,aACVhU,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KACZc,IAAI,KAAK,SAAS,IAAI,CAACmK,UAAU,IAAA,aAChCpL,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMI,KAAK,EAAE;MAAE8W,UAAU,EAAE;KAAQ;IAAC/W,SAAS,EAAC;KAC3CiJ,QAAQ,CAAA,CACL,CACP,EACAnI,IAAI,KAAK,SAAS,IAAI,CAACmK,UAAU,IAAA,aAChCpL,KAAAA,CAAAA,aAAAA,CAACuK,SAAS,EAAA;IACRnK,KAAK,EAAE;MAAE2W,SAAS,EAAE;KAAU;IAC9B5W,SAAS,EAAC,mBAAmB;IAC7BS,KAAK,EAAEd,CAAC,CAAC,kBAAkB,CAAE;IAC7BgB,MAAM,EAAA;GACP,CAEA,CAEJ,CACF,CAAC,EACL,CAACG,IAAI,KAAK,QAAQ,IAAImK,UAAU,KAAA,aAC/BpL,KAAAA,CAAAA,aAAAA,CAACwK,SAAS,EAAA;IAACrK,SAAS,EAAC;kBACnBH,KAAAA,CAAAA,aAAAA,CAAAA,QAAAA,EAAAA;IAAQG,SAAS,EAAC,cAAc;IAACC,KAAK,EAAE;MAAEyK,IAAI,EAAE;;KAC7CzB,QAAQ,CAACgC,UAAU,CACd,CAAC,EAAA,aACTpL,KAAAA,CAAAA,aAAAA,CAACuK,SAAS,EAAA;IACR3J,KAAK,EAAEd,CAAC,CAAC,kBAAkB,CAAE;IAACM,KAAK,EAAE;MAAEyK,IAAI,EAAE;KAAI;IAAC/J,MAAM,EAAE;GAAO,CAC1D,CAEC,CACZ,CAAC;AAEX,CAAC;AChLD,MAAMqW,oBAAoB,GAAGA,CAAC;EAAEC,WAAW;EAAEhL,eAAe;EAAE,GAAG3I;AAAM,CAAC,KAAK;EAAA,IAAA,WAAA;EAC3E,MAAM;IAAE3D;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAM5F,SAAS,GAAGC,KAAK,CAACiM,cAAc,CAACoB,GAAG,CAAC,cAAc,CAAC;EAC1D,MAAMsH,OAAO,GAAItQ,KAAK,IAAA,aAAK/G,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMG,SAAS,EAAC;KAAaL,CAAC,CAACiH,KAAK,CAAQ,CAAC;EACxE,MAAMuQ,WAAW,GAAIvQ,KAAK,IAAK;IAC7B,MAAM4M,IAAI,GAAG,IAAIzN,IAAI,CAACa,KAAK,CAAC;IAC5B,OAAA,aAAO/G,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;MAAMG,SAAS,EAAC;OAAawT,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAE9L,kBAAkB,CAAA,CAAS,CAAC;GACvE;EACD,MAAM0P,UAAU,GAAGA,CAACxQ,KAAK,EAAEjH,CAAC,EAAE0X,MAAM,GAAG,EAAE,KAAK;IAC5C,OAAOzQ,KAAK,IAAI,WAAW,GAAA,aAAG/G,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;MAAMG,SAAS,EAAC;OAAkBL,CAAC,CAAE,GAAE0X,MAAO,GAAEzQ,KAAM,EAAC,CAAC,IAAI,EAAS,CAAC,GAAA,aAAG/G,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;MAAMG,SAAS,EAAC;OAAoBL,CAAC,CAAE,GAAE0X,MAAO,GAAEzQ,KAAM,EAAC,CAAC,IAAI,EAAS,CAAC;GAChL;EACD,MAAM7D,IAAI,GAAGO,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,WAAA,GAALA,KAAK,CAAEP,IAAI,MAAA,IAAA,IAAA,WAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAXO,WAAAA,CAAagB,QAAQ;EAClC,MAAM,CAACgT,eAAe,EAAEC,OAAO,CAAC,GAAGpV,QAAQ,CAAC,MAAA;IAAA,IAAA,qBAAA;IAAA,OAAA,CAAA,qBAAA,GAAMI,KAAK,CAAC8I,wBAAwB,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA9B9I,qBAAAA,CAAgC+I,YAAY,CAACW,eAAe,CAAC;IAAC;EAChH,MAAM0G,OAAO,GAAG9S,KAAK,CAAC2X,OAAO,CAAC,MAAM;IAClC,OAAO,CACL;MACEhH,MAAM,EAAE7Q,CAAC,CAAC,gCAAgC,CAAC;MAC3C8X,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAEA,CAAC;QAAEC;OAAK,KAAK;QAAA,IAAA,aAAA,EAAA,qBAAA,EAAA,cAAA,EAAA,qBAAA,EAAA,cAAA,EAAA,qBAAA;QACjB,OAAA,aACE9X,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;UAAMG,SAAS,EAAC;wBACdH,KAAAA,CAAAA,aAAAA,CAAC8L,IAAI,EAAA;UAACrE,EAAE,EAAG,uCAAoC,CAAA,aAAA,GAAEqQ,GAAG,CAACC,QAAQ,MAAA,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAZD,aAAAA,CAAchT,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA/BgT,qBAAAA,CAAiCjT,eAAgB,IAAGmT,kBAAkB,CAAA,CAAA,cAAA,GAACF,GAAG,CAACC,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAZD,cAAAA,CAAchT,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA/BgT,qBAAAA,CAAiC5K,aAAa,CAAE;YAAE+K,cAAAA,GAAEH,GAAG,CAACC,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAZD,cAAAA,CAAchT,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA/BgT,qBAAAA,CAAiC5K,aAAoB,CAC7N,CAAC;;KAGZ,EACD;MACEyD,MAAM,EAAE7Q,CAAC,CAAC,0BAA0B,CAAC;MACrC8X,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAEA,CAAC;QAAEC;OAAK,KAAK;QAAA,IAAA,cAAA;QACjB,OAAOR,WAAW,CAAA,CAAA,cAAA,GAACQ,GAAG,CAACC,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAZD,cAAAA,CAAcI,eAAe,CAAC;;KAEpD,EACD;MACEvH,MAAM,EAAE7Q,CAAC,CAAC,8BAA8B,CAAC;MACzC8X,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAEA,CAAC;QAAEC;OAAK,KAAK;QAAA,IAAA,cAAA,EAAA,qBAAA,EAAA,sBAAA;QACjB,OAAOT,OAAO,CAAE,GAAA,CAAA,cAAA,GAAES,GAAG,CAACC,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAZD,cAAAA,CAAchT,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAA/BgT,qBAAAA,CAAiCzI,IAAI,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAArCyI,sBAAAA,CAAuCtL,YAAa,EAAC,CAAC;;KAE3E,EACD;MACEmE,MAAM,EAAE7Q,CAAC,CAAC,gCAAgC,CAAC;MAC3C8X,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAEA,CAAC;QAAEC;OAAK,KAAK;QAAA,IAAA,cAAA;QACjB,OAAOT,OAAO,CAAE,GAAA,CAAA,cAAA,GAAES,GAAG,CAACC,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAZD,cAAAA,CAAc5G,SAAU,EAAC,CAAC;;KAE/C,EACD;MACEP,MAAM,EAAE7Q,CAAC,CAAC,uBAAuB,CAAC;MAClC8X,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAEA,CAAC;QAAEC;OAAK,KAAK;QAAA,IAAA,cAAA,EAAA,qBAAA;QACjB,OAAOT,OAAO,CAAE,GAAEvX,CAAC,CAAC,iCAAiC,IAAA,CAAA,cAAA,GAAGgY,GAAG,CAACC,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAAZD,cAAAA,CAAchT,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA/BgT,qBAAAA,CAAiCjT,eAAe,CAAA,CAAE,EAAC,CAAC;;KAE/G,EACD;MACE8L,MAAM,EAAE7Q,CAAC,CAAC,4BAA4B,CAAC;MACvC8X,aAAa,EAAE,IAAI;MACnBC,IAAI,EAAEA,CAAC;QAAEC;OAAK,KAAK;QAAA,IAAA,cAAA;QACjB,OAAOP,UAAU,CAAE,GAAA,CAAA,cAAA,GAAEO,GAAG,CAACC,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAZD,cAAAA,CAActI,aAAc,EAAC,EAAE1P,CAAC,EAAE,KAAK,CAAC;;KAEhE,CAEF;GACF,EAAE,EAAE,CAAC;EAEN,IAAIqY,MAAM;EACV,IAAI1U,KAAK,CAACV,SAAS,EAAE;IACnBoV,MAAM,GAAA,aAAGnY,KAAAA,CAAAA,aAAAA,CAAC+E,MAAM,EAAA,IAAE,CAAC;GACpB,MAAM,IAAI,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJ,IAAI,CAAEuL,MAAM,MAAK,CAAC,EAAE;IAC7B6H,MAAM,GAAA,aACJnY,KAAAA,CAAAA,aAAAA,CAACkP,IAAI,EAAA;MAAC9O,KAAK,EAAE;QAAE2W,SAAS,EAAE;;OACvBjX,CAAC,CAAC,kCAAkC,CAAC,CACnCsY,KAAK,CAAC,KAAK,CAAC,CACZrO,GAAG,CAAC,CAAC+G,IAAI,EAAE7G,KAAK,KAAA,aACfjK,KAAAA,CAAAA,aAAAA,CAAAA,GAAAA,EAAAA;MAAG4E,GAAG,EAAEqF,KAAM;MAAC7J,KAAK,EAAE;QAAE6W,SAAS,EAAE;;OAChCnG,IACA,CACJ,CACC,CACP;GACF,MAAM,IAAI,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJ,IAAI,CAAER,MAAM,IAAG,CAAC,EAAE;IAC3B6H,MAAM,GAAA,aACJnY,KAAAA,CAAAA,aAAAA,CAAC6S,gBAAgB,EAAA;MACf/S,CAAC,EAAEA,CAAE;MACLoD,IAAI,EAAEA,IAAK;MACX4P,OAAO,EAAEA,OAAQ;MACjBC,YAAY,EAAGsF,QAAQ,IAAK;QAC1B,OAAO;UACLjY,KAAK,EAAE;YACLkY,QAAQ,EAAED,QAAQ,CAACE,MAAM,CAAC5H,MAAM,KAAK7Q,CAAC,CAAC,iBAAiB,CAAC,GAAG,OAAO,GAAG,EAAE;YACxE6J,OAAO,EAAE,WAAW;YACpBqN,QAAQ,EAAE;;SAEb;OACD;MACF3D,gBAAgB,EAAE5P,KAAK,CAAC4P,gBAAiB;MACzCH,WAAW,EAAEzP,KAAK,CAACyP,WAAY;MAC/BF,UAAU,EAAEvP,KAAK,CAACuP,UAAW;MAC7BC,UAAU,EAAExP,KAAK,CAACwP,UAAW;MAC7BK,UAAU,EAAE7P,KAAK,CAAC6P,UAAW;MAC7BC,WAAW,EAAE9P,KAAK,CAAC8P,WAAY;MAC/BH,aAAa,EAAE3P,KAAK,CAAC2P,aAAc;MACnCoF,MAAM,EAAE/U,KAAK,CAAC+U,MAAO;MACrBC,WAAW,EAAEhV,KAAK,CAACgV,WAAY;MAC/BpF,gBAAgB,EAAE5P,KAAK,CAAC4P,gBAAiB;MACzCqF,UAAU,EAAEjV,KAAK,CAACiV,UAAW;MAC7BvF,YAAY,EAAE1P,KAAK,CAAC0P;KACrB,CACF;;EAGH,OAAA,aACEnT,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KACZ,CAACsD,KAAK,CAACkV,QAAQ,IAAA,aACd3Y,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAAC2R,UAAU,EAAA;IACTxF,WAAW,EAAE1I,KAAK,CAAC0I,WAAY;IAC/ByF,QAAQ,EAAE,CACR;MACEd,IAAI,EAAE,4BAA4B;MAClC2B,IAAI,EAAE,wCAAwC;MAC9C5N,eAAe,EAAE,UAAU;MAC3BmN,KAAK,EAAE,CAAC,OAAO;KAChB,EACD;MACElB,IAAI,EAAE,0BAA0B;MAChC2B,IAAI,EAAE,wCAAwC;MAC9C5N,eAAe,EAAE,UAAU;MAC3BmN,KAAK,EAAE,CAAC,OAAO;KAChB,CACD;IACFH,UAAU,EAAE/R,CAAC,CAAC,sBAAsB,CAAE;IACtC+E,eAAe,EAAEpB,KAAK,CAACoB;GACxB,CAAC,EAAA,aACF7E,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EAAAA,aAEIA,KAAAA,CAAAA,aAAAA,CAACyX,eAAe,EAAA;IACdxD,mBAAmB,EAAExQ,KAAK,CAACwQ,mBAAoB;IAC/CjM,cAAc,EAAEvE,KAAK,CAACuE,cAAe;IACrCD,YAAY,EAAEtE,KAAK,CAACsE,YAAa;IACjC9G,IAAI,EAAC,SAAS;IACdwB,SAAS,EAAEA;GACZ,CAEA,CACF,CACN,EAAA,aACDzC,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKI,KAAK,EAAE;MAAEyK,IAAI,EAAE;;kBAClB7K,KAAAA,CAAAA,aAAAA,CAAC8T,iBAAiB,EAAA;IAChBG,mBAAmB,EAAExQ,KAAK,CAACwQ,mBAAoB;IAC/ChM,QAAQ,EAAExE,KAAK,CAACwE,QAAS;IACzBhH,IAAI,EAAC,SAAS;IACdwB,SAAS,EAAEA,SAAU;IACrBsR,YAAY,EAAEtQ,KAAK,CAACsQ,YAAa;IACjCC,WAAW,EAAE,EAACvQ,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,IAALA,KAAK,CAAEkV,QAAQ,CAAC;IAC9B5Q,YAAY,EAAEtE,KAAK,CAACsE;GACrB,CAAC,EAAA,aACF/H,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC,QAAQ;IAACC,KAAK,EAAE;MAAEyL,UAAU,EAAE,EAACpI,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,IAALA,KAAK,CAAEkV,QAAQ,CAAA,GAAG,MAAM,GAAG,EAAE;MAAE9N,IAAI,EAAE;;KAChFsN,MACE,CACF,CACF,CAAC;AAEV,CAAC;ACvKM,MAAMS,eAAe,GAAGA,CAAC;EAC9B9Y,CAAC;EACDoD,IAAI;EACJ8E,cAAc;EACdC,QAAQ;EACRuQ,MAAM;EACNK,mBAAmB;EACnBC,cAAc;EACd/V,SAAS;EACT4V,QAAQ;EACR5Q,YAAY;EACZgM,YAAY;EACZ2E,UAAU;EACVK,UAAU;EACV7Q,WAAW;EACX+L;AACF,CAAC,KAAK;EAEJ,MAAM,CAAChT,IAAI,EAAE+X,OAAO,CAAC,GAAG1W,QAAQ,CAACqW,QAAQ,GAAG,QAAQ,GAAG,EAAE,CAAC;EAC1D,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAG5W,QAAQ,CAACqW,QAAQ,GAAG,IAAI,GAAG,KAAK,CAAC;EAC3D,MAAM,CAACQ,MAAM,EAAEC,SAAS,CAAC,GAAG9W,QAAQ,CAACyF,YAAY,CAAC;EAClD,MAAM,CAACsR,WAAW,EAAEC,aAAa,CAAC,GAAGhX,QAAQ,CAACoW,UAAU,CAAC;EAazDnV,SAAS,CAAC,MAAM;IACd,IAAItC,IAAI,EAAEiY,QAAQ,CAAC,IAAI,CAAC;GACzB,EAAE,CAACjY,IAAI,CAAC,CAAC;EACV,MAAMsY,GAAG,GAAG7W,KAAK,CAACwP,WAAW,CAACsH,SAAS,CAAC,CAAC,SAAS,CAAC,CAAC,IAAI,KAAK;EAC7D,MAAMC,gBAAgB,GAAGA,CAAAA,KAAM;IAC7BP,QAAQ,CAAC,KAAK,CAAC;IACfF,OAAO,CAAC,EAAE,CAAC;IACXI,SAAS,CAACrR,YAAY,CAAC;IACvBuR,aAAa,CAACZ,UAAU,CAAC;GAC1B;EAOD,IAAI3V,SAAS,EAAE;IACb,OAAA,aAAO/C,KAAAA,CAAAA,aAAAA,CAAC+E,MAAM,EAAA,IAAE,CAAC;;EAInB,IAAIoT,MAAM;EACV,IAAI,CAACjV,IAAI,IAAI,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJ,IAAI,CAAEoN,MAAM,MAAK,CAAC,EAAE;IAC/B6H,MAAM,GAAA,aACJnY,KAAAA,CAAAA,aAAAA,CAACkP,IAAI,EAAA;MAAC9O,KAAK,EAAE;QAAE2W,SAAS,EAAE;;OACvBjX,CAAC,CAAC,kCAAkC,CAAC,CACnCsY,KAAK,CAAC,KAAK,CAAC,CACZrO,GAAG,CAAC,CAAC+G,IAAI,EAAE7G,KAAK,KAAA,aACfjK,KAAAA,CAAAA,aAAAA,CAAAA,GAAAA,EAAAA;MAAG4E,GAAG,EAAEqF,KAAM;MAAC7J,KAAK,EAAE;QAAE6W,SAAS,EAAE;;OAChCnG,IACA,CACJ,CACC,CACP;GACF,MAAM,IAAI5N,IAAI,IAAI,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJ,IAAI,CAAEoN,MAAM,IAAG,CAAC,EAAE;IACnC6H,MAAM,GAAA,aACJnY,KAAAA,CAAAA,aAAAA,CAAC0Z,WAAW,EAAA;MACVxW,IAAI,EAAEA,IAAK;MACX2V,mBAAmB,EAAEA,mBAAoB;MACzCE,UAAU,EAAEA,UAAU,GAAGA,UAAU,GAAGQ,GAAG,GAAG,6CAA6C,GAAG;KAC7F,CACF;;EAGH,OAAA,aACEvZ,KAAAA,CAAAA,aAAAA,CAACA,KAAK,CAACyJ,QAAQ,EAAA,IAAA,EAAA,aACbzJ,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;KACZ8H,QAAQ,IAAA,aACPjI,KAAAA,CAAAA,aAAAA,CAAC2Z,YAAY,EAAA;IACX7I,IAAI,EAAC,QAAQ;IACb8I,iBAAiB,EAAEA,CAAAA,KAAM;MACvBZ,OAAO,CAAC,QAAQ,CAAC;MACjBE,QAAQ,CAAC,IAAI,CAAC;;GAEjB,CACF,EACA,CAACP,QAAQ,IAAI3Q,cAAc,IAAA,aAC1BhI,KAAAA,CAAAA,aAAAA,CAAC6Z,YAAY,EAAA;IACX/I,IAAI,EAAC,QAAQ;IACb8I,iBAAiB,EAAEA,CAAAA,KAAM;MACvBZ,OAAO,CAAC,QAAQ,CAAC;MACjBE,QAAQ,CAAC,IAAI,CAAC;;GAEjB,CASA,CAAC,EACLf,MAAM,EACNc,KAAK,IAAA,aACJjZ,KAAAA,CAAAA,aAAAA,CAAC8Z,KAAK,EAAA,IAAA,EACH7Y,IAAI,KAAK,QAAQ,IAAA,aAChBjB,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBAEXH,KAAAA,CAAAA,aAAAA,CAAC8H,cAAc,EAAA;IACbmM,mBAAmB,EAAEA,mBAAoB;IACzCjM,cAAc,EAAEA,cAAe;IAC/BD,YAAY,EAAEA,YAAa;IAC3B9G,IAAI,EAAC,QAAQ;IACbuI,OAAO,EAAEiQ;GACV,CAEA,CACN,EACAxY,IAAI,KAAK,QAAQ,IAAA,aAChBjB,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAAC8T,iBAAiB,EAAA;IAChB7S,IAAI,EAAC,QAAQ;IACbuI,OAAO,EAAEiQ,gBAAiB;IAC1BxR,QAAQ,EAAEA,QAAS;IACnB6Q,cAAc,EAAEA,cAAe;IAC/B/Q,YAAY,EAAEA,YAAa;IAC3BgM,YAAY,EAAEA;GACf,CACE,CAEF,CAEK,CAAC;AAErB,CAAC;AC3ID,MAAMuD,WAAW,GAAIvQ,KAAK,IAAK;EAC7B,MAAM4M,IAAI,GAAG,IAAIzN,IAAI,CAACa,KAAK,CAAC;EAC5B,OAAA,aAAO/G,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;IAAMG,SAAS,EAAC;KAAYwT,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAE9L,kBAAkB,CAAA,CAAS,CAAC;AACvE,CAAC;AACD,MAAMwP,OAAO,GAAItQ,KAAK,IAAA,aAAK/G,KAAAA,CAAAA,aAAAA,CAAAA,MAAAA,EAAAA;EAAMG,SAAS,EAAC;AAAU,CAAA,EAAE4G,KAAY,CAAC;AAEpE,MAAMgT,mBAAmB,GAAGA,CAAC;EAC3B7W,IAAI;EACJH,SAAS;EACT4V,QAAQ;EACR5E,YAAY;EACZ/L,cAAc;EACdC,QAAQ;EACRuQ,MAAM;EACNrM,WAAW;EACXpE,YAAY;EACZ2Q,UAAU;EACVK,UAAU;EACV3B,WAAW;EACXhL,eAAe;EACfwF,QAAQ;EACRqC;AACF,CAAC,KAAK;EAEJ,MAAM;IAAEnU;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAM2R,OAAO,GAAGA,CAAAA,KAAM;IAAA,IAAA,cAAA;IACpB,OAAO9W,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,cAAA,GAAJA,IAAI,CAAEuB,QAAQ,MAAA,IAAA,IAAA,cAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAdvB,cAAAA,CAAgB6G,GAAG,CAAEgO,QAAQ,IAAA;MAAA,IAAA,qBAAA,EAAA,sBAAA,EAAA,sBAAA,EAAA,sBAAA;MAAA,OAAM;QACxC,CAACjY,CAAC,CAAC,gCAAgC,CAAC,GAAGiY,QAAQ,KAAA,IAAA,IAARA,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,qBAAA,GAARA,QAAQ,CAAEjT,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,qBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA3BiT,qBAAAA,CAA6B7K,aAAa;QACjF,CAACpN,CAAC,CAAC,0BAA0B,CAAC,GAAGwX,WAAW,CAAC,CAAA,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAR,QAAQ,CAAEY,eAAe,KAAI,EAAE,CAAC;QAC7E,CAACpY,CAAC,CAAC,8BAA8B,CAAC,GAAGuX,OAAO,CAAC,CAAA,QAAQ,KAAA,IAAA,IAAR,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAAR,QAAQ,CAAEvS,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAA3B,sBAAA,CAA6BuK,IAAI,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAjC,sBAAA,CAAmC7C,YAAY,KAAI,EAAE,CAAC;QACnG,CAAC1M,CAAC,CAAC,gCAAgC,CAAC,GAAGuX,OAAO,CAACU,QAAQ,KAAA,IAAA,IAARA,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAARA,QAAQ,CAAE7G,SAAS,CAAC;QACnE,CAACpR,CAAC,CAAC,uBAAuB,CAAC,GAAGuX,OAAO,CAACvX,CAAC,CAAE,kCAAiCiY,QAAQ,KAAA,IAAA,IAARA,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,sBAAA,GAARA,QAAQ,CAAEjT,cAAc,CAAC,CAAC,CAAC,MAAA,IAAA,IAAA,sBAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAA3BiT,sBAAAA,CAA6BlT,eAAgB,EAAC,CAAC,CAAC;QAC1H,CAAC/E,CAAC,CAAC,4BAA4B,CAAC,GAAGuX,OAAO,CAACvX,CAAC,CAAE,MAAKiY,QAAQ,KAAA,IAAA,IAARA,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAARA,QAAQ,CAAEvI,aAAc,EAAC,CAAC;OAC9E;KAAC,CAAC;GACJ;EACD,MAAMqJ,mBAAmB,GAAId,QAAQ,IAAK;IAAC,OAAQ,GAAEhQ,YAAY,KAAA,IAAA,IAAZA,YAAY,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAZA,YAAY,CAAEc,gBAAiB,IAAGmP,kBAAkB,CAACD,QAAQ,KAAA,IAAA,IAARA,QAAQ,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAARA,QAAQ,CAAGjY,CAAC,CAAC,gCAAgC,CAAC,CAAC,CAAE,EAAC;GAAC;EAC7J,OAAA,aACEE,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKI,KAAK,EAAE;MAAEuJ,OAAO,EAAE;;kBACrB3J,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBACbH,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA;IAAKG,SAAS,EAAC;kBAEbH,KAAAA,CAAAA,aAAAA,CAAC4Y,eAAe,EAAA;IACd9Y,CAAC,EAAEA,CAAE;IACLoD,IAAI,EAAE8W,OAAO,CAAA,CAAG;IAChBhS,cAAc,EAAEA,cAAe;IAC/BjF,SAAS,EAAEA,SAAU;IACrB4V,QAAQ,EAAEA,QAAS;IACnB1Q,QAAQ,EAAEA,QAAS;IACnBuQ,MAAM,EAAEA,MAAO;IACfvE,mBAAmB,EAAEA,mBAAoB;IACzClM,YAAY,EAAEA,YAAa;IAC3BgM,YAAY,EAAEA,YAAa;IAC3BgF,UAAU,EAAEA,UAAW;IACvBL,UAAU,EAAEA,UAAW;IACvBtM,eAAe,EAAEA,eAAgB;IACjCyM,mBAAmB,EAAEA;GACtB,CACE,CACF,CACF,CAAC;AAEV,CAAC;AC3DD,MAAMtN,YAAY,GAAGA,CAAC;EAAEY,WAAW;EAAEtH,eAAe,EAAfA,gBAAe,GAAG,UAAU;EAAEwH,aAAa,EAAbA,cAAa,GAAG,CAAA,CAAE;EAAED,eAAe;EAAEE;AAAQ,CAAC,KAAK;EAAA,IAAA,YAAA,EAAA,aAAA;EACpH,MAAMxK,QAAQ,GAAGY,KAAK,CAACC,UAAU,CAACC,kBAAkB,CAAA,CAAE;EACtD,MAAMkN,QAAQ,GAAGpN,KAAK,CAACiM,cAAc,CAACoB,GAAG,CAAC,UAAU,CAAC;EACrD,MAAM;IAAEjQ;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAM,CAAC4R,UAAU,EAAEC,aAAa,CAAC,GAAG5X,QAAQ,CAAC+J,cAAa,CAAC4N,UAAU,IAAI,CAAC,CAAC;EAC3E,MAAM,CAACE,QAAQ,EAAEC,WAAW,CAAC,GAAG9X,QAAQ,CAAC+J,cAAa,CAAC8N,QAAQ,IAAI,EAAE,CAAC;EACtE,MAAM,CAACzB,UAAU,EAAEY,aAAa,CAAC,GAAGhX,QAAQ,CAAC+J,cAAa,CAACqM,UAAU,IAAI,CAAC;IAAEhU,EAAE,EAAE,aAAa;IAAE2V,IAAI,EAAE;GAAO,CAAC,CAAC;EAC9G,MAAM,CAAClH,YAAY,EAAEmH,eAAe,CAAC,GAAGhY,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAACyF,YAAY,EAAEK,eAAe,CAAC,GAAG9F,QAAQ,CAAC,MAAM;IACrD,OAAO+J,cAAa,CAACtE,YAAY,IAAI,CAAA,CAAE;GACxC,CAAC;EACF,MAAM;IAAEhF,SAAS,EAAEwX,YAAY;IAAErX,IAAI,EAAEsX,SAAS;IAAE,GAAGC;GAAO,GAAG/X,KAAK,CAACU,KAAK,CAACC,QAAQ,CAAC2M,iBAAiB,CAAC;IAAE,GAAGjI,YAAY;IAAE2S,cAAc,EAAE;GAAM,EAAE5Y,QAAQ,EAAE,EAAE,EAAEgO,QAAQ,CAAC;EACxK,IAAI6K,QAAQ,GAAGC,MAAM,CAAClY,KAAK,CAAC+J,KAAK,CAACoO,OAAO,CAACF,QAAQ,CAAA,CAAE;EAEpD,IAAIG,gBAAgB,GAAGH,QAAQ,GAC3B;IAAEI,KAAK,EAAE,GAAG;IAAEC,MAAM,EAAEf,UAAU;IAAEgB,SAAS,EAAEvC,UAAU,KAAA,IAAA,IAAVA,UAAU,KAAA,KAAA,CAAA,IAAA,CAAA,YAAA,GAAVA,UAAU,CAAG,CAAC,CAAC,MAAA,IAAA,IAAA,YAAA,KAAA,KAAA,CAAA,IAAfA,YAAAA,CAAiB2B,IAAI,GAAG,MAAM,GAAG;GAAO,GACrF;IAAEU,KAAK,EAAEZ,QAAQ;IAAEa,MAAM,EAAEf,UAAU;IAAEgB,SAAS,EAAEvC,UAAU,KAAA,IAAA,IAAVA,UAAU,KAAA,KAAA,CAAA,IAAA,CAAA,aAAA,GAAVA,UAAU,CAAG,CAAC,CAAC,MAAA,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,IAAfA,aAAAA,CAAiB2B,IAAI,GAAG,MAAM,GAAG;GAAO;EAE9F,MAAM;IAAEtX,SAAS,EAAEmY,WAAW;IAAElY,OAAO;IAAEmL,KAAK;IAAEjL,IAAI;IAAE,GAAGC;GAAM,GAAGT,KAAK,CAACU,KAAK,CAACC,QAAQ,CAAC2M,iBAAiB,CAACjI,YAAY,EAAEjG,QAAQ,EAAEgZ,gBAAgB,EAAEhL,QAAQ,CAAC;EAG5JvM,SAAS,CAAC,MAAM;IACd,OAAO,MAAM;MACXJ,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAEiN,UAAU,CAAA,CAAE;KACnB;GACF,EAAE,EAAE,CAAC;EACN7M,SAAS,CAAC,MAAM;IAAE+W,eAAe,CAACE,SAAS,KAAA,IAAA,IAATA,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAATA,SAAS,CAAEW,KAAK,CAAC;GAAE,EAAE,CAACX,SAAS,CAAC,CAAC;EACnEjX,SAAS,CAAC,MAAM;IACd2W,aAAa,CAAC,CAAC,CAAC;GACjB,EAAE,CAACnS,YAAY,CAAC,CAAC;EAElB,MAAMqT,aAAa,GAAGA,CAAAA,KAAM;IAC1BlB,aAAa,CAAEmB,SAAS,IAAKA,SAAS,GAAGlB,QAAQ,CAAC;GACnD;EAED,MAAMmB,aAAa,GAAGA,CAAAA,KAAM;IAC1BpB,aAAa,CAAEmB,SAAS,IAAKA,SAAS,GAAGlB,QAAQ,CAAC;GACnD;EACD,MAAMoB,aAAa,GAAGA,CAAAA,KAAM;IAC1BrB,aAAa,CAAEmB,SAAS,IAAK,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAEF,KAAK,KAAKtM,IAAI,CAAC2M,IAAI,CAAC,CAAA,SAAS,KAAA,IAAA,IAAT,SAAS,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAT,SAAS,CAAEL,KAAK,IAAG,EAAE,CAAC,GAAG,EAAE,GAAGhB,QAAS,CAAC;GACrG;EAED,MAAMsB,cAAc,GAAGA,CAAAA,KAAM;IAC3BvB,aAAa,CAAEmB,SAAS,IAAK,CAAC,CAAC;GAChC;EACD,MAAMK,kBAAkB,GAAGA,CAACC,WAAW,EAAErH,KAAK,GAAG,KAAK,KAAK;IACzD,IAAI,CAACA,KAAK,EAAE;MACV,IAAIsH,cAAc,GAAGD,WAAW,CAACtS,MAAM;MACvC,IAAIwS,IAAI,GAAG;QAAE,GAAG9T,YAAY;QAAE,GAAG4T;OAAa;MAC9C,IAAIC,cAAc,EAAEA,cAAc,CAAC9G,OAAO,CAAElQ,GAAG,IAAK,OAAOiX,IAAI,CAACjX,GAAG,CAAC,CAAC;MAErE,OAAOiX,IAAI,CAACxS,MAAM;MAClBjB,eAAe,CAAC;QAAE,GAAGyT;OAAM,CAAC;KAC7B,MAAM;MACLzT,eAAe,CAAC;QAAE,GAAGiE,cAAa,CAACtE;OAAc,CAAC;;GAGrD;EAED,MAAM+T,UAAU,GAAGC,WAAW,CAAEC,IAAI,IAAK;IACvC,IAAIA,IAAI,CAAC1L,MAAM,KAAK,CAAC,EAAE;IACvBgJ,aAAa,CAAC0C,IAAI,CAAC;GACpB,EAAE,EAAE,CAAC;EAEN,MAAMC,oBAAoB,GAAIvY,CAAC,IAAK;IAClC0W,WAAW,CAAC8B,MAAM,CAACxY,CAAC,CAAC4G,MAAM,CAACvD,KAAK,CAAC,CAAC;GACpC;EAED,MAAMoV,eAAe,GAAGA,CAAAA,KAAM;IAC5B,OAAO,CAKL;MACEvb,KAAK,EAAEd,CAAC,CAAC,sBAAsB,CAAC;MAChCqB,IAAI,EAAE;KACP,EACD;MACEP,KAAK,EAAEd,CAAC,CAAC,qBAAqB,CAAC;MAC/BqB,IAAI,EAAE;KACP,EACD;MACEP,KAAK,EAAEd,CAAC,CAAC,oBAAoB,CAAC;MAC9BqB,IAAI,EAAE,cAAc;MACpBib,SAAS,EAAE,EAAE;MACbrH,OAAO,EAAE,eAAe;MACxBsH,KAAK,EAAEvc,CAAC,CAAC,sCAAsC,CAAC;MAChDwW,gBAAgB,EAAE;KACnB,CACF;GACF;EAMD,IAAI,CAAA,IAAI,KAAA,IAAA,IAAJ,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJ,IAAI,CAAEhG,MAAM,MAAK,IAAI,EAAE;IACzB,IAAIqK,QAAQ,EAAE;MACZ,OAAA,aACE3a,KAAAA,CAAAA,aAAAA,CAAC+Z,mBAAmB,EAAA;QAClBlV,eAAe,EAAEA,gBAAgB;QACjC3B,IAAI,EAAEA,IAAK;QACXkU,WAAW,EAAEjU,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAEiU,WAAY;QAC/BrU,SAAS,EAAEmY,WAAY;QACvBjH,mBAAmB,EAAE5H,cAAa,CAACtE,YAAa;QAChD4Q,QAAQ,EAAE,CAACrM,OAAQ;QACnBtE,cAAc,EAAE0T,kBAAmB;QACnC3H,YAAY,EAAEoI,eAAe,CAAA,CAAG;QAChClU,QAAQ,EAAEyT,kBAAmB;QAC7BlD,MAAM,EAAEsD,UAAW;QACnB9I,UAAU,EAAEoI,aAAc;QAC1BnI,UAAU,EAAEqI,aAAc;QAC1BpI,WAAW,EAAErE,IAAI,CAACC,KAAK,CAACmL,UAAU,GAAGE,QAAQ,CAAE;QAC/C/G,aAAa,EAAE+G,QAAS;QACxB1B,WAAW,EAAE,KAAM;QACnBpF,gBAAgB,EAAE4I,oBAAqB;QACvC9P,WAAW,EAAEA,WAAY;QACzBpE,YAAY,EAAEA,YAAa;QAC3B2Q,UAAU,EAAEA,UAAW;QACvBvF,YAAY,EAAEA,YAAa;QAC3B4F,UAAU,EAAE,sCAAuC;QACnD3M,eAAe,EAAEA;OAClB,CAAC;KAEL,MAAM;MACL,OAAA,aACEpM,KAAAA,CAAAA,aAAAA,CAAAA,KAAAA,EAAAA,IAAAA,EACGsM,OAAO,IAAA,aAAItM,KAAAA,CAAAA,aAAAA,CAAC2Q,MAAM,EAAA,IAAA,EAAE7Q,CAAC,CAAC,yBAAyB,CAAU,CAAC,EAAA,aAC3DE,KAAAA,CAAAA,aAAAA,CAACmX,oBAAoB,EAAA;QACnBtS,eAAe,EAAEA,gBAAgB;QACjC3B,IAAI,EAAEA,IAAK;QACXH,SAAS,EAAEmY,WAAY;QACvBjH,mBAAmB,EAAE5H,cAAa,CAACtE,YAAa;QAChD4Q,QAAQ,EAAE,CAACrM,OAAQ;QACnBtE,cAAc,EAAE0T,kBAAmB;QACnC3H,YAAY,EAAEoI,eAAe,CAAA,CAAG;QAChClU,QAAQ,EAAEyT,kBAAmB;QAC7BlD,MAAM,EAAEsD,UAAW;QACnB9I,UAAU,EAAEoI,aAAc;QAC1BnI,UAAU,EAAEqI,aAAc;QAC1BhI,UAAU,EAAEiI,aAAc;QAC1BhI,WAAW,EAAEkI,cAAe;QAC5BvI,WAAW,EAAErE,IAAI,CAACC,KAAK,CAACmL,UAAU,GAAGE,QAAQ,CAAE;QAC/C/G,aAAa,EAAE+G,QAAS;QACxB1B,WAAW,EAAE,KAAM;QACnBpF,gBAAgB,EAAE4I,oBAAqB;QACvC9P,WAAW,EAAEA,WAAY;QACzBpE,YAAY,EAAEA,YAAa;QAC3B2Q,UAAU,EAAEA,UAAW;QACvBvF,YAAY,EAAEA,YAAa;QAC3B/G,eAAe,EAAEA;OAClB,CACE,CAAC;;;AAId,CAAC;AC9JD,MAAMkQ,YAAY,GAAGA,CAAAA,KAAM;EACzB,IAAI,CAAC5Z,KAAK,CAAC+J,KAAK,CAAC8P,cAAc,CAAA,CAAE,EAAE;IACjC,OAAO,IAAI;;EAEb,MAAMza,QAAQ,GAAGY,KAAK,CAACC,UAAU,CAACC,kBAAkB,CAAA,CAAE;EACtD,MAAM;IAAE9C;GAAG,GAAGuI,cAAc,CAAA,CAAE;EAC9B,MAAMN,YAAY,GAAG;IACnBjG,QAAQ,EAAEA,QAAQ;IAClB+G,gBAAgB,EAAEvB,wBAAwB,CAAA,CAAE;IAC5CoT,cAAc,EAAE;GACjB;EACD,MAAM;IAAE3X,SAAS;IAAEC,OAAO;IAAEmL,KAAK;IAAEjL,IAAI;IAAE,GAAGC;GAAM,GAAGT,KAAK,CAACU,KAAK,CAACC,QAAQ,CAAC2M,iBAAiB,CAACjI,YAAY,EAAEjG,QAAQ,EAAE,EAAE,EAAE,KAAK,CAAC;EAE9H,MAAO0a,kBAAkB,GAAI;IAC3BC,IAAI,EAAA,aAAEzc,KAAAA,CAAAA,aAAAA,CAAC0c,WAAW,EAAA,IAAE,CAAC;IACrBC,UAAU,EAAE7c,CAAC,CAAC,sBAAsB,CAAC;IACrC8c,IAAI,EAAE,CACJ;MACEC,KAAK,EAAE9Z,SAAS,GAAG,GAAG,GAAGG,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAEiY,KAAK;MACpCva,KAAK,EAAEd,CAAC,CAAC,mBAAmB,CAAC;MAC7B2S,IAAI,EAAG;KACR,CACF;IACDX,KAAK,EAAE,CACL;MACE+K,KAAK,EAAE9Z,SAAS,GAAG,GAAG,GAAGG,IAAI,KAAA,IAAA,IAAJA,IAAI,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAJA,IAAI,CAAEiY,KAAK;MACpCva,KAAK,EAAEd,CAAC,CAAC,yBAAyB,CAAC;MACnC2S,IAAI,EAAG;KACR;GAEJ;EACD,OAAA,aAAOzS,KAAAA,CAAAA,aAAAA,CAAC8c,kBAAkB,EAAKN,kBAAqB,CAAC;AACvD,CAAC;MCzBYO,cAAc,GAAGA,CAAC;EAAEC,SAAS;EAAE/R;AAAS,CAAC,KAAK;EAAA,IAAA,aAAA;EACzD,MAAMgS,UAAU,GAAG,UAAU;EAC7B,MAAM5P,KAAK,GAAG6P,WAAW,CAAE7P,KAAK,IAAKA,KAAK,CAAC;EAC3C,MAAM8P,QAAQ,GAAG9P,KAAK,KAAA,IAAA,IAALA,KAAK,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,CAAA,aAAA,GAALA,KAAK,CAAE+P,MAAM,MAAA,IAAA,IAAA,aAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAb/P,aAAAA,CAAegQ,gBAAgB;EAChD,MAAM;IAAEta,SAAS;IAAEG,IAAI,EAAEoa;GAAO,GAAG5a,KAAK,CAAC6a,QAAQ,CAACC,QAAQ,CAAC;IAAER,SAAS;IAAEC,UAAU;IAAEE;GAAU,CAAC;EAC/F,MAAM;IAAEpS,IAAI;IAAEC;GAAK,GAAGyS,aAAa,CAAA,CAAE;EACrC,IAAIxS,QAAQ,KAAK,UAAU,EAAE;IAC3B,OAAA,aAAOjL,KAAAA,CAAAA,aAAAA,CAAC8K,WAAW,EAAA;MAACC,IAAI,EAAEA,IAAK;MAACC,GAAG,EAAEA,GAAI;MAACC,QAAQ,EAAE;KAAa,CAAC;GACnE,MAAM,OAAO,IAAI;AACpB,CAAC;AAED,MAAMyS,oBAAoB,GAAG;EAC3BX,cAAc;EACdT,YAAY;EACZ/Q,YAAY,EAAEA,YAAY;EAC1BG,sBAAsB,EAAEA,sBAAsB;EAC9CC,cAAc,EAAEA,cAAc;EAC9B7F,WAAW;EACXjG,MAAM;EACN8d,qBAAqB,EAAGla,KAAK,IAAA,aAAKzD,KAAAA,CAAAA,aAAAA,CAAC8H,cAAc,EAAKrE,KAAQ;AAChE,CAAC;AAED,MAAama,sBAAsB,GAAGA,CAAAA,KAAM;EAC1CtU,MAAM,CAACuU,OAAO,CAACH,oBAAoB,CAAC,CAAC5I,OAAO,CAAC,CAAC,CAAClQ,GAAG,EAAEmC,KAAK,CAAC,KAAK;IAC7DrE,KAAK,CAAC8I,wBAAwB,CAACsS,YAAY,CAAClZ,GAAG,EAAEmC,KAAK,CAAC;GACxD,CAAC;AACJ,CAAC","sourcesContent":["import { CardLabel, LabelFieldPair } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst Banner = ({ t, config }) => {\r\n    return (\r\n        <LabelFieldPair>\r\n            <CardLabel className=\"card-label-smaller\" style={{ color: \"white\" }}>.</CardLabel>\r\n            <span className=\"form-field\" style={{ color: \"gray\" }}>{t(config?.texts?.header)}</span>\r\n        </LabelFieldPair>)\r\n}\r\nexport default Banner;","import { Dropdown } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nexport const configCancelConfig = ({ t, selectedReason, Reasons, selectReason }) => {\r\n    return {\r\n        label: {\r\n            heading: `CR_COMMON_HEADER`,\r\n            submit: `CR_CANCEL_RECEIPT_BUTTON`,\r\n        },\r\n        form: [\r\n            {\r\n                body: [\r\n                    {\r\n                        label: t(\"CR_RECEIPT_CANCELLATION_REASON_LABEL\"),\r\n                        type: \"dropdown\",\r\n                        isMandatory: true,\r\n                        name: \"reason\",\r\n                        populators: (\r\n                            <Dropdown isMandatory selected={selectedReason} optionKey=\"name\" option={Reasons} select={selectReason} t={t} />\r\n                        ),\r\n                    },\r\n                    {\r\n                        label: t(\"CR_MORE_DETAILS_LABEL\"),\r\n                        type: \"text\",\r\n                        populators: {\r\n                            name: \"otherDetails\",\r\n                        },\r\n                        // isMandatory:selectedReason?.code==\"OTHER\"?true:false,\r\n                        disable: selectedReason?.code == \"OTHER\" ? false : true,\r\n                    },\r\n                    {\r\n                        label: t(\"CR_ADDITIONAL_PENALTY\"),\r\n                        type: \"text\",\r\n                        populators: {\r\n                            name: \"penalty\",\r\n                            disable: true\r\n                        },\r\n                        disable: true\r\n                    }\r\n                ],\r\n            },\r\n        ],\r\n    };\r\n};","import { FormComposer, Loader, Modal } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { configCancelConfig } from \"./Modal/CancelConfig\";\r\n\r\nconst ReceiptCancelModal = ({ t, action, tenantId, closeModal, submitAction, applicationData, billData }) => {\r\n  const history = useHistory();\r\n  const [config, setConfig] = useState({});\r\n  const [Reasons, setReasons] = useState([]);\r\n  const [selectedReason, selecteReason] = useState(\"\");\r\n  const tenantIds = Digit.ULBService.getCurrentTenantId() || '';\r\n  const tenant = Digit.ULBService.getStateId();\r\n  const { isLoading, isError, errors, data, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\r\n    tenant,\r\n    \"CancelReceiptReason\"\r\n  );\r\n\r\n  useEffect(() => {\r\n    return setConfig(\r\n      configCancelConfig({\r\n        t,\r\n        selectedReason,\r\n        Reasons,\r\n        selectReason,\r\n      })\r\n    );\r\n  }, [Reasons, selectedReason]);\r\n\r\n  const Heading = (props) => {\r\n    return <h1 className=\"heading-m\">{props.label}</h1>;\r\n  };\r\n\r\n  function selectReason(e) {\r\n    selecteReason(e);\r\n  }\r\n  const Close = () => (\r\n    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"#FFFFFF\">\r\n      <path d=\"M0 0h24v24H0V0z\" fill=\"none\" />\r\n      <path d=\"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\" />\r\n    </svg>\r\n  );\r\n\r\n  const CloseBtn = (props) => {\r\n    return (\r\n      <div className=\"icon-bg-secondary\" onClick={props.onClick}>\r\n        <Close />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  useEffect(() => {\r\n    setReasons(data?.dropdownData);\r\n  }, [data]);\r\n\r\n\r\n  function submit(data) {\r\n    history.replace(\"/digit-ui/employee/receipts/response\", {\r\n      paymentWorkflow: {\r\n        action: \"CANCEL\",\r\n        additionalDetails: {...data.otherDetails,selectedReasonMessage:t(`CR_REASON_${selectedReason.code}`)},\r\n        paymentId: applicationData?.Payments[0]?.id,\r\n        reason: selectedReason.code,\r\n        tenantId: applicationData?.Payments[0]?.tenantId,\r\n      }, key: \"UPDATE\", action: \"CANCELLATION\", businessService: applicationData?.Payments[0]?.paymentDetails[0]?.businessService\r\n    });\r\n\r\n  }\r\n  if (isLoading) {\r\n    return <Loader></Loader>\r\n  }\r\n  return config?.form ? (\r\n    <Modal\r\n      headerBarMain={<Heading label={t(config?.label?.heading)} />}\r\n      headerBarEnd={<CloseBtn onClick={closeModal} />}\r\n      actionCancelOnSubmit={closeModal}\r\n      actionSaveLabel={t(config?.label?.submit)}\r\n      actionSaveOnSubmit={() => { }}\r\n      formId=\"modal-action\"\r\n      isDisabled={!selectedReason}\r\n    >\r\n      <FormComposer config={config?.form} noBoxShadow inline disabled={true} childrenAtTheBottom onSubmit={submit} formId=\"modal-action\" />\r\n    </Modal>\r\n  ) : (\r\n    <Loader />\r\n  );\r\n};\r\nexport default ReceiptCancelModal;\r\n","import React from \"react\";\r\nimport ReceiptCancelModal from \"../ReceiptCancelModal\";\r\n\r\nconst ActionModal = (props) => {\r\n  return <ReceiptCancelModal {...props} />;\r\n};\r\n\r\nexport default ActionModal;\r\n","/* method to get date from epoch */\r\nexport const convertEpochToDate = (dateEpoch) => {\r\n    // Returning NA in else case because new Date(null) returns Current date from calender\r\n    if (dateEpoch) {\r\n        const dateFromApi = new Date(dateEpoch);\r\n        let month = dateFromApi.getMonth() + 1;\r\n        let day = dateFromApi.getDate();\r\n        let year = dateFromApi.getFullYear();\r\n        month = (month > 9 ? \"\" : \"0\") + month;\r\n        day = (day > 9 ? \"\" : \"0\") + day;\r\n        return `${day}/${month}/${year}`;\r\n    } else {\r\n        return 'NA';\r\n    }\r\n};\r\nexport const stringReplaceAll = (str = \"\", searcher = \"\", replaceWith = \"\") => {\r\n    if (searcher == \"\") return str;\r\n    while (str.includes(searcher)) {\r\n        str = str.replace(searcher, replaceWith);\r\n    }\r\n    return str;\r\n};\r\n\r\n/*   method to check not null  if not returns false*/\r\nexport const checkForNotNull = (value = \"\") => {\r\n    return value && value != null && value != undefined && value != \"\" ? true : false;\r\n};\r\n\r\nexport const convertDotValues = (value = \"\") => {\r\n    return (\r\n        (checkForNotNull(value) && ((value.replaceAll && value.replaceAll(\".\", \"_\")) || (value.replace && stringReplaceAll(value, \".\", \"_\")))) || \"NA\"\r\n    );\r\n};\r\n\r\nexport const convertToLocale = (value = \"\", key = \"\") => {\r\n    let convertedValue = convertDotValues(value);\r\n    if (convertedValue == \"NA\") {\r\n        return \"PT_NA\";\r\n    }\r\n    return `${key}_${convertedValue}`;\r\n};\r\n\r\nconst RECEIPTS_DEFAULT_SERVICE = \"PT\";\r\n\r\nexport const getDefaultReceiptService = () => {\r\n    return RECEIPTS_DEFAULT_SERVICE;\r\n}\r\n\r\nexport const getFinancialYears = (from, to) => {\r\n    const fromDate = new Date(from);\r\n    const toDate = new Date(to);\r\n    if (toDate.getYear() - fromDate.getYear() != 0) {\r\n      return `FY${fromDate.getYear() + 1900}-${toDate.getYear() - 100}`;\r\n    }\r\n    return `${fromDate.toLocaleDateString()}-${toDate.toLocaleDateString()}`;\r\n  }","import { CheckBox, CloseSvg, Dropdown, Loader, SubmitBar,ApplyFilterBar,ActionBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDefaultReceiptService } from \"../utils\";\r\n\r\nconst ReceiptsFilter = ({ searchParams, onFilterChange, onSearch, removeParam, ...props }) => {\r\n\r\n  const tenantId = Digit.ULBService.getCurrentTenantId() || '';\r\n  const tenant =Digit.ULBService.getStateId();\r\n  const [_searchParams, setSearchParams] = useState(() => searchParams);\r\n  const { t } = useTranslation();\r\n  const defaultService = getDefaultReceiptService();\r\n  const [status, setStatus] = useState([]);\r\n  const [service, setService] = useState({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\r\n\r\n  const { data, isLoading, ...rest } = Digit.Hooks.receipts.useReceiptsMDMS(\r\n    tenant,\r\n    \"CancelReceiptReasonAndStatus\"\r\n  );\r\n\r\n  const mdmsStatus = data?.dropdownDataStatus || [];\r\n\r\n  useEffect(() => {\r\n    if (service?.code != _searchParams.businessServices) {\r\n      setSearchParams({ businessServices: service?.code });\r\n    }\r\n  }, [service]);\r\n\r\n  useEffect(() => {\r\n    if (status) {\r\n      setSearchParams({ status: status.join(',') });\r\n    }\r\n  }, [status]);\r\n\r\n  const onCheckBoxClick = (value) => {\r\n    if (status.includes(value)) {\r\n      status.splice(status.findIndex((x) => x == value), 1)\r\n    } else {\r\n      status.push(value)\r\n    }\r\n    setStatus([...status])\r\n  }\r\n\r\n  const clearAll = () => {\r\n    onFilterChange({ delete: Object.keys(searchParams) }, true);\r\n    setStatus([]);\r\n    setService({ name: `BILLINGSERVICE_BUSINESSSERVICE_${defaultService}`, code: defaultService });\r\n    props?.onClose?.();\r\n  };\r\n  if (isLoading) {\r\n    return <Loader />\r\n  }\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"filter\">\r\n        <div className=\"filter-card\">\r\n          <div className=\"heading\">\r\n            <div className=\"filter-label\">{t(\"COMMON_TABLE_FILTERS\")}:</div>\r\n            <div className=\"clearAll\" onClick={clearAll}>\r\n              {t(\"CR_COMMON_CLEAR_ALL\")}\r\n            </div>\r\n            {props.type === \"desktop\" && (\r\n              <span className=\"clear-search\" onClick={clearAll} style={{ border: \"1px solid #e0e0e0\", padding: \"6px\" }}>\r\n                <svg width=\"17\" height=\"17\" viewBox=\"0 0 16 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                  <path\r\n                    d=\"M8 5V8L12 4L8 0V3C3.58 3 0 6.58 0 11C0 12.57 0.46 14.03 1.24 15.26L2.7 13.8C2.25 12.97 2 12.01 2 11C2 7.69 4.69 5 8 5ZM14.76 6.74L13.3 8.2C13.74 9.04 14 9.99 14 11C14 14.31 11.31 17 8 17V14L4 18L8 22V19C12.42 19 16 15.42 16 11C16 9.43 15.54 7.97 14.76 6.74Z\"\r\n                    fill=\"#505A5F\"\r\n                  />\r\n                </svg>\r\n              </span>\r\n            )}\r\n            {props.type === \"mobile\" && (\r\n              <span onClick={props.onClose}>\r\n                <CloseSvg />\r\n              </span>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <div>\r\n              <div className=\"filter-label\">{t(\"CR_COMMON_TABLE_COL_STATUS\")}</div>\r\n              {mdmsStatus.map((sta, index) =>\r\n                <CheckBox\r\n                  key={index + \"service\"}\r\n                  label={t(sta?.name)}\r\n                  value={sta?.code}\r\n                  checked={status.includes(sta?.code)}\r\n                  onChange={(event) =>\r\n                    onCheckBoxClick(event.target.value)}\r\n                />\r\n              )}\r\n              <div>\r\n                <div className=\"filter-label\">{t(\"CR_SERVICE_CATEGORY_LABEL\")}</div>\r\n                <Dropdown t={t} option={data?.dropdownData || null} value={service} selected={service} select={setService} optionKey={\"name\"} />\r\n              </div>\r\n              {props.type !== \"mobile\" &&<div>\r\n                <SubmitBar\r\n                  // disabled={status?.length == mdmsStatus?.length&& service?.code == defaultService}\r\n                  onSubmit={() => {onFilterChange(_searchParams)\r\n                    props?.onClose?.()}}\r\n                  label={t(\"ACTION_TEST_APPLY\")}\r\n                />\r\n              </div>}\r\n              {props.type === \"mobile\" &&(  <ActionBar>\r\n                <ApplyFilterBar\r\n                  submit={false}\r\n                  labelLink={t(\"ES_COMMON_CLEAR_ALL\")}\r\n                  buttonLink={t(\"ACTION_TEST_APPLY\")}\r\n                  onSubmit={() => {onFilterChange(_searchParams)\r\n                    props?.onClose?.()}}\r\n                  onClear={() => {clearAll()\r\n                    props?.onClose?.()}}\r\n                  style={{ flex: 1 }}\r\n                />\r\n              </ActionBar>)}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReceiptsFilter;\r\n","import { PrivateRoute } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link, Switch, useLocation } from \"react-router-dom\";\r\nimport { getDefaultReceiptService } from \"../utils\";\r\n\r\nconst EmployeeApp = ({ path, url, userType }) => {\r\n  const { t } = useTranslation();\r\n  const location = useLocation();\r\n  const mobileView = innerWidth <= 640;\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n\r\n  const inboxInitialState = {\r\n    searchParams: {\r\n      tenantId: tenantId,\r\n      businessServices: getDefaultReceiptService(),\r\n    },\r\n  };\r\n\r\n  const ReceiptInbox = Digit.ComponentRegistryService.getComponent(\"ReceiptInbox\");\r\n  const ReceiptAcknowledgement = Digit.ComponentRegistryService.getComponent(\"ReceiptAcknowledgement\");\r\n  const ReceiptDetails = Digit.ComponentRegistryService.getComponent(\"ReceiptDetails\");\r\n\r\n  return (\r\n    <Switch>\r\n      <React.Fragment>\r\n        <div className=\"ground-container\">\r\n          <p className=\"breadcrumb\" style={{ marginLeft: mobileView ? \"2vw\" : \"revert\" }}>\r\n            <Link to=\"/digit-ui/employee\" style={{ cursor: \"pointer\", color: \"#666\" }}>\r\n              {t(\"ES_COMMON_HOME\")}\r\n            </Link>{\" \"}\r\n            / <span>{location.pathname === \"/digit-ui/employee/receipts/inbox\" ? t(\"CR_COMMON_HEADER\") : t(\"CR_COMMON_HEADER\")}</span>\r\n          </p>\r\n          <PrivateRoute\r\n            path={`${path}/inbox`}\r\n            component={() => (\r\n              <ReceiptInbox\r\n                parentRoute={path}\r\n                businessService=\"receipts\"\r\n                filterComponent=\"RECEIPTS_INBOX_FILTER\"\r\n                initialStates={inboxInitialState}\r\n                isInbox={true}\r\n              />\r\n            )}\r\n          />\r\n          <PrivateRoute path={`${path}/inprogress`} component={(props) => <h2>{t(\"CR_RECEIPTS_SCREENS_UNDER_CONSTRUCTION\")}</h2>} />\r\n          <PrivateRoute path={`${path}/response`} component={(props) => <ReceiptAcknowledgement {...props} parentRoute={path} />} />\r\n          <PrivateRoute path={`${path}/details/:service/:id`} component={() => <ReceiptDetails />} />\r\n        </div>\r\n      </React.Fragment>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default EmployeeApp;\r\n","\r\nimport { ActionBar, Banner, Card, CardText, LinkButton, Loader, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport const printReciept = async (businessService, consumerCode) => {\r\n  await Digit.Utils.downloadReceipt(consumerCode, businessService, 'consolidatedreceipt');\r\n};\r\n\r\nconst GetMessage = (type, action, isSuccess, isEmployee, t) => {\r\n  return t(`CR_APPLY_${isSuccess ? \"SUCCESS\" : \"FAILURE\"}_MESSAGE_MAIN`);\r\n};\r\n\r\nconst GetActionMessage = (action, isSuccess, isEmployee, t) => {\r\n  return GetMessage(\"ACTION\", action, isSuccess, isEmployee, t);\r\n};\r\n\r\nconst GetLabel = (action, isSuccess, isEmployee, t) => {\r\n  if (isSuccess && action == \"CREATE\") {\r\n    return GetMessage(\"LABEL\", action, isSuccess, isEmployee, t);\r\n  }\r\n};\r\n\r\nconst BannerPicker = (props) => {\r\n  return (\r\n    <Banner\r\n      message={(GetActionMessage(props.action, props.isSuccess, props.isEmployee, props.t))}\r\n      applicationNumber={props?.data?.Payments?.[0]?.paymentDetails[0].receiptNumber}\r\n      info={props.isSuccess ? props.t(\"CR_RECEIPT_NUMBER\") : \"\"}\r\n      successful={props.isSuccess}\r\n    />\r\n  );\r\n};\r\n\r\nconst ReceiptAcknowledgement = (props) => {\r\n  const { t } = useTranslation();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { state } = props.location;\r\n  const mutation = Digit.Hooks.receipts.useReceiptsUpdate(tenantId, state?.businessService);\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\r\n\r\n  useEffect(() => {\r\n    if (mutation.data) setsuccessData(mutation.data);\r\n  }, [mutation.data]);\r\n\r\n  const onError = (error, variables) => {\r\n    setErrorInfo(error?.response?.data?.Errors[0]?.code || 'ERROR');\r\n    setMutationHappened(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onSuccess = () => {\r\n      setMutationHappened(true);\r\n    };\r\n    if (state.key === \"UPDATE\" && !mutationHappened && !errorInfo) {\r\n      mutation.mutate(\r\n        {\r\n          paymentWorkflows: [state.paymentWorkflow]\r\n        },\r\n        {\r\n          onError,\r\n          onSuccess,\r\n        }\r\n      );\r\n    }\r\n  }, []);\r\n\r\n  const DisplayText = (action, isSuccess, isEmployee, t) => {\r\n    if (!isSuccess) {\r\n      return mutation?.error?.response?.data?.Errors[0].code || errorInfo\r\n    } else {\r\n      Digit.SessionStorage.set(\"isupdate\", Math.floor(100000 + Math.random() * 900000));\r\n      return t('CR_APPLY_FORWARD_SUCCESS');\r\n    }\r\n  };\r\n\r\n  if (mutation.isLoading || (mutation.isIdle && !mutationHappened)) {\r\n    return <Loader />;\r\n  }\r\n  const Payment = mutation?.data?.Payments[0] || successData?.Payments?.[0];\r\n  const isSuccess = !successData ? mutation?.isSuccess : true;\r\n  return (\r\n    <Card>\r\n      <BannerPicker\r\n        t={t}\r\n        data={mutation?.data || successData}\r\n        action={state.action}\r\n        isSuccess={isSuccess}\r\n        isLoading={(mutation.isIdle && !mutationHappened) || mutation?.isLoading}\r\n        isEmployee={props.parentRoute.includes(\"employee\")}\r\n      />\r\n      <CardText>{t(DisplayText(state.action, isSuccess, props.parentRoute.includes(\"employee\"), t), t)}</CardText>\r\n      {isSuccess && (\r\n        <CardText>\r\n          <LinkButton\r\n            label={\r\n              <div className=\"response-download-button\">\r\n                <span>\r\n                  <svg width=\"20\" height=\"18\" viewBox=\"0 0 20 18\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                    <path d=\"M17 5H3C1.34 5 0 6.34 0 8V14H4V18H16V14H20V8C20 6.34 18.66 5 17 5ZM14 16H6V11H14V16ZM17 9C16.45 9 16 8.55 16 8C16 7.45 16.45 7 17 7C17.55 7 18 7.45 18 8C18 8.55 17.55 9 17 9ZM16 0H4V4H16V0Z\" fill=\"#a82227\" />\r\n                  </svg>\r\n                </span>\r\n                <span className=\"download-button\">{t(\"COMMON_TABLE_PRINT\")}</span>\r\n              </div>\r\n            }\r\n            style={{ width: \"100px\" }}\r\n            onClick={() => { printReciept(Payment?.paymentDetails[0]?.businessService, Payment?.paymentDetails[0]?.bill?.consumerCode) }}\r\n          />\r\n        </CardText>)}\r\n      <ActionBar>\r\n        <Link to={`${props.parentRoute.includes(\"employee\") ? \"/digit-ui/employee\" : \"/digit-ui/citizen\"}`}>\r\n          <SubmitBar label={t(\"CORE_COMMON_GO_TO_HOME\")} />\r\n        </Link>\r\n      </ActionBar>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default ReceiptAcknowledgement;\r\n","import { ActionBar, Card, Header, Loader, Row, StatusTable, SubmitBar } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ActionModal from \"../components/Modal\";\r\nimport { convertEpochToDate, convertToLocale, getFinancialYears } from \"../utils\";\r\n\r\nconst canCancelReceipt=(Receipt={})=>{\r\n  return Receipt?.paymentStatus !== \"CANCELLED\" && Receipt?.paymentStatus !== \"DEPOSITED\" && (Receipt?.instrumentStatus == \"APPROVED\" || Receipt?.instrumentStatus == \"REMITTED\");\r\n}\r\n\r\nconst ReceiptDetails = () => {\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const { t } = useTranslation();\r\n  const { id: receiptId, service: businessService } = useParams();\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const isupdate = Digit.SessionStorage.get(\"isupdate\")\r\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch({ receiptNumbers: decodeURIComponent(receiptId), businessServices: businessService }, tenantId, {}, isupdate);\r\n\r\n  const cancelReceipt = () => {\r\n    setShowModal(true);\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setShowModal(false);\r\n  };\r\n\r\n  const submitAction = (data) => { };\r\n  useEffect(() => {\r\n    return () => {\r\n      rest?.revalidate();\r\n    }\r\n  }, [])\r\n\r\n  const [mutationHappened, setMutationHappened, clear] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_HAPPENED\", false);\r\n  const [successData, setsuccessData, clearSuccessData] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_MUTATION_SUCCESS_DATA\", false);\r\n  const [errorInfo, setErrorInfo, clearError] = Digit.Hooks.useSessionStorage(\"EMPLOYEE_RECEIPT_ERROR_DATA\", false);\r\n  useEffect(() => {\r\n    setMutationHappened(false);\r\n    clearSuccessData();\r\n    clearError();\r\n  }, []);\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n  const PaymentReceipt = !isLoading && data?.Payments?.length > 0 ? data.Payments[0] : {};\r\n  const pendingDue= PaymentReceipt?.totalDue - PaymentReceipt?.totalAmountPaid;\r\n  return (\r\n    <React.Fragment>\r\n      <div style={{ width: \"30%\", fontFamily: \"calibri\", color: \"#FF0000\" }}>\r\n        <Header>{t(\"CR_RECEIPT_SUMMARY\")}</Header>\r\n      </div>\r\n      {!isLoading && data?.Payments?.length > 0 ? (\r\n        <div >\r\n          <Card>\r\n            <StatusTable>\r\n              <Row label={t(\"CR_RECEIPT_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.receiptNumber || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\r\n              <Row label={t(\"CR_RECEIPT_CONSUMER_NUMBER\")} text={PaymentReceipt?.paymentDetails[0]?.bill?.consumerCode || \"NA\"} textStyle={{ whiteSpace: \"pre\" }} />\r\n              <Row label={t(\"CR_RECEIPT_PAYMENT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.receiptDate) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYER_NAME\")} text={PaymentReceipt?.payerName || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYER_NUMBER\")} text={PaymentReceipt?.mobileNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_SERVICE_TYPE\")} text={t(convertToLocale(PaymentReceipt?.paymentDetails[0]?.businessService, 'BILLINGSERVICE_BUSINESSSERVICE')) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_BILL_PERIOD\")} text={getFinancialYears(PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.fromPeriod,PaymentReceipt?.paymentDetails[0]?.bill?.billDetails[0]?.toPeriod) || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_AMOUNT\")} text={'₹' + PaymentReceipt?.totalAmountPaid || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_PENDING_AMOUNT\")} text={'₹' + (pendingDue) || \"₹0\"} />\r\n              <Row label={t(\"CR_RECEIPT_PAYMENT_MODE\")} text={PaymentReceipt?.paymentMode ? t(`COMMON_MASTERS_PAYMENTMODE_${PaymentReceipt?.paymentMode}`) || \"NA\" : \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_TXN_ID\")} text={PaymentReceipt?.transactionNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_NO\")} text={PaymentReceipt?.paymentDetails[0]?.manualReceiptNumber || \"NA\"} />\r\n              <Row label={t(\"CR_RECEIPT_G8_RECEIPT_DATE\")} text={convertEpochToDate(PaymentReceipt?.paymentDetails[0]?.manualReceiptDate) || \"NA\"} />\r\n            </StatusTable>\r\n          </Card>\r\n        </div>\r\n      ) : null}\r\n      {showModal ? (\r\n        <ActionModal t={t} tenantId={tenantId} applicationData={data} closeModal={closeModal} submitAction={submitAction} />\r\n      ) : null}\r\n      <ActionBar>\r\n        {canCancelReceipt(PaymentReceipt) && <SubmitBar label={t(\"CR_CANCEL_RECEIPT_BUTTON\")} onSubmit={() => cancelReceipt()} />}\r\n      </ActionBar>\r\n    </React.Fragment>\r\n  );\r\n};\r\n\r\nexport default ReceiptDetails;\r\n","import { AnnouncementIcon, Card } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst InboxLinks = ({ parentRoute, businessService, allLinks, headerText }) => {\r\n  const { t } = useTranslation();\r\n  const [links, setLinks] = useState([]);\r\n  const { roles: userRoles } = Digit.UserService.getUser().info;\r\n  useEffect(() => {\r\n    let linksToShow = allLinks\r\n      .filter((e) => e.businessService === businessService)\r\n      .filter(({ roles }) => roles.some((e) => userRoles.map(({ code }) => code).includes(e)) || !roles.length);\r\n    setLinks(linksToShow);\r\n  }, []);\r\n\r\n  const GetLogo = () => (\r\n    <div className=\"header\">\r\n      <span className=\"logo\">\r\n        <AnnouncementIcon />\r\n      </span>{\" \"}\r\n      <span className=\"text\">{t(headerText)}</span>\r\n    </div>\r\n  );\r\n  return (\r\n    <Card className=\"employeeCard filter inboxLinks\">\r\n      <div className=\"complaint-links-container\">\r\n        {GetLogo()}\r\n        <div className=\"body\">\r\n          {links.map(({ link, text, hyperlink = false, accessTo = [] }, index) => {\r\n            return (\r\n              <span className=\"link\" key={index}>\r\n                {hyperlink ? <a href={link}>{t(text)}</a> : <Link to={link}>{t(text)}</Link>}\r\n              </span>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default InboxLinks;","import { Table } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\n\r\nconst ApplicationTable = ({ t, columns, data, getCellProps, onNextPage, onPrevPage, currentPage, totalRecords, pageSizeLimit, onPageSizeChange, onLastPage, onFirstPage }) => (\r\n  <Table\r\n    t={t}\r\n    data={data}\r\n    manualPagination={true}\r\n    columns={columns}\r\n    getCellProps={getCellProps}\r\n    onNextPage={onNextPage}\r\n    onPrevPage={onPrevPage}\r\n    currentPage={currentPage}\r\n    totalRecords={totalRecords}\r\n    onLastPage={onLastPage}\r\n    onFirstPage={onFirstPage}\r\n    onPageSizeChange={onPageSizeChange}\r\n    pageSizeLimit={pageSizeLimit}\r\n  />\r\n);\r\n\r\nexport default ApplicationTable;\r\n","import { ActionBar, CloseSvg, DatePicker, Label, LinkLabel, MobileNumber, SubmitBar, TextInput } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect } from \"react\";\r\nimport { Controller, useForm } from \"react-hook-form\";\r\nimport { useTranslation } from \"react-i18next\";\r\n\r\nconst fieldComponents = {\r\n  date: DatePicker,\r\n  mobileNumber: MobileNumber,\r\n};\r\n\r\nconst SearchApplication = ({ onSearch, type, onClose, searchFields, searchParams, isInboxPage, defaultSearchParams, clearSearch: _clearSearch }) => {\r\n  const { t } = useTranslation();\r\n  const { register, handleSubmit, reset, watch, control, setError, clearErrors, formState } = useForm({\r\n    defaultValues: searchParams,\r\n  });\r\n\r\n  const form = watch();\r\n  const mobileView = innerWidth <= 640;\r\n\r\n\r\n  useEffect(() => {\r\n    searchFields.forEach(({ pattern, name, maxLength, minLength, errorMessages, ...el }) => {\r\n      const value = form[name];\r\n      const error = formState.errors[name];\r\n      if (pattern) {\r\n        if (!new RegExp(pattern).test(value) && !error)\r\n          setError(name, { type: \"pattern\", message: t(errorMessages?.pattern) || t(`PATTERN_${name.toUpperCase()}_FAILED`) });\r\n        else if (new RegExp(pattern).test(value) && error?.type === \"pattern\") clearErrors([name]);\r\n      }\r\n      if (minLength) {\r\n        if (value?.length < minLength && !error)\r\n          setError(name, { type: \"minLength\", message: t(errorMessages?.minLength || `MINLENGTH_${name.toUpperCase()}_FAILED`) });\r\n        else if (value?.length >= minLength && error?.type === \"minLength\") clearErrors([name]);\r\n      }\r\n      if (maxLength) {\r\n        if (value?.length > maxLength && !error)\r\n          setError(name, { type: \"maxLength\", message: t(errorMessages?.maxLength || `MAXLENGTH_${name.toUpperCase()}_FAILED`) });\r\n        else if (value?.length <= maxLength && error?.type === \"maxLength\") clearErrors([name]);\r\n      }\r\n    });\r\n  }, [form, formState, setError, clearErrors]);\r\n\r\n  const onSubmitInput = (data) => {\r\n    if (true) {\r\n      if (!data.mobileNumber) {\r\n        delete data.mobileNumber;\r\n      }\r\n      data.delete = [];\r\n      searchFields.forEach((field) => {\r\n        if (!data[field.name]) data.delete.push(field.name);\r\n      });\r\n      onSearch(data);\r\n      if (type === \"mobile\") {\r\n        onClose();\r\n      }\r\n    }\r\n  };\r\n\r\n  function clearSearch() {\r\n    const resetValues = searchFields.reduce((acc, field) => ({ ...acc, [field?.name]: \"\" }), {});\r\n    reset(resetValues);\r\n    const _newParams = { ...searchParams };\r\n    _newParams.delete = [];\r\n    searchFields.forEach((e) => {\r\n      _newParams.delete.push(e?.name);\r\n    });\r\n    onSearch({ ..._newParams }, true);\r\n    if (type === \"mobile\") {\r\n      onClose();\r\n    }\r\n  }\r\n\r\n  const clearAll = (mobileView) => {\r\n    const mobileViewStyles = mobileView ? { margin: 0 } : {};\r\n    return (\r\n      <LinkLabel style={{ display: \"inline\", ...mobileViewStyles }} onClick={clearSearch}>\r\n        {t(\"CR_RESET_BUTTON\")}\r\n      </LinkLabel>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmitInput)}>\r\n      <React.Fragment>\r\n        <div className=\"search-container\" style={{ width: \"auto\", marginLeft: isInboxPage ? \"24px\" : \"revert\" }}>\r\n          <div className=\"search-complaint-container\">\r\n            {(type === \"mobile\" || mobileView) && (\r\n              <div className=\"complaint-header\" style={{ display: 'flex', justifyContent: \"space-between\" }}>\r\n                <h2>{t(\"ES_COMMON_SEARCH_BY\")}</h2>\r\n                <span onClick={onClose}>\r\n                  <CloseSvg />\r\n                </span>\r\n              </div>\r\n            )}\r\n            <div className=\"complaint-input-container\" style={{ width: \"100%\" }}>\r\n              {searchFields\r\n                ?.filter((e) => true)\r\n                ?.map((input, index) => (\r\n                  <div key={input.name} className=\"input-fields\">\r\n                    <span className={\"mobile-input\"}>\r\n                      <Label>{t(input.label)}</Label>\r\n                      {!input.type ? (\r\n                        <Controller\r\n                          render={(props) => {\r\n                            return <div className=\"field-container\">\r\n                              {input?.componentInFront ? (\r\n                                <span className=\"employee-card-input employee-card-input--front\" style={{ flex: \"none\" }}>\r\n                                  {input?.componentInFront}\r\n                                </span>\r\n                              ) : null}\r\n                              <TextInput {...input} inputRef={register} watch={watch} shouldUpdate={true} />\r\n                            </div>\r\n                          }}\r\n                          name={input.name}\r\n                          control={control}\r\n                          defaultValue={\"\"}\r\n                        />\r\n                      ) : (\r\n                        <Controller\r\n                          render={(props) => {\r\n                            const Comp = fieldComponents?.[input.type];\r\n                            return <Comp onChange={props.onChange} value={props.value} />;\r\n                          }}\r\n                          name={input.name}\r\n                          control={control}\r\n                          defaultValue={\"\"}\r\n                        />\r\n                      )}\r\n                    </span>\r\n                    {formState?.dirtyFields?.[input.name] ? (\r\n                      <span\r\n                        style={{ fontWeight: \"700\", color: \"rgba(212, 53, 28)\", paddingLeft: \"8px\", marginTop: \"-20px\", fontSize: \"12px\" }}\r\n                        className=\"inbox-search-form-error\"\r\n                      >\r\n                        {formState?.errors?.[input.name]?.message}\r\n                      </span>\r\n                    ) : null}\r\n                  </div>\r\n                ))}\r\n              {type === \"desktop\" && !mobileView && !isInboxPage && (\r\n                <div className=\"search-action-wrapper\">\r\n                  <SubmitBar\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"CR_SEARCH_BUTTON\")}\r\n                    // disabled={!!Object.keys(formState.errors).length || Object.keys(form).every((key) => !form?.[key])}\r\n                    submit\r\n                  />\r\n                  <div style={{ width: \"100%\", textAlign: \"right\", width: \"240px\", textAlign: \"right\", marginLeft: \"96px\", marginTop: \"8px\" }}>\r\n                    {clearAll()}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {isInboxPage && (\r\n              <div className=\"inbox-action-container\">\r\n                {type === \"desktop\" && !mobileView && (\r\n                  <span style={{ paddingTop: \"9px\" }} className=\"clear-search\">\r\n                    {clearAll()}\r\n                  </span>\r\n                )}\r\n                {type === \"desktop\" && !mobileView && (\r\n                  <SubmitBar\r\n                    style={{ marginTop: \"unset\" }}\r\n                    className=\"submit-bar-search\"\r\n                    label={t(\"CR_SEARCH_BUTTON\")}\r\n                    submit\r\n                  />\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {(type === \"mobile\" || mobileView) && (\r\n          <ActionBar className=\"clear-search-container\">\r\n            <button className=\"clear-search\" style={{ flex: 1 }}>\r\n              {clearAll(mobileView)}\r\n            </button>\r\n            <SubmitBar\r\n              label={t(\"CR_SEARCH_BUTTON\")} style={{ flex: 1 }} submit={true} />\r\n          </ActionBar>\r\n        )}\r\n      </React.Fragment>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SearchApplication;","import { Card, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { Link } from \"react-router-dom\";\r\nimport InboxLinks from \"./ApplicationLinks\";\r\nimport ApplicationTable from \"./ApplicationTable\";\r\nimport SearchApplication from \"./search\";\r\n\r\nconst ReceiptsDesktopInbox = ({ tableConfig, filterComponent, ...props }) => {\r\n  const { t } = useTranslation();\r\n  const tenantIds = Digit.SessionStorage.get(\"HRMS_TENANTS\");\r\n  const GetCell = (value) => <span className=\"cell-text\">{t(value)}</span>;\r\n  const GetDateCell = (value) => {\r\n    const date = new Date(value);\r\n    return <span className=\"cell-text\">{date?.toLocaleDateString()}</span>\r\n  };\r\n  const GetSlaCell = (value, t, prefix = '') => {\r\n    return value == \"CANCELLED\" ? <span className=\"sla-cell-error\">{t(`${prefix}${value}`) || \"\"}</span> : <span className=\"sla-cell-success\">{t(`${prefix}${value}`) || \"\"}</span>;\r\n  };\r\n  const data = props?.data?.Payments;\r\n  const [FilterComponent, setComp] = useState(() => Digit.ComponentRegistryService?.getComponent(filterComponent));\r\n  const columns = React.useMemo(() => {\r\n    return [\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return (\r\n            <span className=\"link\">\r\n              <Link to={`/digit-ui/employee/receipts/details/${row.original?.paymentDetails[0]?.businessService}/${encodeURIComponent(row.original?.paymentDetails[0]?.receiptNumber)}`}>{row.original?.paymentDetails[0]?.receiptNumber}</Link>\r\n            </span>\r\n          );\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_DATE\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetDateCell(row.original?.transactionDate);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_CONSUMERCODE\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${row.original?.paymentDetails[0]?.bill?.consumerCode}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${row.original?.payerName}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_SERVICE_TYPE_LABEL\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetCell(`${t(\"BILLINGSERVICE_BUSINESSSERVICE_\" + row.original?.paymentDetails[0]?.businessService)}`);\r\n        },\r\n      },\r\n      {\r\n        Header: t(\"CR_COMMON_TABLE_COL_STATUS\"),\r\n        disableSortBy: true,\r\n        Cell: ({ row }) => {\r\n          return GetSlaCell(`${row.original?.paymentStatus}`, t, 'RC_');\r\n        },\r\n      },\r\n\r\n    ];\r\n  }, []);\r\n\r\n  let result;\r\n  if (props.isLoading) {\r\n    result = <Loader />;\r\n  } else if (data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  } else if (data?.length > 0) {\r\n    result = (\r\n      <ApplicationTable\r\n        t={t}\r\n        data={data}\r\n        columns={columns}\r\n        getCellProps={(cellInfo) => {\r\n          return {\r\n            style: {\r\n              maxWidth: cellInfo.column.Header === t(\"HR_EMP_ID_LABEL\") ? \"140px\" : \"\",\r\n              padding: \"20px 18px\",\r\n              fontSize: \"16px\",\r\n            },\r\n          };\r\n        }}\r\n        onPageSizeChange={props.onPageSizeChange}\r\n        currentPage={props.currentPage}\r\n        onNextPage={props.onNextPage}\r\n        onPrevPage={props.onPrevPage}\r\n        onLastPage={props.onLastPage}\r\n        onFirstPage={props.onFirstPage}\r\n        pageSizeLimit={props.pageSizeLimit}\r\n        onSort={props.onSort}\r\n        disableSort={props.disableSort}\r\n        onPageSizeChange={props.onPageSizeChange}\r\n        sortParams={props.sortParams}\r\n        totalRecords={props.totalRecords}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"inbox-container\">\r\n      {!props.isSearch && (\r\n        <div className=\"filters-container\">\r\n          <InboxLinks\r\n            parentRoute={props.parentRoute}\r\n            allLinks={[\r\n              {\r\n                text: \"CR_COMMON_DASHBOARD_HEADER\",\r\n                link: \"/digit-ui/employee/receipts/inprogress\",\r\n                businessService: \"receipts\",\r\n                roles: [\"CR_PT\"],\r\n              },\r\n              {\r\n                text: \"CR_COMMON_REPORTS_HEADER\",\r\n                link: \"/digit-ui/employee/receipts/inprogress\",\r\n                businessService: \"receipts\",\r\n                roles: [\"CR_PT\"],\r\n              }\r\n            ]}\r\n            headerText={t(\"ACTION_TEST_RECEIPTS\")}\r\n            businessService={props.businessService}\r\n          />\r\n          <div>\r\n            {\r\n              <FilterComponent\r\n                defaultSearchParams={props.defaultSearchParams}\r\n                onFilterChange={props.onFilterChange}\r\n                searchParams={props.searchParams}\r\n                type=\"desktop\"\r\n                tenantIds={tenantIds}\r\n              />\r\n            }\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div style={{ flex: 1 }}>\r\n        <SearchApplication\r\n          defaultSearchParams={props.defaultSearchParams}\r\n          onSearch={props.onSearch}\r\n          type=\"desktop\"\r\n          tenantIds={tenantIds}\r\n          searchFields={props.searchFields}\r\n          isInboxPage={!props?.isSearch}\r\n          searchParams={props.searchParams}\r\n        />\r\n        <div className=\"result\" style={{ marginLeft: !props?.isSearch ? \"24px\" : \"\", flex: 1 }}>\r\n          {result}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptsDesktopInbox;\r\n","import { Card, DetailsCard, FilterAction, Loader, PopUp, SearchAction } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport ReceiptsFilter from \"../ReceiptsFilter\";\r\nimport SearchApplication from \"./search\";\r\nexport const ApplicationCard = ({\r\n  t,\r\n  data,\r\n  onFilterChange,\r\n  onSearch,\r\n  onSort,\r\n  serviceRequestIdKey,\r\n  isFstpOperator,\r\n  isLoading,\r\n  isSearch,\r\n  searchParams,\r\n  searchFields,\r\n  sortParams,\r\n  linkPrefix,\r\n  removeParam,\r\n  defaultSearchParams\r\n}) => {\r\n\r\n  const [type, setType] = useState(isSearch ? \"SEARCH\" : \"\");\r\n  const [popup, setPopup] = useState(isSearch ? true : false);\r\n  const [params, setParams] = useState(searchParams);\r\n  const [_sortparams, setSortParams] = useState(sortParams);\r\n  const selectParams = (param) => {\r\n    setParams((o) => ({ ...o, ...param }));\r\n  };\r\n  const clearParam = () => {\r\n    setParams({});\r\n  };\r\n  const onSearchPara = (param) => {\r\n    onFilterChange({ ...params, ...param });\r\n    setType(\"\");\r\n    setPopup(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (type) setPopup(true);\r\n  }, [type]);\r\n  const DSO = Digit.UserService.hasAccess([\"FSM_DSO\"]) || false;\r\n  const handlePopupClose = () => {\r\n    setPopup(false);\r\n    setType(\"\");\r\n    setParams(searchParams);\r\n    setSortParams(sortParams);\r\n  };\r\n  const onSearchSortParams = (d) => {\r\n    setSortParams(d);\r\n    setPopup(false);\r\n    setType(\"\");\r\n    onSort(d);\r\n  };\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n\r\n  let result;\r\n  if (!data || data?.length === 0) {\r\n    result = (\r\n      <Card style={{ marginTop: 20 }}>\r\n        {t(\"CS_MYAPPLICATIONS_NO_APPLICATION\")\r\n          .split(\"\\\\n\")\r\n          .map((text, index) => (\r\n            <p key={index} style={{ textAlign: \"center\" }}>\r\n              {text}\r\n            </p>\r\n          ))}\r\n      </Card>\r\n    );\r\n  } else if (data && data?.length > 0) {\r\n    result = (\r\n      <DetailsCard\r\n        data={data}\r\n        serviceRequestIdKey={serviceRequestIdKey}\r\n        linkPrefix={linkPrefix ? linkPrefix : DSO ? \"/digit-ui/employee/fsm/application-details/\" : \"/digit-ui/employee/fsm/\"}\r\n      />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div className=\"searchBox\">\r\n        {onSearch && (\r\n          <SearchAction\r\n            text=\"SEARCH\"\r\n            handleActionClick={() => {\r\n              setType(\"SEARCH\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        {!isSearch && onFilterChange && (\r\n          <FilterAction\r\n            text=\"FILTER\"\r\n            handleActionClick={() => {\r\n              setType(\"FILTER\");\r\n              setPopup(true);\r\n            }}\r\n          />\r\n        )}\r\n        {/* <FilterAction\r\n          text=\"SORT\"\r\n          handleActionClick={() => {\r\n            setType(\"SORT\");\r\n            setPopup(true);\r\n          }}\r\n        /> */}\r\n      </div>\r\n      {result}\r\n      {popup && (\r\n        <PopUp>\r\n          {type === \"FILTER\" && (\r\n            <div className=\"popup-module\">\r\n              {\r\n                <ReceiptsFilter\r\n                  defaultSearchParams={defaultSearchParams}\r\n                  onFilterChange={onFilterChange}\r\n                  searchParams={searchParams}\r\n                  type=\"mobile\"\r\n                  onClose={handlePopupClose}\r\n                />\r\n              }\r\n            </div>\r\n          )}\r\n          {type === \"SEARCH\" && (\r\n            <div className=\"popup-module\">\r\n              <SearchApplication\r\n                type=\"mobile\"\r\n                onClose={handlePopupClose}\r\n                onSearch={onSearch}\r\n                isFstpOperator={isFstpOperator}\r\n                searchParams={searchParams}\r\n                searchFields={searchFields}\r\n              />\r\n            </div>\r\n          )}\r\n        </PopUp>\r\n      )}\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { ApplicationCard } from \"./ApplicationCard\";\r\n\r\nconst GetDateCell = (value) => {\r\n  const date = new Date(value);\r\n  return <span className=\"sla-cell\">{date?.toLocaleDateString()}</span>\r\n};\r\nconst GetCell = (value) => <span className=\"sla-cell\">{value}</span>;\r\n\r\nconst ReceiptsMobileInbox = ({\r\n  data,\r\n  isLoading,\r\n  isSearch,\r\n  searchFields,\r\n  onFilterChange,\r\n  onSearch,\r\n  onSort,\r\n  parentRoute,\r\n  searchParams,\r\n  sortParams,\r\n  linkPrefix,\r\n  tableConfig,\r\n  filterComponent,\r\n  allLinks,\r\n  defaultSearchParams\r\n}) => {\r\n  \r\n  const { t } = useTranslation();\r\n  const getData = () => {\r\n    return data?.Payments?.map((original) => ({\r\n      [t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")]: original?.paymentDetails[0]?.receiptNumber,\r\n      [t(\"CR_COMMON_TABLE_COL_DATE\")]: GetDateCell(original?.transactionDate || \"\"),\r\n      [t(\"CR_COMMON_TABLE_CONSUMERCODE\")]: GetCell(original?.paymentDetails[0]?.bill?.consumerCode || \"\"),\r\n      [t(\"CR_COMMON_TABLE_COL_PAYEE_NAME\")]: GetCell(original?.payerName),\r\n      [t(\"CR_SERVICE_TYPE_LABEL\")]: GetCell(t(`BILLINGSERVICE_BUSINESSSERVICE_${original?.paymentDetails[0]?.businessService}`)),\r\n      [t(\"CR_COMMON_TABLE_COL_STATUS\")]: GetCell(t(`RC_${original?.paymentStatus}`)),\r\n    }));\r\n  };\r\n  const serviceRequestIdKey = (original) => {return `${searchParams?.businessServices}/${encodeURIComponent(original?.[t(\"CR_COMMON_TABLE_COL_RECEIPT_NO\")])}`};\r\n  return (\r\n    <div style={{ padding: 0 }}>\r\n      <div className=\"inbox-container\">\r\n        <div className=\"filters-container\">\r\n          {/* {!isSearch && <ApplicationLinks linkPrefix={parentRoute} allLinks={allLinks} isMobile={true} />} */}\r\n          <ApplicationCard\r\n            t={t}\r\n            data={getData()}\r\n            onFilterChange={onFilterChange}\r\n            isLoading={isLoading}\r\n            isSearch={isSearch}\r\n            onSearch={onSearch}\r\n            onSort={onSort}\r\n            defaultSearchParams={defaultSearchParams}\r\n            searchParams={searchParams}\r\n            searchFields={searchFields}\r\n            linkPrefix={linkPrefix}\r\n            sortParams={sortParams}\r\n            filterComponent={filterComponent}\r\n            serviceRequestIdKey={serviceRequestIdKey}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReceiptsMobileInbox;\r\n","import { Header, Loader } from \"@egovernments/digit-ui-react-components\";\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport ReceiptsDesktopInbox from \"../components/inbox/ReceiptsDesktopInbox\";\r\nimport ReceiptsMobileInbox from \"../components/inbox/ReceiptsMobileInbox\";\r\n\r\nconst ReceiptInbox = ({ parentRoute, businessService = \"receipts\", initialStates = {}, filterComponent, isInbox }) => {\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const isupdate = Digit.SessionStorage.get(\"isupdate\");\r\n  const { t } = useTranslation();\r\n  const [pageOffset, setPageOffset] = useState(initialStates.pageOffset || 0);\r\n  const [pageSize, setPageSize] = useState(initialStates.pageSize || 10);\r\n  const [sortParams, setSortParams] = useState(initialStates.sortParams || [{ id: \"createdTime\", desc: false }]);\r\n  const [totalRecords, setTotalRecords] = useState(0);\r\n  const [searchParams, setSearchParams] = useState(() => {\r\n    return initialStates.searchParams || {};\r\n  });\r\n  const { isLoading: countLoading, data: countData, ...rest1 } = Digit.Hooks.receipts.useReceiptsSearch({ ...searchParams, isCountRequest: true }, tenantId, [], isupdate);\r\n  let isMobile = window.Digit.Utils.browser.isMobile();\r\n\r\n  let paginationParams = isMobile\r\n    ? { limit: 100, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" }\r\n    : { limit: pageSize, offset: pageOffset, sortOrder: sortParams?.[0]?.desc ? \"DESC\" : \"ASC\" };\r\n\r\n  const { isLoading: hookLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, paginationParams, isupdate);\r\n  let isLoading = false;\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      rest?.revalidate();\r\n    }\r\n  }, [])\r\n  useEffect(() => { setTotalRecords(countData?.Count) }, [countData])\r\n  useEffect(() => {\r\n    setPageOffset(0);\r\n  }, [searchParams]);\r\n\r\n  const fetchNextPage = () => {\r\n    setPageOffset((prevState) => prevState + pageSize);\r\n  };\r\n\r\n  const fetchPrevPage = () => {\r\n    setPageOffset((prevState) => prevState - pageSize);\r\n  };\r\n  const fetchLastPage = () => {\r\n    setPageOffset((prevState) => countData?.Count && (Math.ceil(countData?.Count / 10) * 10 - pageSize));\r\n  };\r\n\r\n  const fetchFirstPage = () => {\r\n    setPageOffset((prevState) => 0);\r\n  };\r\n  const handleFilterChange = (filterParam, reset = false) => {\r\n    if (!reset) {\r\n      let keys_to_delete = filterParam.delete;\r\n      let _new = { ...searchParams, ...filterParam };\r\n      if (keys_to_delete) keys_to_delete.forEach((key) => delete _new[key]);\r\n      filterParam.delete;\r\n      delete _new.delete;\r\n      setSearchParams({ ..._new });\r\n    } else {\r\n      setSearchParams({ ...initialStates.searchParams });\r\n    }\r\n\r\n  };\r\n\r\n  const handleSort = useCallback((args) => {\r\n    if (args.length === 0) return;\r\n    setSortParams(args);\r\n  }, []);\r\n\r\n  const handlePageSizeChange = (e) => {\r\n    setPageSize(Number(e.target.value));\r\n  };\r\n\r\n  const getSearchFields = () => {\r\n    return [\r\n      // {\r\n      //   label: t(\"CR_SERVICE_CATEGORY_LABEL\"),\r\n      //   name: \"service\",\r\n      // },\r\n      {\r\n        label: t(\"CR_CONSUMER_NO_LABEL\"),\r\n        name: \"consumerCodes\",\r\n      },\r\n      {\r\n        label: t(\"CR_RECEPIT_NO_LABEL\"),\r\n        name: \"receiptNumbers\",\r\n      },\r\n      {\r\n        label: t(\"CR_MOBILE_NO_LABEL\"),\r\n        name: \"mobileNumber\",\r\n        maxlength: 10,\r\n        pattern: \"[6-9][0-9]{9}\",\r\n        title: t(\"ES_SEARCH_APPLICATION_MOBILE_INVALID\"),\r\n        componentInFront: \"+91\",\r\n      },\r\n    ];\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Loader />;\r\n  }\r\n\r\n  if (data?.length !== null) {\r\n    if (isMobile) {\r\n      return (\r\n        <ReceiptsMobileInbox\r\n          businessService={businessService}\r\n          data={data}\r\n          tableConfig={rest?.tableConfig}\r\n          isLoading={hookLoading}\r\n          defaultSearchParams={initialStates.searchParams}\r\n          isSearch={!isInbox}\r\n          onFilterChange={handleFilterChange}\r\n          searchFields={getSearchFields()}\r\n          onSearch={handleFilterChange}\r\n          onSort={handleSort}\r\n          onNextPage={fetchNextPage}\r\n          onPrevPage={fetchPrevPage}\r\n          currentPage={Math.floor(pageOffset / pageSize)}\r\n          pageSizeLimit={pageSize}\r\n          disableSort={false}\r\n          onPageSizeChange={handlePageSizeChange}\r\n          parentRoute={parentRoute}\r\n          searchParams={searchParams}\r\n          sortParams={sortParams}\r\n          totalRecords={totalRecords}\r\n          linkPrefix={'/digit-ui/employee/receipts/details/'}\r\n          filterComponent={filterComponent}\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          {isInbox && <Header>{t(\"CR_SEARCH_COMMON_HEADER\")}</Header>}\r\n          <ReceiptsDesktopInbox\r\n            businessService={businessService}\r\n            data={data}\r\n            isLoading={hookLoading}\r\n            defaultSearchParams={initialStates.searchParams}\r\n            isSearch={!isInbox}\r\n            onFilterChange={handleFilterChange}\r\n            searchFields={getSearchFields()}\r\n            onSearch={handleFilterChange}\r\n            onSort={handleSort}\r\n            onNextPage={fetchNextPage}\r\n            onPrevPage={fetchPrevPage}\r\n            onLastPage={fetchLastPage}\r\n            onFirstPage={fetchFirstPage}\r\n            currentPage={Math.floor(pageOffset / pageSize)}\r\n            pageSizeLimit={pageSize}\r\n            disableSort={false}\r\n            onPageSizeChange={handlePageSizeChange}\r\n            parentRoute={parentRoute}\r\n            searchParams={searchParams}\r\n            sortParams={sortParams}\r\n            totalRecords={totalRecords}\r\n            filterComponent={filterComponent}\r\n          />\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n};\r\n\r\nexport default ReceiptInbox;\r\n","import { EmployeeModuleCard, ReceiptIcon } from \"@egovernments/digit-ui-react-components\";\r\nimport React from \"react\";\r\nimport { useTranslation } from \"react-i18next\";\r\nimport { getDefaultReceiptService } from \"./utils\";\r\n\r\nconst ReceiptsCard = () => {\r\n  if (!Digit.Utils.receiptsAccess()) {\r\n    return null;\r\n  }\r\n  const tenantId = Digit.ULBService.getCurrentTenantId();\r\n  const { t } = useTranslation();\r\n  const searchParams = {\r\n    tenantId: tenantId,\r\n    businessServices: getDefaultReceiptService(),\r\n    isCountRequest: true\r\n  };\r\n  const { isLoading, isError, error, data, ...rest } = Digit.Hooks.receipts.useReceiptsSearch(searchParams, tenantId, [], false);\r\n\r\n  const  propsForModuleCard  = {\r\n    Icon: <ReceiptIcon />,\r\n    moduleName: t(\"ACTION_TEST_RECEIPTS\"),\r\n    kpis: [\r\n      {\r\n        count: isLoading ? \"-\" : data?.Count,\r\n        label: t(\"CR_TOTAL_RECEIPTS\"),\r\n        link: `/digit-ui/employee/receipts/inbox`\r\n      },\r\n    ],\r\n    links: [\r\n      {\r\n        count: isLoading ? \"-\" : data?.Count,\r\n        label: t(\"CR_SEARCH_COMMON_HEADER\"),\r\n        link: `/digit-ui/employee/receipts/inbox`\r\n      }\r\n    ]\r\n  }\r\n  return <EmployeeModuleCard {...propsForModuleCard} />\r\n};\r\n\r\nexport default ReceiptsCard;\r\n\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\nimport Banner from \"./components/Banner\";\r\nimport ActionModal from \"./components/Modal\";\r\nimport ReceiptsFilter from \"./components/ReceiptsFilter\";\r\nimport EmployeeApp from \"./pages\";\r\nimport ReceiptAcknowledgement from \"./pages/ReceiptAcknowledgement\";\r\nimport ReceiptDetails from \"./pages/ReceiptDetails\";\r\nimport ReceiptInbox from \"./pages/ReceiptInbox\";\r\nimport ReceiptsCard from \"./receiptHomeCard\";\r\n\r\nexport const ReceiptsModule = ({ stateCode, userType }) => {\r\n  const moduleCode = \"RECEIPTS\";\r\n  const state = useSelector((state) => state);\r\n  const language = state?.common?.selectedLanguage;\r\n  const { isLoading, data: store } = Digit.Services.useStore({ stateCode, moduleCode, language });\r\n  const { path, url } = useRouteMatch();\r\n  if (userType === \"employee\") {\r\n    return <EmployeeApp path={path} url={url} userType={\"employee\"} />;\r\n  } else return null;\r\n};\r\n\r\nconst componentsToRegister = {\r\n  ReceiptsModule,\r\n  ReceiptsCard,\r\n  ReceiptInbox: ReceiptInbox,\r\n  ReceiptAcknowledgement: ReceiptAcknowledgement,\r\n  ReceiptDetails: ReceiptDetails,\r\n  ActionModal,\r\n  Banner,\r\n  RECEIPTS_INBOX_FILTER: (props) => <ReceiptsFilter {...props} />,\r\n};\r\n\r\nexport const initReceiptsComponents = () => {\r\n  Object.entries(componentsToRegister).forEach(([key, value]) => {\r\n    Digit.ComponentRegistryService.setComponent(key, value);\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}